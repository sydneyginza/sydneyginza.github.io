document.querySelector('link[href*="styles.min"]').media="all";const LANG_DICT={en:{"page.title":"GINZA EMPIRE","page.titlelower":"Ginza Empire","page.roster":"Roster","page.girls":"Girls","page.rates":"Rates","page.employment":"Employment","page.favorites":"Favorites","nav.home":"Home","nav.roster":"Roster","nav.girls":"Girls","nav.favorites":"Favorites","nav.rates":"Rates","nav.employment":"Employment","bnav.home":"Home","bnav.roster":"Roster","bnav.girls":"Browse","bnav.favs":"Favs","home.tagline":"Sydney's Premier Experience","home.announcement":"Announcement","home.newGirls":"New Girls","home.location":"Location","home.hours":"Hours","home.announceDefault":"Discover our exclusive selection of stunning girls. Each profile is carefully curated to ensure the highest quality experience. Browse our roster to find your perfect match.","home.welcomeTitle":"Welcome to Sydney's Premier Asian Bordello","home.welcomeP1":"Our approved venue has been renovated with your comfort and pleasure in mind. The luxuriously appointed themed rooms are the perfect place for gentlemen to lose themselves for an hour or few. Each room has a shower, climate control system and audio visual setup, plus a theme of its own.","home.welcomeP2":"You are invited to rule your empire from the Japanese Emperor's Palace. Perhaps the Regal French style suite conveys how you want to express yourself this time. Control the Dynasty from the ancient Chinese Palace, or re-live the era debauchery was taken to a new level in the Roman Empire style bedroom. Serenity and tranquillity ooze like lava in the room, is this where you will enlarge and enrich your Zen? No-one does passion or fashion the way the Italians do, so the Mediterranean room may be the place to let your creative juices flow.","home.welcomeP3":"278 Club's main attraction are the gorgeous ladies whose sole aim is to please their man. At 278 Club you will comeacross beauties from all parts of Asia. Headlining the offering is Sydney's most desirable collection of genuine youthful Japanese girls. Gentlemen will experience the ultimate Japanese style GFE & PSE. It doesn't stop there, feel free to enjoy young seductresses from Thailand, China, Singapore, Malaysia and Korea. All of our supple sexual artists offer an exotic full service. Each erotic session is an experience unto itself because the girls are unique individuals who give with pleasure and pleasure with giving. There is no standard, regular, by the numbers encounter at 278 Club, in fact we can't even spell clynical.","home.welcomeP4":"Nowhere in Sydney, probably Australia, or perhaps the world will you find luxurious comfortable and clean rooms wheregirls the calibre of those at 278 Club , will provide unforgettable service at such amazing competitive prices.","home.locationHtml":"310 Cleveland St Surry Hills NSW 2010<br>(back entrance from goodlet lane)","home.hoursText":"Monday to Sunday open from 10:30am till 1am.","field.age":"Age","field.body":"Body Size","field.height":"Height","field.cup":"Cup Size","field.rates30":"Rates 30 mins","field.rates45":"Rates 45 mins","field.rates60":"Rates 60 mins","field.experience":"Experience","field.language":"Language","field.type":"Type","field.description":"Description","field.special":"Special Requests","field.labels":"Labels","field.email":"Email","field.mobile":"Mobile","field.photocount":"(0 / 10)","avail.now":"Available Now","avail.today":"Available Today","avail.laterToday":"Available Later Today","avail.coming":"Coming","avail.lastSeen":"Last seen","avail.finished":"Finished for the Day","avail.endsIn":"Ends in {t}","avail.startsIn":"Starts in {t}","ui.back":"Back","ui.share":"Share","ui.addFav":"Add to Favorites","ui.favorited":"Favorited","ui.edit":"Edit Profile","ui.delete":"Delete","ui.compare":"Compare","ui.linkCopied":"Link copied!","ui.alsoAvail":"Also Available Today","ui.myProfile":"My Profile","ui.newPassword":"New Password","ui.confirmPassword":"Confirm Password","ui.emailRequired":"Email is required.","ui.passwordMismatch":"Passwords do not match.","ui.profileSaved":"Profile updated.","ui.leaveBlank":"Leave blank to keep current","ui.signUp":"Sign Up","ui.signIn":"Sign In","ui.createAccount":"Create Account","ui.noAccount":"Don't have an account?","ui.haveAccount":"Already have an account?","ui.usernameTaken":"Username already taken.","ui.emailTaken":"Email already in use.","ui.mobileTaken":"Mobile number already in use.","ui.usernameRequired":"Username is required.","ui.passwordRequired":"Password is required.","ui.accountCreated":"Account created.","ui.favAvailOne":"A favourited girl is available today! Check your email.","ui.favAvailMany":"{count} favourited girls are available today! Check your email.","ui.cancel":"Cancel","ui.filters":"Filters","ui.filtersActive":"Filters ({n})","review.title":"Reviews","review.write":"Write a Review","review.edit":"Edit","review.delete":"Delete","review.signin":"{link} to leave a review","review.noReviews":"No reviews yet. Be the first!","review.ratingRequired":"Please select a rating.","review.submitted":"Review submitted.","review.updated":"Review updated.","review.deleted":"Review deleted.","review.confirmDelete":"Delete this review?","review.placeholder":"Share your experience...","ui.hideGirl":"Hide profile","ui.showGirl":"Show profile","ui.girlHidden":"Profile hidden from members.","ui.girlVisible":"Profile visible to all.","ui.favEmpty":"No favorites yet. Tap the heart on any profile to save it here.","ui.favBrowse":"Browse Girls","ui.noResults":"No girls match your filters.","ui.clearFilters":"Clear Filters","ui.type":"(select one or more)","ui.select":"(type and press Enter)","ui.confirm":"Are you sure?","ui.retry":"Retry","ui.retrying":"Retrying...","ui.loadFailed":"Unable to load data. Please check your connection and try again.","ui.offline":"You are offline","ui.backOnline":"Back online","ui.pushEnable":"Notify Me","ui.pushDisable":"Notifications On","ui.pushOn":"Push notifications enabled!","ui.pushOff":"Push notifications disabled.","ui.pushDenied":"Notification permission denied.","ui.search":"Search by name...","ph.name":"Name...","ph.age":"e.g. 23","ph.body":"e.g. 6","ph.height":"e.g. 162","ph.cup":"e.g. B-C","ph.rate1":"e.g. 100","ph.rate2":"e.g. 200","ph.rate3":"e.g. 300","ph.special":"e.g. No special requests","ph.language":"e.g. Japanese, English","ph.type":"e.g. Very young, small, cute, innocent...","ph.description":"e.g. Description...","ph.label":"Type a label and press Enter...","filter.availNow":"Available Now","filter.availToday":"Available Today","privacy.title":"Privacy Notice","privacy.body":"We collect anonymous visit data to understand visitor trends. No personal information is collected or shared.","privacy.btn":"Got It","footer.rights":"Ginza Empire © 2026 — All Rights Reserved","footer.privacy":"This site uses anonymous analytics to understand visitor trends. No personal information is collected or shared with third parties.","ui.backToTop":"Back to Top","compare.selected":"selected","compare.clear":"Clear","compare.open":"Compare","compare.done":"Close","rv.title":"Recently Viewed","rv.clear":"Clear","sim.title":"Girls Like Her","emp.contacts":"Contacts","emp.addressHtml":'Mobile: <a href="tel:+61452572588">0452 572 588</a> (EMPLOYMENT Only)<br>Kakao talk: gloria8512 (한국어)<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="03646a6d7962606f766130323343646e626a6f2d606c6e">[email&#160;protected]</a><br>Line ID: kanako254(日本語)<br>Yuki <a href="tel:+61452572588">0452 572 588</a><br>KakaoTalk: summer190<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f0fef9edf6f4fbe2f5a4a6a7d7f0faf6fefbb9f4f8fa">[email&#160;protected]</a> (Employment only)',"nav.calendar":"Calendar","nav.analytics":"Analytics","nav.profileDb":"Profile Database","nav.menu":"Menu","ui.admin":"Admin","pdb.username":"Username","pdb.role":"Role","pdb.roleUpdated":"Role updated.","pdb.saveFailed":"Failed to save.","pdb.cannotDemoteSelf":"Cannot change your own role.","pdb.searchPlaceholder":"Search username, email, mobile...","pdb.allRoles":"All Roles","pdb.noResults":"No users found.","pdb.deleteUser":"Delete user","pdb.confirmDelete":"Delete user {user}? This cannot be undone.","pdb.userDeleted":"User deleted.","sort.name":"Name","sort.dateAdded":"Date Added","sort.age":"Age","sort.size":"Size","sort.height":"Height","sort.cup":"Cup","sort.lastSeen":"Last Seen","ui.today":"Today","date.sun":"Sun","date.mon":"Mon","date.tue":"Tue","date.wed":"Wed","date.thu":"Thu","date.fri":"Fri","date.sat":"Sat","date.jan":"Jan","date.feb":"Feb","date.mar":"Mar","date.apr":"Apr","date.may":"May","date.jun":"Jun","date.jul":"Jul","date.aug":"Aug","date.sep":"Sep","date.oct":"Oct","date.nov":"Nov","date.dec":"Dec","ui.girlsAvailNow":"{n} girls available now","ui.girlsAvailToday":"{n} girls available today","ui.girlsAvailLater":"{n} girls available later today","ui.noGirlsWeek":"No girls available this week","ui.noGirlsDate":"No girls available for this date","fp.search":"Search","fp.country":"Country","fp.age":"Age","fp.bodySize":"Body Size","fp.height":"Height (cm)","fp.cupSize":"Cup Size","fp.rates30":"Rates 30 mins","fp.rates45":"Rates 45 mins","fp.rates60":"Rates 60 mins","fp.experience":"Experience","fp.rating":"Rating","fp.labels":"Labels","fp.clearAll":"Clear All Filters","fp.rangeSep":"to","cal.profile":"Profile","cal.allWeek":"All Week","cal.clear":"Clear","cal.copyTimesTitle":"Copy Times?","cal.setNewTime":"Set New Time","cal.copyTimesBtn":"Copy Times","cal.copyDayTitle":"Copy Day Schedule","cal.copyDaySub":"Duplicate an entire day's roster to other days","cal.sourceDay":"Source Day","cal.copyTo":"Copy To","cal.overwrite":"Overwrite existing entries on target days","cal.copyDayBtn":"Copy Schedule","cal.bulkTimeSub":"Set availability for multiple days","cal.days":"Days","cal.startTime":"Start Time","cal.endTime":"End Time","cal.apply":"Apply","cal.all":"All","cal.noScheduled":"No girls scheduled on this day","ui.addGirl":"Add Girl","form.addGirl":"Add New Girl","form.editGirl":"Edit Profile","form.name":"Name","form.startDate":"Start Date","form.photos":"Photos","form.cancel":"Cancel","form.save":"Save","form.delete":"Delete","form.confirmDelete":"Confirm Delete","form.expSelect":"Select experience","exp.experienced":"Experienced","exp.inexperienced":"Inexperienced","an.days":" Days","an.loading":"Loading visitor data...","an.uniqueVisitors":"Unique Visitors","an.sessions":"Sessions","an.totalPageViews":"Total Page Views","an.totalProfileViews":"Total Profile Views","an.topProfiles":"Top Profiles","an.topHint":"(most viewed this period)","an.uniqueCount":"{n} unique","an.dailyVisitors":"Daily Visitors","an.dailyHint":"(hits vs uniques)","an.noLogs":"No visitor logs found for this period","an.legendHits":"Hits","an.legendUniques":"Uniques","an.peakHours":"Peak Hours Heatmap","an.peakHint":"(AEDT, day × hour)","an.visitCount":"{n} visits","an.pageViews":"Page Views","an.pvHint":"(total / unique visitors)","an.noPV":"No page views recorded yet","an.mostProfiles":"Most Viewed Profiles","an.pfHint":"(total / unique)","an.noPF":"No profile views recorded yet","an.browsers":"Browsers","an.os":"Operating Systems","an.devices":"Devices","an.languages":"System Language","an.siteLanguages":"Website Language","an.timezones":"Timezones","an.referrers":"Referrers","an.noData":"No data","an.recentVisitors":"Recent Unique Visitors","an.recentHint":"(last 20, per day)","an.tableDate":"Date","an.tableBrowser":"Browser","an.tableOS":"OS","an.tableDevice":"Device","an.tableLang":"Sys Lang","an.tableSiteLang":"Site Lang","an.tableTZ":"Timezone","an.export":"Export Visitor Logs","an.refresh":"Refresh","an.exported":"Visitor logs exported","an.phoneTaps":"Phone Taps","an.filterUses":"Filter Uses","an.conversion":"Conversion","an.conversionHint":"(phone taps / unique visitors)","an.convRate":"Conversion Rate","an.uniqueTappers":"Unique Tappers","an.filterPatterns":"Filter Usage Patterns","an.filterHint":"(which filters visitors use most)","an.noFilters":"No filter usage recorded","an.noTaps":"No phone taps recorded","rates.intro":"Below are the indicative rates charged by the ladies for providing you with their full adult service (inclusive of our flat room hire rates charged by us to the ladies). However, you must negotiate the lady’s payment directly with her. The guide below were provided by the ladies.","rates.legal":"We are a legal Sydney Brothel and safe sex practices must be adhered to. For our service of providing superior private rooms and facilities, we charge the ladies (service providers) a flat room hiring rate as below:","rates.roomTitle":"Room Hire Rates","rates.room30":"30 Minutes $30","rates.room45":"45 Minutes $45","rates.room60":"60 Minutes $60","rates.roomOver":"Over 60 Minutes Negotiable","rates.disclaimer":"All our ladies are INDEPENDENT service providers, they will charge you according to the level of services they provide to you. All services that you would like should be discussed directly with them.","table.rates":"Rates","table.priceRange":"Price Range","emp.jobTitle":"GINZA EMPIRE — JOB OPPORTUNITIES","emp.tagline":"Earn $1,500–3,000+ per shift in a safe, clean, and professional environment. All nationalities welcome — no experience necessary.","emp.h2Env":"① Store Environment & Clientele","emp.p1Env":"Our venue is fully licensed and recently renovated to the highest standard. Each room has its own private en-suite, climate control, and AV system. A professional cleaning team attends weekly — our environment is always spotless.","emp.p2Env":"Our clients are well-mannered, affluent professionals — primarily Asian businessmen and corporate guests. We are selective about who we accept; your safety and comfort come first. No rough clients, ever.","emp.p3Env":"No English required. No prior experience required. Your privacy is 100% guaranteed.","emp.h2Work":"② Work Conditions","emp.p1Work":"Choose your own hours — work as many or as few days as you like. Short-term and long-term arrangements both welcome. Shifts can be as short as 5–6 hours.","emp.p2Work":"Each girl has her own private room. You will not cross paths with other girls. Your work is completely confidential — no one will find out.","emp.p3Work":"Pay is cash in hand after every shift. AV/talent/model experience earns premium rates: $300–1,000+ per hour. With 5–6 hours a day, 4 days a week, top earners take home $16,000+ per week.","emp.h2Health":"③ Health & Safety","emp.p1Health":"Safe sex practices are mandatory. Regular free health checks are available at a nearby clinic — all girls attend routinely. Days off for personal reasons are always accommodated. Your wellbeing is our priority.","emp.p2Health":"A trial shift is available — same pay, no obligations. If it's not for you, you can walk away at any time.","emp.h2Contact":"Contact Us","emp.p1Contact":"Reach out on any of the platforms below. All enquiries are 100% confidential."},ja:{"page.title":"GINZA EMPIRE","page.titlelower":"Ginza Empire","page.roster":"ロースター","page.girls":"女の子","page.rates":"料金","page.employment":"求人","page.favorites":"お気に入り","nav.home":"ホーム","nav.roster":"ロースター","nav.girls":"女の子","nav.favorites":"お気に入り","nav.rates":"料金","nav.employment":"求人","bnav.home":"ホーム","bnav.roster":"ロースター","bnav.girls":"一覧","bnav.favs":"お気に入り","home.tagline":"シドニー最高のエクスペリエンス","home.announcement":"お知らせ","home.newGirls":"新しい女の子","home.location":"場所","home.hours":"営業時間","home.announceDefault":"厳選された魅力的な女性をお楽しみください。各プロフィールは最高品質の体験をご提供するために丁寧に選ばれています。理想の女性を見つけるためにロースターをご覧ください。","home.welcomeTitle":"シドニー最高のアジア系ボルデロへようこそ","home.welcomeP1":"当施設は認可を受けており、お客様の快適さと喜びを念頭に置いてリノベーションされました。豪華にしつらえたテーマルームは、紳士の方々が数時間、日常を忘れるのに最適な場所です。各部屋にはシャワー、空調システム、AV設備が整っており、それぞれ独自のテーマを持っています。","home.welcomeP2":"日本の天皇の宮殿から帝国を支配するようにご招待します。今回はフランス王室風スイートで自分を表現したいかもしれません。古代中国の宮殿から王朝を支配するか、ローマ帝国スタイルのベッドルームで放蕩が新たな次元に達した時代を再体験してください。この部屋では溶岩のように静寂と安らぎが漂います。ここがあなたの禅を深め豊かにする場所でしょうか？情熱とファッションにはイタリア人の右に出る者はいませんので、地中海スタイルの部屋があなたの創造力を解き放つ場所かもしれません。","home.welcomeP3":"278クラブの最大の魅力は、ただひたすら男性を喜ばせることを目指す魅力的な女性たちです。278クラブではアジア各地から集まった美女たちに出会えます。その中でも特に注目なのは、シドニー最高の本物の若々しい日本人女性のコレクションです。紳士の皆様は究極の日本スタイルGFE＆PSEを体験できます。それだけではありません。タイ、中国、シンガポール、マレーシア、韓国出身の若き魅惑の女性たちともお楽しみいただけます。しなやかな私たちのアーティストたちは皆、エキゾチックなフルサービスを提供します。各エロティックなセッションはそれ自体が唯一無二の体験です。なぜなら女性たちは喜んで与え、与えることに喜びを感じるユニークな個人だからです。278クラブではありきたりで型通りの出会いはありません。実際、「クリニカル」という言葉は存在しません。","home.welcomeP4":"シドニーで、おそらくオーストラリアで、あるいは世界のどこを探しても、278クラブの女性たちほどのレベルの女性が、これほど驚くほど競争力のある価格で忘れられないサービスを提供する、豪華で快適かつ清潔な部屋は見つからないでしょう。","home.locationHtml":"310 Cleveland St Surry Hills NSW 2010<br>（Goodlet Laneの裏口から入ります）","home.hoursText":"月〜日：午前10時30分〜午前1時営業。","field.age":"年齢","field.body":"体型","field.height":"身長","field.cup":"カップサイズ","field.rates30":"30分料金","field.rates45":"45分料金","field.rates60":"60分料金","field.experience":"経験","field.language":"言語","field.type":"タイプ","field.description":"説明","field.special":"スペシャルリクエスト","field.labels":"ラベル","field.email":"メール","field.mobile":"携帯電話","field.photocount":"(0 / 10)","avail.now":"今すぐ利用可能","avail.today":"本日利用可能","avail.laterToday":"本日後ほど利用可能","avail.coming":"間もなく","avail.lastSeen":"最終確認","avail.finished":"本日の営業終了","avail.endsIn":"あと{t}で終了","avail.startsIn":"{t}後に開始","ui.back":"戻る","ui.share":"共有","ui.addFav":"お気に入りに追加","ui.favorited":"お気に入り済み","ui.edit":"プロフィールを編集","ui.delete":"削除","ui.compare":"比較","ui.linkCopied":"リンクをコピーしました！","ui.alsoAvail":"本日も利用可能","ui.myProfile":"マイプロフィール","ui.newPassword":"新しいパスワード","ui.confirmPassword":"パスワード確認","ui.emailRequired":"メールアドレスは必須です。","ui.passwordMismatch":"パスワードが一致しません。","ui.profileSaved":"プロフィールを更新しました。","ui.leaveBlank":"変更しない場合は空欄のまま","ui.signUp":"新規登録","ui.signIn":"ログイン","ui.createAccount":"アカウント作成","ui.noAccount":"アカウントをお持ちでないですか？","ui.haveAccount":"すでにアカウントをお持ちですか？","ui.usernameTaken":"このユーザー名は既に使用されています。","ui.emailTaken":"このメールアドレスは既に使用されています。","ui.mobileTaken":"この電話番号は既に使用されています。","ui.usernameRequired":"ユーザー名は必須です。","ui.passwordRequired":"パスワードは必須です。","ui.accountCreated":"アカウントが作成されました。","ui.favAvailOne":"お気に入りの女の子が本日出勤しています！メールをご確認ください。","ui.favAvailMany":"{count}人のお気に入りの女の子が本日出勤しています！メールをご確認ください。","ui.cancel":"キャンセル","ui.filters":"フィルター","ui.filtersActive":"フィルター({n}件)","review.title":"レビュー","review.write":"レビューを書く","review.edit":"編集","review.delete":"削除","review.signin":"{link}してレビューを投稿","review.noReviews":"レビューはまだありません。最初のレビューを！","review.ratingRequired":"評価を選択してください。","review.submitted":"レビューが投稿されました。","review.updated":"レビューが更新されました。","review.deleted":"レビューが削除されました。","review.confirmDelete":"このレビューを削除しますか？","review.placeholder":"体験を共有してください...","ui.hideGirl":"プロフィールを非表示","ui.showGirl":"プロフィールを表示","ui.girlHidden":"メンバーからプロフィールを非表示にしました。","ui.girlVisible":"プロフィールを全員に表示しました。","ui.favEmpty":"お気に入りがまだありません。プロフィールのハートをタップして保存しましょう。","ui.favBrowse":"女の子を見る","ui.noResults":"条件に合う女の子がいません。","ui.clearFilters":"フィルターをクリア","ui.type":"（1つ以上選択）","ui.select":"（入力してEnterキーを押す）","ui.confirm":"よろしいですか？","ui.retry":"再試行","ui.retrying":"再試行中...","ui.loadFailed":"データを読み込めませんでした。接続を確認して再試行してください。","ui.offline":"オフラインです","ui.backOnline":"オンラインに戻りました","ui.pushEnable":"通知を受け取る","ui.pushDisable":"通知オン","ui.pushOn":"プッシュ通知が有効になりました！","ui.pushOff":"プッシュ通知が無効になりました。","ui.pushDenied":"通知の許可が拒否されました。","ui.search":"名前で検索...","ph.name":"名前...","ph.age":"例：23","ph.body":"例：6","ph.height":"例：162","ph.cup":"例：B-C","ph.rate1":"例：100","ph.rate2":"例：200","ph.rate3":"例：300","ph.special":"例：スペシャルリクエストなし","ph.language":"例：日本語、英語","ph.type":"例：とても若く、小柄で、可愛くて、無邪気...","ph.description":"例：説明...","ph.label":"ラベルを入力してEnterキーを押す...","filter.availNow":"今すぐ利用可能","filter.availToday":"本日利用可能","privacy.title":"プライバシーポリシー","privacy.body":"訪問者の傾向を把握するために匿名の訪問データを収集しています。個人情報は収集・共有されません。","privacy.btn":"了解","footer.rights":"Ginza Empire © 2026 — All Rights Reserved","footer.privacy":"当サイトは訪問者の傾向を把握するため匿名のアナリティクスを使用しています。個人情報は収集・第三者に共有されません。","ui.backToTop":"トップへ戻る","compare.selected":"選択済み","compare.clear":"クリア","compare.open":"比較","compare.done":"閉じる","rv.title":"最近閲覧した女の子","rv.clear":"クリア","sim.title":"似ている女の子","emp.contacts":"連絡先","emp.addressHtml":'Mobile: <a href="tel:+61452572588">0452 572 588</a> (EMPLOYMENT Only)<br>Kakao talk: gloria8512 (한국어)<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="03646a6d7962606f766130323343646e626a6f2d606c6e">[email&#160;protected]</a><br>Line ID: kanako254(日本語)<br>Yuki <a href="tel:+61452572588">0452 572 588</a><br>KakaoTalk: summer190<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f0fef9edf6f4fbe2f5a4a6a7d7f0faf6fefbb9f4f8fa">[email&#160;protected]</a> (Employment only)',"nav.calendar":"カレンダー","nav.analytics":"アナリティクス","nav.profileDb":"プロフィールDB","nav.menu":"メニュー","ui.admin":"管理","pdb.username":"ユーザー名","pdb.role":"役割","pdb.roleUpdated":"役割が更新されました。","pdb.saveFailed":"保存に失敗しました。","pdb.cannotDemoteSelf":"自分の役割は変更できません。","pdb.searchPlaceholder":"ユーザー名、メール、電話で検索...","pdb.allRoles":"全ての役割","pdb.noResults":"ユーザーが見つかりません。","pdb.deleteUser":"ユーザーを削除","pdb.confirmDelete":"ユーザー {user} を削除しますか？元に戻せません。","pdb.userDeleted":"ユーザーが削除されました。","sort.name":"名前","sort.dateAdded":"追加日","sort.age":"年齢","sort.size":"サイズ","sort.height":"身長","sort.cup":"カップ","sort.lastSeen":"最終確認","ui.today":"今日","date.sun":"日","date.mon":"月","date.tue":"火","date.wed":"水","date.thu":"木","date.fri":"金","date.sat":"土","date.jan":"1月","date.feb":"2月","date.mar":"3月","date.apr":"4月","date.may":"5月","date.jun":"6月","date.jul":"7月","date.aug":"8月","date.sep":"9月","date.oct":"10月","date.nov":"11月","date.dec":"12月","ui.girlsAvailNow":"{n}人の女の子が今すぐ利用可能","ui.girlsAvailToday":"{n}人の女の子が本日利用可能","ui.girlsAvailLater":"{n}人の女の子が本日後ほど利用可能","ui.noGirlsWeek":"今週は予約可能な女の子がいません","ui.noGirlsDate":"この日付に予約可能な女の子がいません","fp.search":"検索","fp.country":"国籍","fp.age":"年齢","fp.bodySize":"体型","fp.height":"身長 (cm)","fp.cupSize":"カップサイズ","fp.rates30":"30分料金","fp.rates45":"45分料金","fp.rates60":"60分料金","fp.experience":"経験","fp.rating":"評価","fp.labels":"ラベル","fp.clearAll":"すべてのフィルターをクリア","fp.rangeSep":"〜","cal.profile":"プロフィール","cal.allWeek":"全週","cal.clear":"クリア","cal.copyTimesTitle":"時間をコピーしますか？","cal.setNewTime":"新しい時間を設定","cal.copyTimesBtn":"時間をコピー","cal.copyDayTitle":"日程スケジュールをコピー","cal.copyDaySub":"1日のロースター全体を他の日にコピー","cal.sourceDay":"元の日","cal.copyTo":"コピー先","cal.overwrite":"対象日の既存エントリーを上書き","cal.copyDayBtn":"スケジュールをコピー","cal.bulkTimeSub":"複数日の利用可能時間を設定","cal.days":"日数","cal.startTime":"開始時間","cal.endTime":"終了時間","cal.apply":"適用","cal.all":"全て","cal.noScheduled":"この日にスケジュールされた女の子はいません","ui.addGirl":"女の子を追加","form.addGirl":"新しい女の子を追加","form.editGirl":"プロフィールを編集","form.name":"名前","form.startDate":"開始日","form.photos":"写真","form.cancel":"キャンセル","form.save":"保存","form.delete":"削除","form.confirmDelete":"削除を確認","form.expSelect":"経験を選択","exp.experienced":"経験あり","exp.inexperienced":"経験なし","an.days":"日間","an.loading":"訪問者データを読み込み中...","an.uniqueVisitors":"ユニーク訪問者","an.sessions":"セッション","an.totalPageViews":"総ページビュー","an.totalProfileViews":"総プロフィールビュー","an.topProfiles":"トッププロフィール","an.topHint":"（この期間で最も閲覧された）","an.uniqueCount":"{n} ユニーク","an.dailyVisitors":"日別訪問者","an.dailyHint":"（ヒット数 vs ユニーク数）","an.noLogs":"この期間の訪問者ログがありません","an.legendHits":"ヒット","an.legendUniques":"ユニーク","an.peakHours":"ピーク時間ヒートマップ","an.peakHint":"（AEDT、曜日×時間）","an.visitCount":"{n} 訪問","an.pageViews":"ページビュー","an.pvHint":"（合計 / ユニーク訪問者）","an.noPV":"ページビューの記録なし","an.mostProfiles":"最も閲覧されたプロフィール","an.pfHint":"（合計 / ユニーク）","an.noPF":"プロフィールビューの記録なし","an.browsers":"ブラウザ","an.os":"オペレーティングシステム","an.devices":"デバイス","an.languages":"システム言語","an.siteLanguages":"サイト言語","an.timezones":"タイムゾーン","an.referrers":"リファラー","an.noData":"データなし","an.recentVisitors":"最近のユニーク訪問者","an.recentHint":"（最新20件、日別）","an.tableDate":"日付","an.tableBrowser":"ブラウザ","an.tableOS":"OS","an.tableDevice":"デバイス","an.tableLang":"Sys言語","an.tableSiteLang":"サイト言語","an.tableTZ":"タイムゾーン","an.export":"訪問者ログをエクスポート","an.refresh":"更新","an.exported":"訪問者ログをエクスポートしました","an.phoneTaps":"電話タップ","an.filterUses":"フィルター使用","an.conversion":"コンバージョン","an.conversionHint":"(電話タップ / ユニーク訪問者)","an.convRate":"コンバージョン率","an.uniqueTappers":"ユニークタッパー","an.filterPatterns":"フィルター使用パターン","an.filterHint":"(訪問者が最も使用するフィルター)","an.noFilters":"フィルター使用記録なし","an.noTaps":"電話タップ記録なし","rates.intro":"以下は女性が提供するアダルトサービスの目安料金です（当社から女性に請求するフラットルーム使用料を含む）。ただし、女性への支払いは直接本人と交渉してください。以下のガイドは女性たちから提供されたものです。","rates.legal":"当施設はシドニーの合法的なブロテルです。安全なセックスの実践が必要です。優れたプライベートルームと設備を提供するサービスとして、女性（サービスプロバイダー）に以下のフラットルーム使用料を請求します：","rates.roomTitle":"ルーム使用料","rates.room30":"30分 $30","rates.room45":"45分 $45","rates.room60":"60分 $60","rates.roomOver":"60分以上 要相談","rates.disclaimer":"当社の女性はすべてINDEPENDENTサービスプロバイダーです。提供するサービスのレベルに応じて料金が異なります。ご希望のサービスはすべて直接女性と相談してください。","table.rates":"料金","table.priceRange":"価格帯","emp.jobTitle":"GINZA EMPIRE — 求人情報","emp.tagline":"安全・清潔・プロフェッショナルな環境で1シフト$1,500〜$3,000以上。全国籍歓迎・経験不問。","emp.h2Env":"① 店舗環境とお客様","emp.p1Env":"当施設は完全ライセンス取得済みで、最高水準に改装されています。各部屋にはプライベートバスルーム、空調、AVシステムが完備されています。プロの清掃チームが週1回清掃しており、常に清潔な環境を維持しています。","emp.p2Env":"お客様はマナーの良い裕福なプロフェッショナルの方々で、主にアジア系のビジネスマンや企業のゲストです。お受けするお客様を厳選しており、あなたの安全と快適さを最優先にします。乱暴なお客様は一切お断りしています。","emp.p3Env":"英語不要。経験不問。プライバシーは100%保証します。","emp.h2Work":"② 勤務条件","emp.p1Work":"自分の時間を自由に選択できます。好きなだけ多く、または少なく働けます。短期・長期どちらも歓迎。シフトは5〜6時間からでも可能です。","emp.p2Work":"各女性には専用のプライベートルームがあります。他の女性と顔を合わせることはありません。お仕事は完全に秘密が守られます。誰にも知られません。","emp.p3Work":"毎シフト後に現金でお支払いします。AV・タレント・モデル経験者はプレミアム料金：時給$300〜$1,000以上。1日5〜6時間、週4日で、トップ稼ぎ手は週$16,000以上を手に入れています。","emp.h2Health":"③ 健康と安全","emp.p1Health":"安全なセックスの実践は必須です。近くのクリニックで定期的な無料健康チェックが受けられます。すべての女性が定期的に受診しています。個人的な理由での休日も常に対応します。あなたの幸福が私たちの最優先事項です。","emp.p2Health":"トライアルシフトが利用可能です。同じ給与、義務なし。合わないと感じたら、いつでも辞めることができます。","emp.h2Contact":"お問い合わせ","emp.p1Contact":"以下のプラットフォームでお問い合わせください。すべてのお問い合わせは100%秘密が守られます。"},ko:{"page.title":"GINZA EMPIRE","page.titlelower":"Ginza Empire","page.roster":"명단","page.girls":"여성","page.rates":"요금","page.employment":"채용","page.favorites":"즐겨찾기","nav.home":"홈","nav.roster":"명단","nav.girls":"여성","nav.favorites":"즐겨찾기","nav.rates":"요금","nav.employment":"채용","bnav.home":"홈","bnav.roster":"명단","bnav.girls":"둘러보기","bnav.favs":"즐겨찾기","home.tagline":"시드니 최고의 경험","home.announcement":"공지사항","home.newGirls":"신규 여성","home.location":"위치","home.hours":"영업시간","home.announceDefault":"엄선된 매력적인 여성들을 만나보세요. 각 프로필은 최고 품질의 경험을 제공하기 위해 신중하게 선정되었습니다. 이상적인 여성을 찾기 위해 명단을 둘러보세요.","home.welcomeTitle":"시드니 최고의 아시안 보르델에 오신 것을 환영합니다","home.welcomeP1":"저희 인가받은 시설은 고객님의 편안함과 즐거움을 최우선으로 고려하여 리노베이션되었습니다. 호화롭게 꾸며진 테마룸은 신사분들이 몇 시간 동안 일상을 잊기에 완벽한 공간입니다. 각 룸에는 샤워 시설, 냉난방 시스템, AV 장비가 갖춰져 있으며 각각 고유한 테마를 지니고 있습니다.","home.welcomeP2":"일본 천황의 궁전에서 제국을 통치하도록 초대받으신 것을 환영합니다. 이번에는 고풍스러운 프랑스 스타일의 스위트룸에서 자신을 표현하고 싶으실 수도 있습니다. 고대 중국 궁전에서 왕조를 지배하거나, 로마 제국 스타일 침실에서 방탕함이 새로운 수준에 도달했던 시대를 재현해 보세요. 고요함과 평온함이 용암처럼 방 안에 스며드는 이 곳, 바로 여기서 선(禪)을 넓히고 풍요롭게 하실 건가요? 열정과 패션만큼은 이탈리아인들이 최고이므로 지중해 스타일의 룸이야말로 창의력을 마음껏 발휘할 수 있는 곳일지 모릅니다.","home.welcomeP3":'278 Club의 가장 큰 매력은 오로지 남성을 만족시키는 것만을 목표로 하는 매혹적인 여성들입니다. 278 Club에서는 아시아 각지에서 모인 미녀들을 만나실 수 있습니다. 특히 주목할 것은 시드니에서 가장 인기 있는 진짜 젊고 활기찬 일본 여성들입니다. 신사분들은 궁극의 일본식 GFE & PSE를 경험하실 수 있습니다. 여기서 그치지 않습니다. 태국, 중국, 싱가포르, 말레이시아, 한국 출신의 젊은 매혹적인 여성들도 자유롭게 즐기실 수 있습니다. 저희의 모든 유연한 아티스트들은 이국적인 풀 서비스를 제공합니다. 각각의 세션은 그 자체로 하나의 특별한 경험이 됩니다. 여성들은 기쁘게 주고 주는 것에서 기쁨을 찾는 독특한 개인들이기 때문입니다. 278 Club에서는 판에 박힌 평범한 만남은 없습니다. 사실 저희에게는 "천편일률적"이라는 단어가 존재하지 않습니다.',"home.welcomeP4":"시드니에서, 아마도 호주 전체에서, 혹은 전 세계 어디를 가도 278 Club의 여성들과 같은 수준의 여성들이 이처럼 놀랍도록 경쟁력 있는 가격으로 잊을 수 없는 서비스를 제공하는 이토록 호화롭고 편안하며 청결한 룸은 찾을 수 없을 것입니다.","home.locationHtml":"310 Cleveland St Surry Hills NSW 2010<br>（Goodlet Lane 뒷문으로 입장）","home.hoursText":"월~일 오전 10시 30분 ~ 오전 1시 영업.","field.age":"나이","field.body":"체형","field.height":"키","field.cup":"컵 사이즈","field.rates30":"30분 요금","field.rates45":"45분 요금","field.rates60":"60분 요금","field.experience":"경력","field.language":"언어","field.type":"유형","field.description":"설명","field.special":"특별 요청","field.labels":"라벨","field.email":"이메일","field.mobile":"휴대전화","field.photocount":"(0 / 10)","avail.now":"지금 이용 가능","avail.today":"오늘 이용 가능","avail.laterToday":"오늘 나중에 이용 가능","avail.coming":"곧 등장","avail.lastSeen":"마지막 확인","avail.finished":"오늘 영업 종료","avail.endsIn":"{t} 후 종료","avail.startsIn":"{t} 후 시작","ui.back":"뒤로","ui.share":"공유","ui.addFav":"즐겨찾기에 추가","ui.favorited":"즐겨찾기 완료","ui.edit":"프로필 편집","ui.delete":"삭제","ui.compare":"비교","ui.linkCopied":"링크가 복사되었습니다!","ui.alsoAvail":"오늘도 이용 가능","ui.myProfile":"내 프로필","ui.newPassword":"새 비밀번호","ui.confirmPassword":"비밀번호 확인","ui.emailRequired":"이메일은 필수입니다.","ui.passwordMismatch":"비밀번호가 일치하지 않습니다.","ui.profileSaved":"프로필이 업데이트되었습니다.","ui.leaveBlank":"변경하지 않으려면 비워두세요","ui.signUp":"회원가입","ui.signIn":"로그인","ui.createAccount":"계정 만들기","ui.noAccount":"계정이 없으신가요?","ui.haveAccount":"이미 계정이 있으신가요?","ui.usernameTaken":"이미 사용 중인 사용자 이름입니다.","ui.emailTaken":"이미 사용 중인 이메일입니다.","ui.mobileTaken":"이미 사용 중인 전화번호입니다.","ui.usernameRequired":"사용자 이름은 필수입니다.","ui.passwordRequired":"비밀번호는 필수입니다.","ui.accountCreated":"계정이 생성되었습니다.","ui.favAvailOne":"즐겨찾기한 여성이 오늘 출근합니다! 이메일을 확인하세요.","ui.favAvailMany":"{count}명의 즐겨찾기한 여성이 오늘 출근합니다! 이메일을 확인하세요.","ui.cancel":"취소","ui.filters":"필터","ui.filtersActive":"필터 ({n}개 적용)","review.title":"리뷰","review.write":"리뷰 작성","review.edit":"편집","review.delete":"삭제","review.signin":"{link}하여 리뷰를 남겨주세요","review.noReviews":"아직 리뷰가 없습니다. 첫 리뷰를 남겨보세요!","review.ratingRequired":"평점을 선택해주세요.","review.submitted":"리뷰가 등록되었습니다.","review.updated":"리뷰가 수정되었습니다.","review.deleted":"리뷰가 삭제되었습니다.","review.confirmDelete":"이 리뷰를 삭제하시겠습니까?","review.placeholder":"경험을 공유해주세요...","ui.hideGirl":"프로필 숨기기","ui.showGirl":"프로필 표시","ui.girlHidden":"멤버에게 프로필이 숨겨졌습니다.","ui.girlVisible":"모든 사용자에게 프로필이 표시됩니다.","ui.favEmpty":"아직 즐겨찾기가 없습니다. 프로필의 하트를 탭하여 저장하세요.","ui.favBrowse":"여성 둘러보기","ui.noResults":"조건에 맞는 여성이 없습니다.","ui.clearFilters":"필터 초기화","ui.type":"(하나 이상 선택)","ui.select":"(입력 후 Enter 키를 누르세요)","ui.confirm":"확실하십니까?","ui.retry":"재시도","ui.retrying":"재시도 중...","ui.loadFailed":"데이터를 불러올 수 없습니다. 연결 상태를 확인하고 다시 시도해 주세요.","ui.offline":"오프라인 상태입니다","ui.backOnline":"온라인으로 돌아왔습니다","ui.pushEnable":"알림 받기","ui.pushDisable":"알림 켜짐","ui.pushOn":"푸시 알림이 활성화되었습니다!","ui.pushOff":"푸시 알림이 비활성화되었습니다.","ui.pushDenied":"알림 권한이 거부되었습니다.","ui.search":"이름으로 검색...","ph.name":"이름...","ph.age":"예: 23","ph.body":"예: 6","ph.height":"예: 162","ph.cup":"예: B-C","ph.rate1":"예: 100","ph.rate2":"예: 200","ph.rate3":"예: 300","ph.special":"예: 특별 요청 없음","ph.language":"예: 일본어, 영어","ph.type":"예: 매우 어리고, 작고, 귀엽고, 순수한...","ph.description":"예: 설명...","ph.label":"라벨을 입력하고 Enter 키를 누르세요...","filter.availNow":"지금 이용 가능","filter.availToday":"오늘 이용 가능","privacy.title":"개인정보 보호 공지","privacy.body":"방문자 동향을 파악하기 위해 익명 방문 데이터를 수집합니다. 개인정보는 수집하거나 공유하지 않습니다.","privacy.btn":"확인","footer.rights":"Ginza Empire © 2026 — All Rights Reserved","footer.privacy":"이 사이트는 방문자 동향을 파악하기 위해 익명 분석을 사용합니다. 개인정보는 수집하거나 제3자와 공유하지 않습니다.","ui.backToTop":"맨 위로","compare.selected":"선택됨","compare.clear":"지우기","compare.open":"비교","compare.done":"닫기","rv.title":"최근 본 여성","rv.clear":"지우기","sim.title":"비슷한 여성","emp.contacts":"연락처","emp.addressHtml":'Mobile: <a href="tel:+61452572588">0452 572 588</a> (EMPLOYMENT Only)<br>Kakao talk: gloria8512 (한국어)<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="03646a6d7962606f766130323343646e626a6f2d606c6e">[email&#160;protected]</a><br>Line ID: kanako254(日本語)<br>Yuki <a href="tel:+61452572588">0452 572 588</a><br>KakaoTalk: summer190<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f0fef9edf6f4fbe2f5a4a6a7d7f0faf6fefbb9f4f8fa">[email&#160;protected]</a> (Employment only)',"nav.calendar":"캘린더","nav.analytics":"분석","nav.profileDb":"프로필 DB","nav.menu":"메뉴","ui.admin":"관리자","pdb.username":"사용자명","pdb.role":"역할","pdb.roleUpdated":"역할이 업데이트되었습니다.","pdb.saveFailed":"저장에 실패했습니다.","pdb.cannotDemoteSelf":"자신의 역할은 변경할 수 없습니다.","pdb.searchPlaceholder":"사용자명, 이메일, 전화번호 검색...","pdb.allRoles":"모든 역할","pdb.noResults":"사용자를 찾을 수 없습니다.","pdb.deleteUser":"사용자 삭제","pdb.confirmDelete":"{user} 사용자를 삭제하시겠습니까? 되돌릴 수 없습니다.","pdb.userDeleted":"사용자가 삭제되었습니다.","sort.name":"이름","sort.dateAdded":"추가일","sort.age":"나이","sort.size":"사이즈","sort.height":"키","sort.cup":"컵","sort.lastSeen":"마지막 확인","ui.today":"오늘","date.sun":"일","date.mon":"월","date.tue":"화","date.wed":"수","date.thu":"목","date.fri":"금","date.sat":"토","date.jan":"1월","date.feb":"2월","date.mar":"3월","date.apr":"4월","date.may":"5월","date.jun":"6월","date.jul":"7월","date.aug":"8월","date.sep":"9월","date.oct":"10월","date.nov":"11월","date.dec":"12월","ui.girlsAvailNow":"{n}명의 여성이 지금 이용 가능","ui.girlsAvailToday":"{n}명의 여성이 오늘 이용 가능","ui.girlsAvailLater":"{n}명의 여성이 오늘 나중에 이용 가능","ui.noGirlsWeek":"이번 주 이용 가능한 여성이 없습니다","ui.noGirlsDate":"해당 날짜에 이용 가능한 여성이 없습니다","fp.search":"검색","fp.country":"국적","fp.age":"나이","fp.bodySize":"체형","fp.height":"키 (cm)","fp.cupSize":"컵 사이즈","fp.rates30":"30분 요금","fp.rates45":"45분 요금","fp.rates60":"60분 요금","fp.experience":"경력","fp.rating":"평점","fp.labels":"라벨","fp.clearAll":"모든 필터 지우기","fp.rangeSep":"~","cal.profile":"프로필","cal.allWeek":"전체 주","cal.clear":"지우기","cal.copyTimesTitle":"시간을 복사하시겠습니까?","cal.setNewTime":"새 시간 설정","cal.copyTimesBtn":"시간 복사","cal.copyDayTitle":"일정 복사","cal.copyDaySub":"하루 전체 명단을 다른 날짜에 복사","cal.sourceDay":"원본 날","cal.copyTo":"복사 대상","cal.overwrite":"대상 날짜의 기존 항목 덮어쓰기","cal.copyDayBtn":"일정 복사","cal.bulkTimeSub":"여러 날짜의 이용 가능 시간 설정","cal.days":"일","cal.startTime":"시작 시간","cal.endTime":"종료 시간","cal.apply":"적용","cal.all":"전체","cal.noScheduled":"이날 예정된 여성이 없습니다","ui.addGirl":"여성 추가","form.addGirl":"새 여성 추가","form.editGirl":"프로필 편집","form.name":"이름","form.startDate":"시작일","form.photos":"사진","form.cancel":"취소","form.save":"저장","form.delete":"삭제","form.confirmDelete":"삭제 확인","form.expSelect":"경력 선택","exp.experienced":"경력 있음","exp.inexperienced":"경력 없음","an.days":"일","an.loading":"방문자 데이터 불러오는 중...","an.uniqueVisitors":"순 방문자","an.sessions":"세션","an.totalPageViews":"총 페이지 뷰","an.totalProfileViews":"총 프로필 뷰","an.topProfiles":"인기 프로필","an.topHint":"(이 기간 동안 가장 많이 조회됨)","an.uniqueCount":"{n} 순방문","an.dailyVisitors":"일별 방문자","an.dailyHint":"(히트 vs 순방문)","an.noLogs":"이 기간에 방문자 기록이 없습니다","an.legendHits":"히트","an.legendUniques":"순방문","an.peakHours":"피크 시간 히트맵","an.peakHint":"(AEDT, 요일 × 시간)","an.visitCount":"{n} 방문","an.pageViews":"페이지 뷰","an.pvHint":"(총계 / 순 방문자)","an.noPV":"기록된 페이지 뷰 없음","an.mostProfiles":"가장 많이 본 프로필","an.pfHint":"(총계 / 순방문)","an.noPF":"기록된 프로필 뷰 없음","an.browsers":"브라우저","an.os":"운영 체제","an.devices":"기기","an.languages":"시스템 언어","an.siteLanguages":"사이트 언어","an.timezones":"시간대","an.referrers":"참조 URL","an.noData":"데이터 없음","an.recentVisitors":"최근 순 방문자","an.recentHint":"(최신 20개, 일별)","an.tableDate":"날짜","an.tableBrowser":"브라우저","an.tableOS":"OS","an.tableDevice":"기기","an.tableLang":"Sys언어","an.tableSiteLang":"사이트언어","an.tableTZ":"시간대","an.export":"방문자 로그 내보내기","an.refresh":"새로 고침","an.exported":"방문자 로그를 내보냈습니다","an.phoneTaps":"전화 탭","an.filterUses":"필터 사용","an.conversion":"전환","an.conversionHint":"(전화 탭 / 고유 방문자)","an.convRate":"전환율","an.uniqueTappers":"고유 탭 사용자","an.filterPatterns":"필터 사용 패턴","an.filterHint":"(방문자가 가장 많이 사용하는 필터)","an.noFilters":"필터 사용 기록 없음","an.noTaps":"전화 탭 기록 없음","rates.intro":"아래는 여성이 제공하는 성인 서비스에 대한 지표 요금입니다 (저희가 여성에게 부과하는 고정 룸 임대료 포함). 단, 여성에 대한 지불은 직접 그녀와 협상해야 합니다. 아래 가이드는 여성들이 제공한 것입니다.","rates.legal":"저희는 합법적인 시드니 브로텔이며 안전한 성행위 수칙을 준수해야 합니다. 우수한 개인 룸과 시설을 제공하는 서비스로 여성 (서비스 제공자)에게 아래와 같은 고정 룸 임대료를 부과합니다:","rates.roomTitle":"룸 임대료","rates.room30":"30분 $30","rates.room45":"45분 $45","rates.room60":"60분 $60","rates.roomOver":"60분 이상 협의","rates.disclaimer":"모든 여성은 독립 서비스 제공자입니다. 제공하는 서비스 수준에 따라 요금이 다릅니다. 원하시는 모든 서비스는 직접 여성과 상의해 주십시오.","table.rates":"요금","table.priceRange":"가격 범위","emp.jobTitle":"GINZA EMPIRE — 채용 공고","emp.tagline":"안전하고 청결하며 전문적인 환경에서 1교대 $1,500~$3,000 이상 수입. 모든 국적 환영 — 경력 불필요.","emp.h2Env":"① 업소 환경 및 고객","emp.p1Env":"저희 시설은 완전히 허가를 받았으며 최고 수준으로 최근 리모델링되었습니다. 각 방에는 개인 욕실, 냉난방 시스템, AV 시스템이 갖추어져 있습니다. 전문 청소팀이 매주 방문하여 항상 청결한 환경을 유지합니다.","emp.p2Env":"고객은 주로 아시아계 사업가 및 기업 고객으로 구성된 예의 바르고 풍요로운 전문직 종사자들입니다. 저희는 누구를 받아들일지에 대해 선택적입니다. 귀하의 안전과 편안함이 최우선입니다. 거친 고객은 절대 없습니다.","emp.p3Env":"영어 불필요. 경력 불필요. 프라이버시 100% 보장.","emp.h2Work":"② 근무 조건","emp.p1Work":"자신의 시간을 자유롭게 선택할 수 있습니다. 원하는 만큼 많이 또는 적게 일할 수 있습니다. 단기 및 장기 모두 환영합니다. 교대 근무는 5~6시간으로 짧게 가능합니다.","emp.p2Work":"각 여성에게는 개인 룸이 있습니다. 다른 여성과 마주칠 일이 없습니다. 귀하의 업무는 완전히 기밀로 유지됩니다 — 아무도 알 수 없습니다.","emp.p3Work":"매 교대 후 현금으로 지급됩니다. AV/탤런트/모델 경험자는 프리미엄 요금: 시간당 $300~$1,000 이상. 하루 5~6시간, 주 4일로 최고 수입자는 주당 $16,000 이상을 가져갑니다.","emp.h2Health":"③ 건강 및 안전","emp.p1Health":"안전한 성행위 수칙은 필수입니다. 인근 클리닉에서 정기적인 무료 건강 검진을 받을 수 있습니다 — 모든 여성이 정기적으로 참석합니다. 개인적인 이유로 인한 휴가는 항상 수용됩니다. 귀하의 웰빙이 우리의 최우선 사항입니다.","emp.p2Health":"트라이얼 교대 근무가 가능합니다 — 동일 급여, 의무 없음. 맞지 않으면 언제든지 떠날 수 있습니다.","emp.h2Contact":"연락처","emp.p1Contact":"아래 플랫폼 중 하나로 연락하세요. 모든 문의는 100% 기밀로 처리됩니다."},zh:{"page.title":"GINZA EMPIRE","page.titlelower":"Ginza Empire","page.roster":"名册","page.girls":"女生","page.rates":"价格","page.employment":"招聘","page.favorites":"收藏","nav.home":"首页","nav.roster":"名册","nav.girls":"女生","nav.favorites":"收藏","nav.rates":"价格","nav.employment":"招聘","bnav.home":"首页","bnav.roster":"名册","bnav.girls":"浏览","bnav.favs":"收藏","home.tagline":"悉尼顶级体验","home.announcement":"公告","home.newGirls":"新女生","home.location":"地点","home.hours":"营业时间","home.announceDefault":"探索我们精心挑选的迷人女生。每位档案都经过精心策划，确保提供最高品质的体验。浏览我们的名册，找到您的完美搭档。","home.welcomeTitle":"欢迎来到悉尼顶级亚洲风情馆","home.welcomeP1":"我们的认可场所经过翻新，始终以您的舒适和愉悦为出发点。豪华布置的主题包房是绅士们忘却尘嚣、沉浸其中数小时的完美场所。每个房间均配有淋浴、空调系统和音视频设备，并拥有独特的主题。","home.welcomeP2":"欢迎您在日本天皇宫殿中统治您的帝国。或许这次您想通过法国王室风格的套房来展现自我。从古代中国宫殿掌控王朝，或在罗马帝国风格的卧室中重温放荡达到新境界的时代。宁静与安详如熔岩般在房间中涌溢，这是您深化并丰富禅意的地方吗？没有人能像意大利人那样演绎激情与时尚，因此地中海风格的包房或许是让您灵感迸发的所在。","home.welcomeP3":'278 Club最大的吸引力是那些以取悦男士为唯一目标的迷人女生。在278 Club，您将邂逅来自亚洲各地的美女。首席阵容是悉尼最令人心动的正宗年轻日本女生。绅士们将体验极致的日式GFE与PSE。不仅如此，您还可以尽情享受来自泰国、中国、新加坡、马来西亚和韩国的年轻魅惑女生。我们所有柔美的艺术家均提供充满异国情调的完整服务。每次激情体验本身都是一段独特的经历，因为女生们都是独特的个体，她们乐于付出并在付出中获得快乐。在278 Club，不存在千篇一律的平淡相遇，事实上，"例行公事"这个词在这里根本不存在。',"home.welcomeP4":"无论在悉尼、整个澳大利亚，还是全世界，您都找不到像278 Club这样——拥有如此豪华、舒适、洁净的包房，由如此高水准的女生，以如此令人惊叹的极具竞争力的价格，为您提供难以忘怀的服务的地方。","home.locationHtml":"310 Cleveland St Surry Hills NSW 2010<br>（从Goodlet Lane后门进入）","home.hoursText":"周一至周日，上午10:30至凌晨1:00营业。","field.age":"年龄","field.body":"身材","field.height":"身高","field.cup":"罩杯","field.rates30":"30分钟价格","field.rates45":"45分钟价格","field.rates60":"60分钟价格","field.experience":"经验","field.language":"语言","field.type":"类型","field.description":"描述","field.special":"特殊要求","field.labels":"标签","field.email":"邮箱","field.mobile":"手机","field.photocount":"(0 / 10)","avail.now":"现在可用","avail.today":"今日可用","avail.laterToday":"今日稍后可用","avail.coming":"即将到来","avail.lastSeen":"最后出现","avail.finished":"今日已结束","avail.endsIn":"{t}后结束","avail.startsIn":"{t}后开始","ui.back":"返回","ui.share":"分享","ui.addFav":"添加到收藏","ui.favorited":"已收藏","ui.edit":"编辑档案","ui.delete":"删除","ui.compare":"比较","ui.linkCopied":"链接已复制！","ui.alsoAvail":"今日也可用","ui.myProfile":"我的资料","ui.newPassword":"新密码","ui.confirmPassword":"确认密码","ui.emailRequired":"邮箱为必填项。","ui.passwordMismatch":"密码不匹配。","ui.profileSaved":"资料已更新。","ui.leaveBlank":"留空则保持不变","ui.signUp":"注册","ui.signIn":"登录","ui.createAccount":"创建账户","ui.noAccount":"没有账户？","ui.haveAccount":"已有账户？","ui.usernameTaken":"用户名已被使用。","ui.emailTaken":"该邮箱已被使用。","ui.mobileTaken":"该手机号已被使用。","ui.usernameRequired":"用户名为必填项。","ui.passwordRequired":"密码为必填项。","ui.accountCreated":"账户已创建。","ui.favAvailOne":"您收藏的女孩今天有空！请检查您的电子邮件。","ui.favAvailMany":"{count}位您收藏的女孩今天有空！请检查您的电子邮件。","ui.cancel":"取消","ui.filters":"筛选","ui.filtersActive":"筛选 ({n})","review.title":"评价","review.write":"写评价","review.edit":"编辑","review.delete":"删除","review.signin":"{link}后发表评价","review.noReviews":"暂无评价，成为第一个评价者！","review.ratingRequired":"请选择评分。","review.submitted":"评价已提交。","review.updated":"评价已更新。","review.deleted":"评价已删除。","review.confirmDelete":"删除此评价？","review.placeholder":"分享您的体验...","ui.hideGirl":"隐藏档案","ui.showGirl":"显示档案","ui.girlHidden":"档案已对会员隐藏。","ui.girlVisible":"档案对所有人可见。","ui.favEmpty":"暂无收藏。点击任意档案上的心形图标保存到此处。","ui.favBrowse":"浏览女生","ui.noResults":"没有符合您筛选条件的女生。","ui.clearFilters":"清除筛选","ui.type":"（选择一个或多个）","ui.select":"（输入并按Enter键）","ui.confirm":"您确定吗？","ui.retry":"重试","ui.retrying":"重试中...","ui.loadFailed":"无法加载数据。请检查网络连接后重试。","ui.offline":"您处于离线状态","ui.backOnline":"已恢复在线","ui.pushEnable":"接收通知","ui.pushDisable":"通知已开启","ui.pushOn":"推送通知已启用！","ui.pushOff":"推送通知已关闭。","ui.pushDenied":"通知权限被拒绝。","ui.search":"按姓名搜索...","ph.name":"姓名...","ph.age":"例如：23","ph.body":"例如：6","ph.height":"例如：162","ph.cup":"例如：B-C","ph.rate1":"例如：100","ph.rate2":"例如：200","ph.rate3":"例如：300","ph.special":"例如：无特殊要求","ph.language":"例如：日语、英语","ph.type":"例如：非常年轻、娇小、可爱、纯真...","ph.description":"例如：描述...","ph.label":"输入标签并按Enter键...","filter.availNow":"现在可用","filter.availToday":"今日可用","privacy.title":"隐私声明","privacy.body":"我们收集匿名访问数据以了解访客趋势。不收集或分享任何个人信息。","privacy.btn":"我知道了","footer.rights":"Ginza Empire © 2026 — All Rights Reserved","footer.privacy":"本网站使用匿名分析来了解访客趋势。不收集个人信息，也不与第三方共享。","ui.backToTop":"返回顶部","compare.selected":"已选择","compare.clear":"清除","compare.open":"比较","compare.done":"关闭","rv.title":"最近浏览","rv.clear":"清除","sim.title":"相似女生","emp.contacts":"联系方式","emp.addressHtml":'Mobile: <a href="tel:+61452572588">0452 572 588</a> (EMPLOYMENT Only)<br>Kakao talk: gloria8512 (한국어)<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="03646a6d7962606f766130323343646e626a6f2d606c6e">[email&#160;protected]</a><br>Line ID: kanako254(日本語)<br>Yuki <a href="tel:+61452572588">0452 572 588</a><br>KakaoTalk: summer190<br>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f0fef9edf6f4fbe2f5a4a6a7d7f0faf6fefbb9f4f8fa">[email&#160;protected]</a> (Employment only)',"nav.calendar":"日历","nav.analytics":"分析","nav.profileDb":"用户数据库","nav.menu":"菜单","ui.admin":"管理","pdb.username":"用户名","pdb.role":"角色","pdb.roleUpdated":"角色已更新。","pdb.saveFailed":"保存失败。","pdb.cannotDemoteSelf":"无法更改自己的角色。","pdb.searchPlaceholder":"搜索用户名、邮箱、手机...","pdb.allRoles":"所有角色","pdb.noResults":"未找到用户。","pdb.deleteUser":"删除用户","pdb.confirmDelete":"删除用户 {user}？此操作无法撤销。","pdb.userDeleted":"用户已删除。","sort.name":"姓名","sort.dateAdded":"添加日期","sort.age":"年龄","sort.size":"尺寸","sort.height":"身高","sort.cup":"罩杯","sort.lastSeen":"最近所见","ui.today":"今天","date.sun":"周日","date.mon":"周一","date.tue":"周二","date.wed":"周三","date.thu":"周四","date.fri":"周五","date.sat":"周六","date.jan":"1月","date.feb":"2月","date.mar":"3月","date.apr":"4月","date.may":"5月","date.jun":"6月","date.jul":"7月","date.aug":"8月","date.sep":"9月","date.oct":"10月","date.nov":"11月","date.dec":"12月","ui.girlsAvailNow":"{n}位女生现在可用","ui.girlsAvailToday":"{n}位女生今日可用","ui.girlsAvailLater":"{n}位女生今日稍后可用","ui.noGirlsWeek":"本周没有可用的女生","ui.noGirlsDate":"该日期没有可用的女生","fp.search":"搜索","fp.country":"国籍","fp.age":"年龄","fp.bodySize":"身材","fp.height":"身高 (cm)","fp.cupSize":"罩杯","fp.rates30":"30分钟价格","fp.rates45":"45分钟价格","fp.rates60":"60分钟价格","fp.experience":"经验","fp.rating":"评分","fp.labels":"标签","fp.clearAll":"清除所有筛选","fp.rangeSep":"至","cal.profile":"档案","cal.allWeek":"全周","cal.clear":"清除","cal.copyTimesTitle":"复制时间？","cal.setNewTime":"设置新时间","cal.copyTimesBtn":"复制时间","cal.copyDayTitle":"复制日程安排","cal.copyDaySub":"将整天的名册复制到其他日期","cal.sourceDay":"源日期","cal.copyTo":"复制到","cal.overwrite":"覆盖目标日期的现有条目","cal.copyDayBtn":"复制日程","cal.bulkTimeSub":"为多天设置可用时间","cal.days":"天","cal.startTime":"开始时间","cal.endTime":"结束时间","cal.apply":"应用","cal.all":"全部","cal.noScheduled":"该日没有安排的女生","ui.addGirl":"添加女生","form.addGirl":"添加新女生","form.editGirl":"编辑档案","form.name":"姓名","form.startDate":"开始日期","form.photos":"照片","form.cancel":"取消","form.save":"保存","form.delete":"删除","form.confirmDelete":"确认删除","form.expSelect":"选择经验","exp.experienced":"有经验","exp.inexperienced":"无经验","an.days":"天","an.loading":"正在加载访客数据...","an.uniqueVisitors":"独立访客","an.sessions":"会话","an.totalPageViews":"总页面浏览量","an.totalProfileViews":"总档案浏览量","an.topProfiles":"热门档案","an.topHint":"（本期间浏览量最多）","an.uniqueCount":"{n} 独立","an.dailyVisitors":"每日访客","an.dailyHint":"（点击量 vs 独立访客）","an.noLogs":"此期间未找到访客日志","an.legendHits":"点击量","an.legendUniques":"独立访客","an.peakHours":"高峰时段热图","an.peakHint":"（AEDT，日 × 时）","an.visitCount":"{n} 次访问","an.pageViews":"页面浏览量","an.pvHint":"（总计 / 独立访客）","an.noPV":"暂无页面浏览记录","an.mostProfiles":"最多浏览档案","an.pfHint":"（总计 / 独立）","an.noPF":"暂无档案浏览记录","an.browsers":"浏览器","an.os":"操作系统","an.devices":"设备","an.languages":"系统语言","an.siteLanguages":"网站语言","an.timezones":"时区","an.referrers":"来源","an.noData":"无数据","an.recentVisitors":"最近独立访客","an.recentHint":"（最近20条，按日）","an.tableDate":"日期","an.tableBrowser":"浏览器","an.tableOS":"OS","an.tableDevice":"设备","an.tableLang":"系统语言","an.tableSiteLang":"网站语言","an.tableTZ":"时区","an.export":"导出访客日志","an.refresh":"刷新","an.exported":"访客日志已导出","an.phoneTaps":"电话点击","an.filterUses":"筛选使用","an.conversion":"转化","an.conversionHint":"(电话点击 / 独立访客)","an.convRate":"转化率","an.uniqueTappers":"独立点击者","an.filterPatterns":"筛选使用模式","an.filterHint":"(访客最常使用的筛选条件)","an.noFilters":"无筛选使用记录","an.noTaps":"无电话点击记录","rates.intro":"以下是女生为您提供成人服务的参考价格（含我们向女生收取的固定包房费）。但您必须直接与她协商女生的报酬。以下指南由女生们提供。","rates.legal":"我们是悉尼合法场所，必须遵守安全性行为规范。作为提供优质私人包房和设施的服务，我们向女生（服务提供者）收取以下固定包房费：","rates.roomTitle":"包房费","rates.room30":"30分钟 $30","rates.room45":"45分钟 $45","rates.room60":"60分钟 $60","rates.roomOver":"60分钟以上 可协商","rates.disclaimer":"我们所有的女生都是独立服务提供者，她们将根据所提供服务的水平向您收费。您希望享受的所有服务应直接与她们讨论。","table.rates":"价格","table.priceRange":"价格范围","emp.jobTitle":"GINZA EMPIRE — 招聘机会","emp.tagline":"在安全、清洁、专业的环境中，每班赚取$1,500至$3,000以上。欢迎所有国籍——无需经验。","emp.h2Env":"① 店铺环境与客户","emp.p1Env":"我们的场所完全持牌，并已按最高标准最近翻新。每个房间都有独立卫浴、空调和AV系统。专业清洁团队每周到访——我们的环境始终一尘不染。","emp.p2Env":"我们的客户是举止得体、富裕的专业人士——主要是亚洲商人和企业客户。我们对接受的客户有所选择；您的安全和舒适是首要考虑因素。绝无粗鲁客户。","emp.p3Env":"无需英语。无需经验。隐私100%保证。","emp.h2Work":"② 工作条件","emp.p1Work":"自主选择工作时间——想多工作或少工作都可以。短期和长期安排均欢迎。班次可短至5~6小时。","emp.p2Work":"每位女生都有自己的私人房间。您不会与其他女生相遇。您的工作完全保密——没有人会知道。","emp.p3Work":"每班结束后现金结算。AV/才艺/模特经验者赚取高级费率：每小时$300至$1,000以上。每天5~6小时，每周4天，顶级收入者每周可带回$16,000以上。","emp.h2Health":"③ 健康与安全","emp.p1Health":"安全性行为规范是强制要求。附近诊所提供定期免费健康检查——所有女生定期参加。因个人原因请假始终可以安排。您的健康是我们的首要任务。","emp.p2Health":"可提供试班——同等薪酬，无任何义务。如果不适合您，您可以随时离开。","emp.h2Contact":"联系我们","emp.p1Contact":"通过以下任何平台联系我们。所有咨询100%保密。"}};var siteLanguage=function(){try{return localStorage.getItem("ginza_lang")||"en"}catch{return"en"}}();function t(e){var a=LANG_DICT[siteLanguage]||LANG_DICT.en;return a[e]!==void 0?a[e]:LANG_DICT.en[e]!==void 0?LANG_DICT.en[e]:e}function applyLang(){document.querySelectorAll("[data-i18n]").forEach(function(e){var a=e.dataset.i18n;a&&(e.textContent=t(a))}),document.querySelectorAll("[data-i18n-ph]").forEach(function(e){var a=e.dataset.i18nPh;a&&(e.placeholder=t(a))}),document.querySelectorAll("[data-i18n-html]").forEach(function(e){var a=e.dataset.i18nHtml;a&&(e.innerHTML=t(a))}),document.documentElement.lang=siteLanguage,document.querySelectorAll(".lang-option").forEach(function(e){e.classList.toggle("active",e.dataset.lang===siteLanguage)})}function setLanguage(e){if(LANG_DICT[e]){siteLanguage=e;try{localStorage.setItem("ginza_lang",e)}catch{}applyLang();try{typeof onFiltersChanged=="function"&&onFiltersChanged()}catch{}try{typeof renderHome=="function"&&renderHome()}catch{}}}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("langBtn"),a=document.getElementById("langDropdown");!e||!a||(e.addEventListener("click",function(n){n.stopPropagation(),a.classList.toggle("open")}),a.querySelectorAll(".lang-option").forEach(function(n){n.addEventListener("click",function(){setLanguage(n.dataset.lang),a.classList.remove("open")})}),document.addEventListener("click",function(n){!a.contains(n.target)&&n.target!==e&&a.classList.remove("open")}))});const PROXY="https://github-proxy.sydneyginza-api-2.workers.dev",DATA_REPO="sydneyginza/files",SITE_REPO="sydneyginza/sydneyginza.github.io",DATA_API=`${PROXY}/repos/${DATA_REPO}/contents`,SITE_API=`${PROXY}/repos/${SITE_REPO}/contents`,DP="data/girls.json",AP="data/auth.json",KP="data/calendar.json",CP="data/config.json",RHP="data/roster_history.json",ALP="data/admin_log.json";let loggedIn=!1,dataSha=null,calSha=null,calData={},loggedInUser=null,loggedInRole=null,loggedInEmail=null,loggedInMobile=null,authSha=null,MAX_PHOTOS=10,profileReturnPage="homePage";function isAdmin(){return loggedIn&&(loggedInRole==="admin"||loggedInRole==="owner")}let rosterHistory={},rosterHistorySha=null,girls=[],GT=!0;function proxyHeaders(){return{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}function showToast(e,a="success"){const n=document.getElementById("toast");n.textContent=e,n.className="toast "+a+" show",clearTimeout(n._t),n._t=setTimeout(()=>n.classList.remove("show"),3e3)}function getAEDTDate(){return new Date(new Date().toLocaleString("en-US",{timeZone:"Australia/Sydney"}))}function fmtDate(e){return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")}function getWeekDates(){const e=getAEDTDate(),a=[];for(let n=0;n<7;n++){const i=new Date(e);i.setDate(e.getDate()+n),a.push(fmtDate(i))}return a}function dispDate(e){const a=new Date(e+"T00:00:00"),n=typeof t=="function"?t:l=>["date.sun","date.mon","date.tue","date.wed","date.thu","date.fri","date.sat","date.jan","date.feb","date.mar","date.apr","date.may","date.jun","date.jul","date.aug","date.sep","date.oct","date.nov","date.dec"].indexOf(l)<0?l:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][["date.sun","date.mon","date.tue","date.wed","date.thu","date.fri","date.sat","date.jan","date.feb","date.mar","date.apr","date.may","date.jun","date.jul","date.aug","date.sep","date.oct","date.nov","date.dec"].indexOf(l)],i=["date.sun","date.mon","date.tue","date.wed","date.thu","date.fri","date.sat"],o=["date.jan","date.feb","date.mar","date.apr","date.may","date.jun","date.jul","date.aug","date.sep","date.oct","date.nov","date.dec"];return{date:a.getDate()+" "+n(o[a.getMonth()]),day:n(i[a.getDay()])}}function dec(e){return JSON.parse(decodeURIComponent(escape(atob(e.replace(/\n/g,"")))))}function enc(e){return btoa(unescape(encodeURIComponent(JSON.stringify(e,null,2))))}function fmtTime12(e){if(!e)return"";const[a,n]=e.split(":").map(Number),i=a<12?"AM":"PM";return(a===0?12:a>12?a-12:a)+":"+String(n).padStart(2,"0")+" "+i}function getCalEntry(e,a){if(calData[e]&&calData[e][a]){const n=calData[e][a];return typeof n=="object"?n:{start:"",end:""}}return null}function isAvailableNow(e){const a=getAEDTDate(),n=fmtDate(a),i=getCalEntry(e,n);if(!i||!i.start||!i.end)return!1;const o=a.getHours()*60+a.getMinutes(),[l,d]=i.start.split(":").map(Number),[s,r]=i.end.split(":").map(Number),c=l*60+d,u=s*60+r;return u<=c?o>=c||o<u:o>=c&&o<u}function getAvailCountdown(e){const a=getAEDTDate(),n=getCalEntry(e,fmtDate(a));if(!n||!n.start||!n.end)return null;const i=a.getHours()*60+a.getMinutes(),[o,l]=n.start.split(":").map(Number),[d,s]=n.end.split(":").map(Number),r=o*60+l,c=d*60+s,u=p=>{const f=Math.floor(p/60),v=p%60;return f>0?`${f}h ${v}m`:`${v}m`};if(isAvailableNow(e)){let p=c-i;return p<=0&&(p+=1440),{type:"ends",str:u(p)}}const m=r-i;return m>0&&m<=720?{type:"starts",str:u(m)}:null}function getAvailableNowCount(){return girls.filter(e=>e.name&&isAvailableNow(e.name)).length}function isAvailableToday(e){const a=getCalEntry(e,fmtDate(getAEDTDate()));return!!(a&&a.start&&a.end)}function getAvailableTodayCount(){return girls.filter(e=>e.name&&isAvailableToday(e.name)).length}function genFn(){return"img_"+Date.now()+"_"+Math.random().toString(36).substr(2,6)+".jpg"}const CACHE_KEY_GIRLS="ginza_cache_girls",CACHE_KEY_CAL="ginza_cache_cal",CACHE_KEY_GIRLS_SHA="ginza_cache_girls_sha",CACHE_KEY_CAL_SHA="ginza_cache_cal_sha",CACHE_KEY_CAL_TS="ginza_cache_cal_ts",CAL_CACHE_TTL=10*60*1e3;function cacheGet(e){try{const a=localStorage.getItem(e);return a?JSON.parse(a):null}catch{return null}}function cacheSet(e,a){try{localStorage.setItem(e,JSON.stringify(a))}catch{}}function cacheClear(){try{[CACHE_KEY_GIRLS,CACHE_KEY_CAL,CACHE_KEY_GIRLS_SHA,CACHE_KEY_CAL_SHA,CACHE_KEY_CAL_TS].forEach(e=>localStorage.removeItem(e))}catch{}}function getCachedGirls(){return cacheGet(CACHE_KEY_GIRLS)}function getCachedCal(){return cacheGet(CACHE_KEY_CAL)}function getCachedGirlsSha(){try{return localStorage.getItem(CACHE_KEY_GIRLS_SHA)||null}catch{return null}}function getCachedCalSha(){try{return localStorage.getItem(CACHE_KEY_CAL_SHA)||null}catch{return null}}function updateGirlsCache(){if(cacheSet(CACHE_KEY_GIRLS,girls),dataSha)try{localStorage.setItem(CACHE_KEY_GIRLS_SHA,dataSha)}catch{}}function updateCalCache(){if(cacheSet(CACHE_KEY_CAL,calData),calSha)try{localStorage.setItem(CACHE_KEY_CAL_SHA,calSha)}catch{}try{localStorage.setItem(CACHE_KEY_CAL_TS,Date.now().toString())}catch{}}function isCalCacheStale(){try{const e=localStorage.getItem(CACHE_KEY_CAL_TS);return!e||Date.now()-parseInt(e)>CAL_CACHE_TTL}catch{return!0}}function getFavorites(){if(!loggedIn||!loggedInUser)return[];const e=CRED.find(a=>a.user===loggedInUser);return e&&Array.isArray(e.favorites)?e.favorites:[]}function saveFavorites(e){if(!loggedIn||!loggedInUser)return;const a=CRED.find(n=>n.user===loggedInUser);a&&(a.favorites=e,saveAuth())}function isFavorite(e){return getFavorites().includes(e)}function toggleFavorite(e){const a=getFavorites(),n=a.indexOf(e);return n>=0?a.splice(n,1):a.push(e),saveFavorites(a),n<0}function getFavCount(){const e=getFavorites();return girls.filter(a=>a.name&&e.includes(a.name)).length}const RV_KEY="ginza_recently_viewed",RV_MAX=20;function getRecentlyViewed(){try{const e=localStorage.getItem(RV_KEY);return e?JSON.parse(e):[]}catch{return[]}}function addRecentlyViewed(e){if(!e)return;let a=getRecentlyViewed();a=a.filter(n=>n.name!==e),a.unshift({name:e,ts:Date.now()}),a.length>RV_MAX&&(a=a.slice(0,RV_MAX));try{localStorage.setItem(RV_KEY,JSON.stringify(a))}catch{}}function clearRecentlyViewed(){try{localStorage.removeItem(RV_KEY)}catch{}}async function fetchWithRetry(e,a={},{retries:n=3,baseDelay:i=600}={}){let o;for(let l=0;l<=n;l++)try{const d=await fetch(e,a);if(d.ok||d.status>=400&&d.status<500&&d.status!==429)return d;if(o=new Error(`HTTP ${d.status}`),l<n){const s=d.headers.get("Retry-After"),r=s?parseInt(s)*1e3:i*Math.pow(2,l);await new Promise(c=>setTimeout(c,r))}}catch(d){o=d,l<n&&await new Promise(s=>setTimeout(s,i*Math.pow(2,l)))}throw o}async function loadAuth(){try{const e=await fetchWithRetry(`${DATA_API}/${AP}`,{headers:proxyHeaders()});if(e.ok){const a=await e.json();return authSha=a.sha,dec(a.content)}if(e.status===404){const a=[{user:"admin",pass:"admin123"}];return await fetchWithRetry(`${DATA_API}/${AP}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify({message:"Create auth",content:enc(a)})}),a}}catch(e){console.error("loadAuth error:",e)}return[]}async function saveAuth(e=!0){try{const a={message:"Update auth",content:enc(CRED)};authSha&&(a.sha=authSha);const n=await fetchWithRetry(`${DATA_API}/${AP}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify(a)},{retries:2}),i=await n.json();if(!n.ok){if(n.status===409&&e){const o=await fetchWithRetry(`${DATA_API}/${AP}`,{headers:proxyHeaders()});if(o.ok)return authSha=(await o.json()).sha,saveAuth(!1)}throw new Error(i.message||n.status)}return authSha=i.content.sha,!0}catch(a){return showToast("Save failed: "+a.message,"error"),!1}}async function loadData(){try{const e=await fetchWithRetry(`${DATA_API}/${DP}`,{headers:proxyHeaders()});if(e.ok){const a=await e.json();return dataSha=a.sha,dec(a.content)}if(e.status===404)return dataSha=null,[]}catch(e){console.error("loadData error:",e)}return null}async function saveData(e=!0){try{const a={message:"Update girls",content:enc(girls)};dataSha&&(a.sha=dataSha);const n=await fetchWithRetry(`${DATA_API}/${DP}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify(a)},{retries:2}),i=await n.json();if(!n.ok){if(n.status===409&&e){console.warn("Save conflict — refetching SHA and retrying");const o=await fetchWithRetry(`${DATA_API}/${DP}`,{headers:proxyHeaders()});if(o.ok)return dataSha=(await o.json()).sha,saveData(!1)}throw new Error(i.message||n.status)}return dataSha=i.content.sha,updateGirlsCache(),!0}catch(a){return showToast("Save failed: "+a.message,"error"),!1}}async function loadCalData(){try{const e=await fetchWithRetry(`${DATA_API}/${KP}`,{headers:proxyHeaders()});if(e.ok){const a=await e.json();return calSha=a.sha,dec(a.content)}if(e.status===404)return calSha=null,{}}catch(e){console.error("loadCalData error:",e)}return{}}async function saveCalData(e=!0){try{const a=getWeekDates(),n={};for(const s in calData){n[s]={};for(const r of a)calData[s]&&calData[s][r]&&(n[s][r]=calData[s][r])}calData=n;const i={message:"Update calendar",content:enc(calData)};calSha&&(i.sha=calSha);const o=await fetchWithRetry(`${DATA_API}/${KP}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify(i)},{retries:2});if(!o.ok){if(o.status===409&&e){console.warn("Calendar save conflict — refetching SHA and retrying");const s=await fetchWithRetry(`${DATA_API}/${KP}`,{headers:proxyHeaders()});if(s.ok)return calSha=(await s.json()).sha,saveCalData(!1)}throw new Error(o.status)}calSha=(await o.json()).content.sha,updateCalCache();const l=fmtDate(getAEDTDate());let d=!1;for(const s in calData)for(const r of Object.keys(calData[s]||{})){const c=calData[s][r];r<=l&&c&&c.start&&c.end&&(!rosterHistory[s]||r>rosterHistory[s])&&(rosterHistory[s]=r,d=!0)}return d&&saveRosterHistory(),!0}catch{return showToast("Calendar save failed","error"),!1}}async function loadRosterHistory(){try{const e=await fetchWithRetry(`${DATA_API}/${RHP}`,{headers:proxyHeaders()});if(e.ok){const a=await e.json();rosterHistorySha=a.sha,rosterHistory=dec(a.content)||{};return}e.status===404&&(rosterHistorySha=null,rosterHistory={})}catch{}}async function saveRosterHistory(){try{const e={message:"Update roster history",content:enc(rosterHistory)};rosterHistorySha&&(e.sha=rosterHistorySha);const a=await fetchWithRetry(`${DATA_API}/${RHP}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify(e)});a.ok&&(rosterHistorySha=(await a.json()).content.sha)}catch{}}function getLastRostered(e){return rosterHistory[e]||null}async function uploadToGithub(e,a,n){const o=`Images/${a.replace(/[^a-zA-Z0-9_-]/g,"_")}/${n}`,l=e.split(",")[1];let d;try{const c=await fetchWithRetry(`${SITE_API}/${o}`,{headers:proxyHeaders()});c.ok&&(d=(await c.json()).sha)}catch{}const s={message:`Upload ${o}`,content:l};d&&(s.sha=d);const r=await fetchWithRetry(`${SITE_API}/${o}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify(s)},{retries:2});if(!r.ok)throw new Error(r.status);return`https://raw.githubusercontent.com/${SITE_REPO}/main/${o}`}async function deleteFromGithub(e){try{const a=e.match(/raw\.githubusercontent\.com\/([^/]+\/[^/]+)\/[^/]+\/(.+?)(\?|$)/);if(!a)return;const n=a[1],i=decodeURIComponent(a[2]),o=`${PROXY}/repos/${n}/contents/${i}`,l=await fetchWithRetry(o,{headers:proxyHeaders()});if(!l.ok)return;await fetchWithRetry(o,{method:"DELETE",headers:proxyHeaders(),body:JSON.stringify({message:"Delete",sha:(await l.json()).sha})},{retries:2})}catch(a){console.error("deleteFromGithub error:",a)}}let _calSaveTimer=null,_calSaving=!1,_calSaveQueued=!1,_calSavingCells=new Set;function _markCellSaving(e){e&&(e.classList.add("cal-saving"),_calSavingCells.add(e))}function _clearSavingCells(){_calSavingCells.forEach(e=>e.classList.remove("cal-saving")),_calSavingCells.clear()}async function _execCalSave(){if(_calSaving){_calSaveQueued=!0;return}_calSaving=!0;try{await saveCalData(),renderRoster(),renderGrid(),renderHome()}finally{_calSaving=!1,_clearSavingCells(),_calSaveQueued&&(_calSaveQueued=!1,_execCalSave())}}function queueCalSave(e,a){_markCellSaving(e),clearTimeout(_calSaveTimer),_calSaveTimer=setTimeout(()=>_execCalSave(),a??800)}function flushCalSave(){clearTimeout(_calSaveTimer),(_calSavingCells.size>0||_calSaveQueued)&&_execCalSave()}async function loadConfig(){return!0}function safeRender(e,a){try{a()}catch(n){console.error(`[${e}] render error:`,n),showToast(`${e} render failed`,"error")}}function safeCardRender(e,a,n){try{return n(e,a)}catch(i){return console.warn(`[Card] skipped index ${a} (${e&&e.name||"unnamed"}):`,i),null}}function showErrorState(e,a,n){const i=document.getElementById(e);if(!i)return;i.innerHTML=`<div class="error-state">
    <div class="error-state-icon">!</div>
    <div class="error-state-msg">${a}</div>
    <button class="error-state-retry">${typeof t=="function"?t("ui.retry"):"Retry"}</button>
  </div>`;const o=i.querySelector(".error-state-retry");o&&n&&(o.onclick=async()=>{o.disabled=!0,o.textContent=typeof t=="function"?t("ui.retrying"):"Retrying...";try{await n()}catch{o.disabled=!1,o.textContent=typeof t=="function"?t("ui.retry"):"Retry"}})}let _isOffline=!navigator.onLine;function initOfflineDetection(){const e=document.getElementById("offlineBanner");if(!e)return;function a(){_isOffline=!navigator.onLine,e.classList.toggle("visible",_isOffline),_isOffline||showToast(typeof t=="function"?t("ui.backOnline"):"Back online","success")}window.addEventListener("online",a),window.addEventListener("offline",a),_isOffline&&e.classList.add("visible")}function urlBase64ToUint8Array(e){const a="=".repeat((4-e.length%4)%4),n=(e+a).replace(/-/g,"+").replace(/_/g,"/"),i=atob(n),o=new Uint8Array(i.length);for(let l=0;l<i.length;l++)o[l]=i.charCodeAt(l);return o}async function getPushSubscription(){return"PushManager"in window?(await navigator.serviceWorker.ready).pushManager.getSubscription():null}async function subscribeToPush(){if(!("PushManager"in window)||!("Notification"in window)||await Notification.requestPermission()!=="granted")return null;const a=await navigator.serviceWorker.ready;try{const n=await fetch(PROXY+"/vapid-public-key");if(!n.ok)return null;const{key:i}=await n.json(),o=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:urlBase64ToUint8Array(i)});return await fetch(PROXY+"/push-subscribe",{method:"POST",headers:proxyHeaders(),body:JSON.stringify({username:loggedInUser,subscription:o.toJSON()})}),o}catch(n){return console.error("Push subscribe error:",n),null}}async function unsubscribeFromPush(){const e=await getPushSubscription();if(e){await e.unsubscribe();try{await fetch(PROXY+"/push-unsubscribe",{method:"POST",headers:proxyHeaders(),body:JSON.stringify({username:loggedInUser})})}catch{}}}const lazyObserver=new IntersectionObserver(e=>{e.forEach(a=>{if(a.isIntersecting){const n=a.target,i=n.dataset.src;i&&(n.src=i,n.onload=()=>n.classList.add("lazy-loaded"),n.onerror=()=>{n.classList.add("lazy-loaded")},delete n.dataset.src),lazyObserver.unobserve(n)}})},{rootMargin:"200px 0px",threshold:.01});function observeLazy(e){e&&e.querySelectorAll("img[data-src]").forEach(a=>lazyObserver.observe(a))}const iframeLazyObserver=new IntersectionObserver(e=>{e.forEach(a=>{if(a.isIntersecting){const n=a.target;n.dataset.src&&(n.src=n.dataset.src,delete n.dataset.src),iframeLazyObserver.unobserve(n)}})},{rootMargin:"300px 0px",threshold:0});document.querySelectorAll("iframe[data-src]").forEach(e=>iframeLazyObserver.observe(e));function lazyThumb(e,a,n){return`<img class="${a||"card-thumb"}" data-src="${e}" alt="${(n||"").replace(/"/g,"&quot;")}">`}function lazyCalAvatar(e,a){return`<img data-src="${e}" alt="${(a||"").replace(/"/g,"&quot;")}">`}const entranceObserver=new IntersectionObserver(e=>{e.forEach(a=>{if(a.isIntersecting){const n=a.target,i=parseInt(n.style.getPropertyValue("--card-index")||0)*60;n.classList.add("card-enter"),setTimeout(()=>{n.classList.remove("card-enter"),n.classList.add("card-entered")},i+500),entranceObserver.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.05});function observeEntrance(e){e&&e.querySelectorAll(".girl-card").forEach((a,n)=>{a.style.setProperty("--card-index",Math.min(n,8)),entranceObserver.observe(a)})}const calEntranceObserver=new IntersectionObserver(e=>{e.forEach(a=>{if(a.isIntersecting){const n=a.target,i=parseInt(n.style.getPropertyValue("--row-index")||0)*50;n.classList.add("cal-row-enter"),setTimeout(()=>{n.classList.remove("cal-row-enter"),n.classList.add("cal-row-entered")},i+400),calEntranceObserver.unobserve(n)}})},{rootMargin:"30px 0px",threshold:.05});function observeCalEntrance(e){e&&e.querySelectorAll("tbody tr").forEach((a,n)=>{a.style.setProperty("--row-index",Math.min(n,10)),calEntranceObserver.observe(a)})}"scrollRestoration"in history&&(history.scrollRestoration="manual");const Router=function(){const e={homePage:"/",rosterPage:"/roster",listPage:"/girls",favoritesPage:"/favorites",valuePage:"/rates",employmentPage:"/employment",calendarPage:"/calendar",analyticsPage:"/analytics",profileDbPage:"/profile-database"},a={};for(const m in e)a[e[m]]=m;function n(m){return encodeURIComponent((m||"").trim().replace(/\s+/g,"-"))}function i(m){return decodeURIComponent(m||"").replace(/-/g," ")}function o(m){const p=m.toLowerCase();return girls.findIndex(f=>f.name&&f.name.trim().toLowerCase()===p)}function l(m){return e[m]||"/"}function d(m){const p=girls[m];return!p||!p.name?"/girls":"/girls/"+n(p.name)}let s=!1;function r(m,p){if(s)return;const f=p||"Ginza Empire";document.title=f,window.location.pathname!==m&&history.pushState({path:m},f,m)}function c(m,p){if(s)return;const f=p||"Ginza Empire";document.title=f,history.replaceState({path:m},f,m)}function u(){typeof queryToFilters=="function"&&queryToFilters();const m=window.location.pathname,p=m.match(/^\/girls\/(.+)$/);if(p){const v=i(p[1]),g=o(v);return g>=0?(s=!0,profileReturnPage="listPage",showProfile(g),s=!1,!0):(s=!0,showPage("listPage"),s=!1,c("/girls","Ginza – Girls"),!0)}const f=a[m];return f?f==="favoritesPage"&&!loggedIn||f==="calendarPage"&&!isAdmin()||f==="analyticsPage"&&!isAdmin()||f==="profileDbPage"&&!isAdmin()?(s=!0,showPage("homePage"),s=!1,c("/","Ginza Empire"),!0):(s=!0,showPage(f),s=!1,!0):(m!=="/"&&(s=!0,showPage("homePage"),s=!1,c("/","Ginza Empire")),!0)}return window.addEventListener("popstate",function(){u()}),{PAGE_ROUTES:e,push:r,replace:c,resolve:u,pathForPage:l,pathForProfile:d,nameToSlug:n,slugToName:i,findGirlByName:o}}();async function logAdminAction(e,a,n={}){if(!loggedInUser)return;let i=[],o=null;try{const d=await fetch(`${DATA_API}/${ALP}`,{headers:proxyHeaders()});if(d.ok){const s=await d.json();o=s.sha,i=dec(s.content)}}catch{}i.length>=500&&(i=i.slice(i.length-499)),i.push({ts:new Date().toISOString(),admin:loggedInUser,action:e,target:a,...n});const l={message:`Log ${e}`,content:enc(i)};o&&(l.sha=o);try{await fetch(`${DATA_API}/${ALP}`,{method:"PUT",headers:proxyHeaders(),body:JSON.stringify(l)})}catch{}}(function(){try{const e="ginza_privacy_seen";if(localStorage.getItem(e))return;const a=document.getElementById("privacyBanner");if(!a)return;a.style.display="flex";const n=()=>{a.style.display="none";try{localStorage.setItem(e,"1")}catch{}};document.getElementById("privacyDismissBtn").onclick=n}catch{}})(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js"),setTimeout(function(){document.querySelectorAll(".skeleton-fade").forEach(function(e){e.offsetParent!==null&&(e.innerHTML='<div class="error-state"><svg viewBox="0 0 24 24" width="32" height="32" fill="currentColor" style="opacity:.3;margin-bottom:12px"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg><p>Unable to load. Please refresh.</p></div>')})},15e3);function updateBreadcrumb(e){var a=document.getElementById("breadcrumbLd");if(a){if(!e||!e.length){a.textContent="";return}var n=e.map(function(i,o){return{"@type":"ListItem",position:o+1,name:i.name,item:i.url}});a.textContent=JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:n})}}let deleteTarget=-1,currentProfileIdx=0,rosterDateFilter=null,calPending={},gridSort="name",gridSortDir="asc";try{const e=localStorage.getItem("ginza_sort");if(e){const a=JSON.parse(e);a.s&&(gridSort=a.s),a.d&&(gridSortDir=a.d)}}catch{}function _persistSort(){try{localStorage.setItem("ginza_sort",JSON.stringify({s:gridSort,d:gridSortDir}))}catch{}}let ngIdx=0,ngList=[],copyTimeResolve=null,_savedScrollY=0,_countdownInterval=null,compareSelected=[];const COMPARE_MAX=5;function isCompareSelected(e){return compareSelected.includes(e)}function toggleCompare(e){const a=compareSelected.indexOf(e);if(a>=0)compareSelected.splice(a,1);else{if(compareSelected.length>=COMPARE_MAX)return showToast("Maximum "+COMPARE_MAX+" girls for comparison","error"),!1;compareSelected.push(e)}return updateCompareBar(),updateCompareButtons(),!0}function clearCompare(){compareSelected=[],updateCompareBar(),updateCompareButtons()}function updateCompareBar(){const e=document.getElementById("compareBar");if(!e)return;const a=compareSelected.length,n=parseInt(e.dataset.prevCount||"0");e.dataset.prevCount=a,document.getElementById("compareBarCount").textContent=a,e.classList.toggle("visible",a>0),a>n&&a>0&&(e.classList.remove("compare-pulse"),e.offsetWidth,e.classList.add("compare-pulse"),setTimeout(()=>e.classList.remove("compare-pulse"),600));const i=document.getElementById("compareOpen");i&&(i.disabled=a<2,i.style.opacity=a<2?".4":"1",i.style.pointerEvents=a<2?"none":"auto")}function updateCompareButtons(){const e=compareSelected.length;document.querySelectorAll(".card-compare").forEach(a=>{const n=a.dataset.compareName,i=compareSelected.includes(n);a.classList.toggle("active",i),a.title=i?"Remove from compare":"Add to compare";const o=a.querySelector(".compare-badge");o&&(o.textContent=e+"/"+COMPARE_MAX,o.style.display=i&&e>0?"":"none")})}let sharedFilters={nameSearch:"",country:[],ageMin:null,ageMax:null,bodyMin:null,bodyMax:null,heightMin:null,heightMax:null,cupSize:null,val1Min:null,val1Max:null,val2Min:null,val2Max:null,val3Min:null,val3Max:null,experience:null,ratingMin:null,labels:[]};function applySharedFilters(e){let a=e;if(sharedFilters.nameSearch){const n=sharedFilters.nameSearch.toLowerCase();a=a.filter(i=>i.name&&i.name.toLowerCase().includes(n))}return sharedFilters.country.length&&(a=a.filter(n=>{const i=n.country;return Array.isArray(i)?sharedFilters.country.every(o=>i.includes(o)):sharedFilters.country.length===1&&sharedFilters.country.includes(i)})),sharedFilters.ageMin!=null&&(a=a.filter(n=>{const i=parseFloat(n.age);return!isNaN(i)&&i>=sharedFilters.ageMin})),sharedFilters.ageMax!=null&&(a=a.filter(n=>{const i=parseFloat(n.age);return!isNaN(i)&&i<=sharedFilters.ageMax})),sharedFilters.bodyMin!=null&&(a=a.filter(n=>{const i=parseFloat(n.body);return!isNaN(i)&&i>=sharedFilters.bodyMin})),sharedFilters.bodyMax!=null&&(a=a.filter(n=>{const i=parseFloat(n.body);return!isNaN(i)&&i<=sharedFilters.bodyMax})),sharedFilters.heightMin!=null&&(a=a.filter(n=>{const i=parseFloat(n.height);return!isNaN(i)&&i>=sharedFilters.heightMin})),sharedFilters.heightMax!=null&&(a=a.filter(n=>{const i=parseFloat(n.height);return!isNaN(i)&&i<=sharedFilters.heightMax})),sharedFilters.cupSize&&(a=a.filter(n=>n.cup&&n.cup.toUpperCase().includes(sharedFilters.cupSize.toUpperCase()))),sharedFilters.val1Min!=null&&(a=a.filter(n=>{const i=parseFloat(n.val1);return!isNaN(i)&&i>=sharedFilters.val1Min})),sharedFilters.val1Max!=null&&(a=a.filter(n=>{const i=parseFloat(n.val1);return!isNaN(i)&&i<=sharedFilters.val1Max})),sharedFilters.val2Min!=null&&(a=a.filter(n=>{const i=parseFloat(n.val2);return!isNaN(i)&&i>=sharedFilters.val2Min})),sharedFilters.val2Max!=null&&(a=a.filter(n=>{const i=parseFloat(n.val2);return!isNaN(i)&&i<=sharedFilters.val2Max})),sharedFilters.val3Min!=null&&(a=a.filter(n=>{const i=parseFloat(n.val3);return!isNaN(i)&&i>=sharedFilters.val3Min})),sharedFilters.val3Max!=null&&(a=a.filter(n=>{const i=parseFloat(n.val3);return!isNaN(i)&&i<=sharedFilters.val3Max})),sharedFilters.labels.length&&(a=a.filter(n=>n.labels&&sharedFilters.labels.every(i=>n.labels.includes(i)))),sharedFilters.experience&&(a=a.filter(n=>n.exp===sharedFilters.experience)),sharedFilters.ratingMin!=null&&(a=a.filter(n=>{const i=n.reviews||[];return i.length?i.reduce((l,d)=>l+d.rating,0)/i.length>=sharedFilters.ratingMin:!1})),a}function hasActiveFilters(){return!!(sharedFilters.nameSearch||sharedFilters.country.length||sharedFilters.ageMin!=null||sharedFilters.ageMax!=null||sharedFilters.bodyMin!=null||sharedFilters.bodyMax!=null||sharedFilters.heightMin!=null||sharedFilters.heightMax!=null||sharedFilters.cupSize||sharedFilters.val1Min!=null||sharedFilters.val1Max!=null||sharedFilters.val2Min!=null||sharedFilters.val2Max!=null||sharedFilters.val3Min!=null||sharedFilters.val3Max!=null||sharedFilters.experience||sharedFilters.ratingMin!=null||sharedFilters.labels.length)}function countActiveFilters(){let e=0;return sharedFilters.nameSearch&&e++,sharedFilters.country.length&&e++,(sharedFilters.ageMin!=null||sharedFilters.ageMax!=null)&&e++,(sharedFilters.bodyMin!=null||sharedFilters.bodyMax!=null)&&e++,(sharedFilters.heightMin!=null||sharedFilters.heightMax!=null)&&e++,sharedFilters.cupSize&&e++,(sharedFilters.val1Min!=null||sharedFilters.val1Max!=null||sharedFilters.val2Min!=null||sharedFilters.val2Max!=null||sharedFilters.val3Min!=null||sharedFilters.val3Max!=null)&&e++,sharedFilters.experience&&e++,sharedFilters.ratingMin!=null&&e++,sharedFilters.labels.length&&e++,e}function clearAllFilters(){sharedFilters={nameSearch:"",country:[],ageMin:null,ageMax:null,bodyMin:null,bodyMax:null,heightMin:null,heightMax:null,cupSize:null,val1Min:null,val1Max:null,val2Min:null,val2Max:null,val3Min:null,val3Max:null,experience:null,ratingMin:null,labels:[]}}function filtersToQuery(){const e=new URLSearchParams;return sharedFilters.nameSearch&&e.set("search",sharedFilters.nameSearch),sharedFilters.country.length&&e.set("country",sharedFilters.country.join(",")),sharedFilters.ageMin!=null&&e.set("ageMin",sharedFilters.ageMin),sharedFilters.ageMax!=null&&e.set("ageMax",sharedFilters.ageMax),sharedFilters.bodyMin!=null&&e.set("bodyMin",sharedFilters.bodyMin),sharedFilters.bodyMax!=null&&e.set("bodyMax",sharedFilters.bodyMax),sharedFilters.heightMin!=null&&e.set("heightMin",sharedFilters.heightMin),sharedFilters.heightMax!=null&&e.set("heightMax",sharedFilters.heightMax),sharedFilters.cupSize&&e.set("cup",sharedFilters.cupSize),sharedFilters.val1Min!=null&&e.set("v1Min",sharedFilters.val1Min),sharedFilters.val1Max!=null&&e.set("v1Max",sharedFilters.val1Max),sharedFilters.val2Min!=null&&e.set("v2Min",sharedFilters.val2Min),sharedFilters.val2Max!=null&&e.set("v2Max",sharedFilters.val2Max),sharedFilters.val3Min!=null&&e.set("v3Min",sharedFilters.val3Min),sharedFilters.val3Max!=null&&e.set("v3Max",sharedFilters.val3Max),sharedFilters.experience&&e.set("exp",sharedFilters.experience),sharedFilters.labels.length&&e.set("labels",sharedFilters.labels.join(",")),sharedFilters.ratingMin!=null&&e.set("rating",sharedFilters.ratingMin),gridSort!=="name"&&e.set("sort",gridSort),gridSortDir!=="asc"&&e.set("sortDir",gridSortDir),e}function queryToFilters(){const e=new URLSearchParams(window.location.search);if(e.has("search")&&(sharedFilters.nameSearch=e.get("search")),e.has("country")&&(sharedFilters.country=e.get("country").split(",").filter(Boolean)),e.has("ageMin")){const a=parseFloat(e.get("ageMin"));isNaN(a)||(sharedFilters.ageMin=a)}if(e.has("ageMax")){const a=parseFloat(e.get("ageMax"));isNaN(a)||(sharedFilters.ageMax=a)}if(e.has("bodyMin")){const a=parseFloat(e.get("bodyMin"));isNaN(a)||(sharedFilters.bodyMin=a)}if(e.has("bodyMax")){const a=parseFloat(e.get("bodyMax"));isNaN(a)||(sharedFilters.bodyMax=a)}if(e.has("heightMin")){const a=parseFloat(e.get("heightMin"));isNaN(a)||(sharedFilters.heightMin=a)}if(e.has("heightMax")){const a=parseFloat(e.get("heightMax"));isNaN(a)||(sharedFilters.heightMax=a)}if(e.has("cup")&&(sharedFilters.cupSize=e.get("cup")),e.has("v1Min")){const a=parseFloat(e.get("v1Min"));isNaN(a)||(sharedFilters.val1Min=a)}if(e.has("v1Max")){const a=parseFloat(e.get("v1Max"));isNaN(a)||(sharedFilters.val1Max=a)}if(e.has("v2Min")){const a=parseFloat(e.get("v2Min"));isNaN(a)||(sharedFilters.val2Min=a)}if(e.has("v2Max")){const a=parseFloat(e.get("v2Max"));isNaN(a)||(sharedFilters.val2Max=a)}if(e.has("v3Min")){const a=parseFloat(e.get("v3Min"));isNaN(a)||(sharedFilters.val3Min=a)}if(e.has("v3Max")){const a=parseFloat(e.get("v3Max"));isNaN(a)||(sharedFilters.val3Max=a)}if(e.has("exp")&&(sharedFilters.experience=e.get("exp")),e.has("labels")&&(sharedFilters.labels=e.get("labels").split(",").filter(Boolean)),e.has("rating")){const a=parseFloat(e.get("rating"));isNaN(a)||(sharedFilters.ratingMin=a)}if(e.has("sort")){const a=["name","newest","age","body","height","cup","lastSeen"],n=e.get("sort");a.includes(n)&&(gridSort=n)}if(e.has("sortDir")){const a=e.get("sortDir");(a==="asc"||a==="desc")&&(gridSortDir=a)}}function pushFiltersToURL(){const a=filtersToQuery().toString(),n=window.location.pathname+(a?"?"+a:"");history.replaceState({path:window.location.pathname},document.title,n)}function getDataRange(e,a){const i=girls.filter(l=>l.name&&String(l.name).trim().length>0).map(l=>parseFloat(l[e])).filter(l=>!isNaN(l)&&l>0);if(!i.length)return{min:"Min",max:"Max",rawMin:null,rawMax:null};const o=a||"";return{min:o+Math.min(...i),max:o+Math.max(...i),rawMin:Math.min(...i),rawMax:Math.max(...i)}}function makeRangeSection(e,a,n,i,o){const l=document.createElement("div");l.className="fp-section";const d=getDataRange(i,o),s=sharedFilters[a]!=null?sharedFilters[a]:d.rawMin!=null?d.rawMin:"",r=sharedFilters[n]!=null?sharedFilters[n]:d.rawMax!=null?d.rawMax:"",c=d.rawMin!=null?` min="${d.rawMin}"`:"",u=d.rawMax!=null?` max="${d.rawMax}"`:"";return l.innerHTML=`<div class="fp-title">${e}</div><div class="fp-range"><div class="fp-range-row"><input class="fp-range-input" type="number" placeholder="${d.min}" data-fkey="${a}" data-default="${d.rawMin!=null?d.rawMin:""}"${c}${u} value="${s}"><span class="fp-range-sep">${t("fp.rangeSep")}</span><input class="fp-range-input" type="number" placeholder="${d.max}" data-fkey="${n}" data-default="${d.rawMax!=null?d.rawMax:""}"${c}${u} value="${r}"></div></div>`,l}function renderFilterPane(e){const a=document.getElementById(e);if(!a)return;a.innerHTML="";const n=girls.filter(s=>s.name&&String(s.name).trim().length>0),i=[...new Set(n.flatMap(s=>Array.isArray(s.country)?s.country:[s.country]).filter(Boolean))].sort(),o=[...new Set(n.map(s=>s.cup).filter(Boolean))].sort(),l=[...new Set(n.map(s=>s.exp).filter(Boolean))].sort(),d=[...new Set(n.flatMap(s=>s.labels||[]).filter(Boolean))].sort();if(n.length){const s=document.createElement("div");s.className="fp-section",s.innerHTML=`<div class="fp-title">${t("fp.search")}</div><input class="fp-range-input" type="text" data-role="name-search" placeholder="${t("ui.search")}" style="text-align:left;padding:6px 10px;width:100%">`,a.appendChild(s);const r=s.querySelector('[data-role="name-search"]');r.value=sharedFilters.nameSearch||"";let c;r.addEventListener("input",()=>{clearTimeout(c),c=setTimeout(()=>{sharedFilters.nameSearch=r.value.trim(),renderFilters(),renderGrid(),renderRoster(),document.getElementById("calendarPage").classList.contains("active")&&renderCalendar(),document.querySelectorAll('[data-role="name-search"]').forEach(u=>{u!==r&&(u.value=sharedFilters.nameSearch)})},300)}),a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"}))}{a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"}));const s=document.createElement("div");s.className="fp-section",s.innerHTML=`<div class="fp-title">${t("fp.rating")}</div><div class="fp-rating-options"></div>`,a.appendChild(s);const r=s.querySelector(".fp-rating-options");for(let c=5;c>=1;c--){const u=document.createElement("button");u.className="fp-option fp-rating-opt"+(sharedFilters.ratingMin===c?" active":"");const m=n.filter(p=>{const f=p.reviews||[];return f.length?f.reduce((g,y)=>g+y.rating,0)/f.length>=c:!1}).length;u.innerHTML=`<span class="fp-check">${sharedFilters.ratingMin===c?"✓":""}</span><span class="fp-rating-stars">${renderStarsStatic(c)}</span><span class="fp-rating-label">& up</span><span class="fp-count">${m}</span>`,u.onclick=()=>{sharedFilters.ratingMin=sharedFilters.ratingMin===c?null:c,onFiltersChanged()},r.appendChild(u)}}if(i.length){const s=document.createElement("div");s.className="fp-section",s.innerHTML=`<div class="fp-title">${t("fp.country")}</div><div class="fp-options"></div>`,a.appendChild(s);const r=s.querySelector(".fp-options");i.forEach(c=>{const u=document.createElement("button");u.className="fp-option"+(sharedFilters.country.includes(c)?" active":"");const m=n.filter(p=>{const f=p.country;return Array.isArray(f)?f.includes(c):f===c}).length;u.innerHTML=`<span class="fp-check">${sharedFilters.country.includes(c)?"✓":""}</span>${c}<span class="fp-count">${m}</span>`,u.onclick=()=>{sharedFilters.country.includes(c)?sharedFilters.country=sharedFilters.country.filter(p=>p!==c):sharedFilters.country.push(c),onFiltersChanged()},r.appendChild(u)})}if(a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"})),a.appendChild(makeRangeSection(t("fp.age"),"ageMin","ageMax","age")),a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"})),a.appendChild(makeRangeSection(t("fp.bodySize"),"bodyMin","bodyMax","body")),a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"})),a.appendChild(makeRangeSection(t("fp.height"),"heightMin","heightMax","height")),o.length){a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"}));const s=document.createElement("div");s.className="fp-section",s.innerHTML=`<div class="fp-title">${t("fp.cupSize")}</div><div class="fp-options"></div>`,a.appendChild(s);const r=s.querySelector(".fp-options");o.forEach(c=>{const u=document.createElement("button");u.className="fp-option"+(sharedFilters.cupSize===c?" active":"");const m=n.filter(p=>p.cup===c).length;u.innerHTML=`<span class="fp-check">${sharedFilters.cupSize===c?"✓":""}</span>${c}<span class="fp-count">${m}</span>`,u.onclick=()=>{sharedFilters.cupSize=sharedFilters.cupSize===c?null:c,onFiltersChanged()},r.appendChild(u)})}if(a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"})),a.appendChild(makeRangeSection(t("fp.rates30"),"val1Min","val1Max","val1","$")),a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"})),a.appendChild(makeRangeSection(t("fp.rates45"),"val2Min","val2Max","val2","$")),a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"})),a.appendChild(makeRangeSection(t("fp.rates60"),"val3Min","val3Max","val3","$")),l.length){a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"}));const s=document.createElement("div");s.className="fp-section",s.innerHTML=`<div class="fp-title">${t("fp.experience")}</div><div class="fp-options"></div>`,a.appendChild(s);const r=s.querySelector(".fp-options");l.forEach(c=>{const u=document.createElement("button");u.className="fp-option"+(sharedFilters.experience===c?" active":"");const m=n.filter(f=>f.exp===c).length,p=c==="Experienced"?t("exp.experienced"):c==="Inexperienced"?t("exp.inexperienced"):c;u.innerHTML=`<span class="fp-check">${sharedFilters.experience===c?"✓":""}</span>${p}<span class="fp-count">${m}</span>`,u.onclick=()=>{sharedFilters.experience=sharedFilters.experience===c?null:c,onFiltersChanged()},r.appendChild(u)})}if(d.length){a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"}));const s=document.createElement("div");s.className="fp-section",s.innerHTML=`<div class="fp-title">${t("fp.labels")}</div><div class="fp-options"></div>`,a.appendChild(s);const r=s.querySelector(".fp-options");d.forEach(c=>{const u=sharedFilters.labels.includes(c),m=document.createElement("button");m.className="fp-option"+(u?" active":"");const p=n.filter(f=>f.labels&&f.labels.includes(c)).length;m.innerHTML=`<span class="fp-check">${u?"✓":""}</span>${c}<span class="fp-count">${p}</span>`,m.onclick=()=>{u?sharedFilters.labels=sharedFilters.labels.filter(f=>f!==c):sharedFilters.labels.push(c),onFiltersChanged()},r.appendChild(m)})}if(hasActiveFilters()){a.appendChild(Object.assign(document.createElement("div"),{className:"fp-divider"}));const s=document.createElement("button");s.className="fp-clear",s.textContent=t("fp.clearAll"),s.onclick=()=>{clearAllFilters(),onFiltersChanged()},a.appendChild(s)}a.querySelectorAll(".fp-range-input").forEach(s=>{let r;function c(){const u=s.dataset.fkey;let m=s.value.trim();if(m==="")sharedFilters[u]=null;else{let p=parseFloat(m);if(isNaN(p)){sharedFilters[u]=null;return}const f=s.hasAttribute("min")?parseFloat(s.min):null,v=s.hasAttribute("max")?parseFloat(s.max):null;f!=null&&p<f&&(p=f,s.value=p),v!=null&&p>v&&(p=v,s.value=p);const g=s.dataset.default;sharedFilters[u]=g!==""&&p===parseFloat(g)?null:p}onFiltersChanged()}s.addEventListener("input",()=>{clearTimeout(r),r=setTimeout(c,400)}),s.addEventListener("blur",c)})}function renderActiveFilterChips(){const e=document.getElementById("activeFilterChips");if(!e)return;const a=[];if(sharedFilters.nameSearch&&a.push({label:"🔍 "+sharedFilters.nameSearch,rm:()=>{sharedFilters.nameSearch="",onFiltersChanged()}}),sharedFilters.country.forEach(i=>a.push({label:i,rm:()=>{sharedFilters.country=sharedFilters.country.filter(o=>o!==i),onFiltersChanged()}})),(sharedFilters.ageMin!=null||sharedFilters.ageMax!=null)&&a.push({label:"Age "+(sharedFilters.ageMin??"")+"–"+(sharedFilters.ageMax??""),rm:()=>{sharedFilters.ageMin=null,sharedFilters.ageMax=null,onFiltersChanged()}}),(sharedFilters.bodyMin!=null||sharedFilters.bodyMax!=null)&&a.push({label:"Body "+(sharedFilters.bodyMin??"")+"–"+(sharedFilters.bodyMax??""),rm:()=>{sharedFilters.bodyMin=null,sharedFilters.bodyMax=null,onFiltersChanged()}}),(sharedFilters.heightMin!=null||sharedFilters.heightMax!=null)&&a.push({label:"Height "+(sharedFilters.heightMin??"")+"–"+(sharedFilters.heightMax??""),rm:()=>{sharedFilters.heightMin=null,sharedFilters.heightMax=null,onFiltersChanged()}}),sharedFilters.cupSize&&a.push({label:"Cup "+sharedFilters.cupSize,rm:()=>{sharedFilters.cupSize=null,onFiltersChanged()}}),(sharedFilters.val1Min!=null||sharedFilters.val1Max!=null)&&a.push({label:"30min "+(sharedFilters.val1Min??"")+"–"+(sharedFilters.val1Max??""),rm:()=>{sharedFilters.val1Min=null,sharedFilters.val1Max=null,onFiltersChanged()}}),(sharedFilters.val2Min!=null||sharedFilters.val2Max!=null)&&a.push({label:"45min "+(sharedFilters.val2Min??"")+"–"+(sharedFilters.val2Max??""),rm:()=>{sharedFilters.val2Min=null,sharedFilters.val2Max=null,onFiltersChanged()}}),(sharedFilters.val3Min!=null||sharedFilters.val3Max!=null)&&a.push({label:"60min "+(sharedFilters.val3Min??"")+"–"+(sharedFilters.val3Max??""),rm:()=>{sharedFilters.val3Min=null,sharedFilters.val3Max=null,onFiltersChanged()}}),sharedFilters.experience&&a.push({label:sharedFilters.experience,rm:()=>{sharedFilters.experience=null,onFiltersChanged()}}),sharedFilters.ratingMin!=null&&a.push({label:"★ "+sharedFilters.ratingMin+"+ stars",rm:()=>{sharedFilters.ratingMin=null,onFiltersChanged()}}),sharedFilters.labels.forEach(i=>a.push({label:i,rm:()=>{sharedFilters.labels=sharedFilters.labels.filter(o=>o!==i),onFiltersChanged()}})),e.innerHTML="",!a.length){e.style.display="none";return}e.style.display="flex",a.forEach(i=>{const o=document.createElement("button");o.className="active-filter-chip",o.innerHTML=i.label+' <span class="chip-x">×</span>',o.onclick=i.rm,e.appendChild(o)});const n=document.createElement("button");n.className="active-filter-chip chip-clear-all",n.textContent=t("fp.clearAll"),n.onclick=()=>{clearAllFilters(),onFiltersChanged()},e.appendChild(n)}function onFiltersChanged(){const e=document.activeElement&&document.activeElement.dataset&&document.activeElement.dataset.role==="name-search",a=e?document.activeElement.selectionStart:0,n=e?document.activeElement.closest(".filter-pane"):null,i=n?n.id:null;if(renderFilterPane("girlsFilterPane"),renderFilterPane("rosterFilterPane"),renderFilterPane("calFilterPane"),renderFilterPane("profileFilterPane"),renderFilters(),renderGrid(),renderRoster(),updateFilterToggle(),pushFiltersToURL(),document.getElementById("calendarPage").classList.contains("active")&&renderCalendar(),document.getElementById("profilePage").classList.contains("active")){const o=getNamedGirlIndices();o.length?o.includes(currentProfileIdx)?renderProfileNav(currentProfileIdx):showProfile(o[0]):(document.getElementById("profileContent").innerHTML='<button class="back-btn" id="backBtn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>Back</button><div class="empty-msg">No profiles match the current filters</div>',document.getElementById("backBtn").onclick=()=>{window.history.length>1?window.history.back():showPage(profileReturnPage)})}if(i){const o=document.getElementById(i);if(o){const l=o.querySelector('[data-role="name-search"]');l&&(l.focus(),l.setSelectionRange(a,a))}}renderActiveFilterChips()}const allPages=["homePage","rosterPage","listPage","favoritesPage","valuePage","employmentPage","calendarPage","analyticsPage","profileDbPage","profilePage"].map(e=>document.getElementById(e));function showPage(e){if(resetOgMeta(),document.getElementById("calendarPage").classList.contains("active")&&e!=="calendarPage"){flushCalSave();let c=!1;for(const u in calPending)for(const m in calPending[u])calPending[u][m]&&calData[u]&&calData[u][m]&&(delete calData[u][m],c=!0);c&&(saveCalData(),renderRoster(),renderGrid()),calPending={}}const a=document.querySelector(".page.active"),n=document.getElementById(e),i=["page-enter","slide-enter-right","slide-enter-left"];if(n.classList.remove(...i),a&&a!==n){const c=a.id==="profilePage",u=c?"slide-exit-right":"page-exit",m=c?"slide-enter-left":"page-enter";a.classList.remove("active",...i),a.classList.add(u);const p=()=>{a.classList.remove(u),a.removeEventListener("animationend",p)};a.addEventListener("animationend",p),setTimeout(()=>{a.classList.remove(u)},400),n.offsetWidth,n.classList.add(m)}else allPages.forEach(c=>c.classList.remove("active",...i)),n.classList.add("page-enter");n.classList.add("active"),closeFilterPanel();const l={homePage:"Ginza Empire",rosterPage:"Ginza Empire – Roster",listPage:"Ginza Empire – Girls",favoritesPage:"Ginza Empire – Favorites",valuePage:"Ginza Empire – Rates",employmentPage:"Ginza Empire – Employment",calendarPage:"Ginza Empire – Calendar",analyticsPage:"Ginza Empire – Analytics",profileDbPage:"Ginza Empire – Profile Database"}[e]||"Ginza Empire";document.title=l,Router.push(Router.pathForPage(e),l),_activeFilterPaneId={rosterPage:"rosterFilterPane",listPage:"girlsFilterPane",calendarPage:"calFilterPane",profilePage:"profileFilterPane"}[e]||null,document.querySelectorAll(".nav-dropdown a").forEach(c=>c.classList.remove("active"));const s={homePage:"bnHome",rosterPage:"bnRoster",listPage:"bnGirls",favoritesPage:"bnFavorites"};document.querySelectorAll(".bottom-nav-item").forEach(c=>c.classList.remove("active"));const r=s[e];if(r){const c=document.getElementById(r);c&&c.classList.add("active")}e==="homePage"&&(document.getElementById("navHome").classList.add("active"),renderHome()),e==="rosterPage"&&(document.getElementById("navRoster").classList.add("active"),renderFilterPane("rosterFilterPane"),renderRoster()),e==="listPage"&&(document.getElementById("navGirls").classList.add("active"),renderFilterPane("girlsFilterPane"),renderGrid()),e==="favoritesPage"&&(document.getElementById("navFavorites").classList.add("active"),renderFavoritesGrid()),e==="valuePage"&&(document.getElementById("navValue").classList.add("active"),renderValueTable()),e==="employmentPage"&&document.getElementById("navEmployment").classList.add("active"),e==="calendarPage"&&(document.getElementById("navCalendar").classList.add("active"),calPending={},renderFilterPane("calFilterPane"),renderCalendar()),e==="analyticsPage"&&(document.getElementById("navAnalytics").classList.add("active"),typeof renderAnalytics=="function"&&renderAnalytics()),e==="profileDbPage"&&(document.getElementById("navProfileDb").classList.add("active"),typeof renderProfileDb=="function"&&renderProfileDb()),updateFilterToggle(),_pagesWithFilters.includes(e)&&pushFiltersToURL(),window.scrollTo(0,0)}document.getElementById("navHome").onclick=e=>{e.preventDefault(),showPage("homePage")},document.getElementById("navRoster").onclick=e=>{e.preventDefault(),showPage("rosterPage")},document.getElementById("navGirls").onclick=e=>{e.preventDefault(),showPage("listPage")},document.getElementById("navFavorites").onclick=e=>{e.preventDefault(),showPage("favoritesPage")},document.getElementById("bnHome").onclick=()=>showPage("homePage"),document.getElementById("bnRoster").onclick=()=>showPage("rosterPage"),document.getElementById("bnGirls").onclick=()=>showPage("listPage"),document.getElementById("bnFavorites").onclick=()=>showPage("favoritesPage"),document.getElementById("navValue").onclick=e=>{e.preventDefault(),showPage("valuePage")},document.getElementById("navEmployment").onclick=e=>{e.preventDefault(),showPage("employmentPage")},document.getElementById("navCalendar").onclick=e=>{e.preventDefault(),showPage("calendarPage")},document.getElementById("navAnalytics").onclick=e=>{e.preventDefault(),showPage("analyticsPage")},document.getElementById("navProfileDb").onclick=e=>{e.preventDefault(),showPage("profileDbPage")};const navMenuBtn=document.getElementById("navMenuBtn"),navDropdown=document.getElementById("navDropdown");navMenuBtn.onclick=()=>{navMenuBtn.classList.toggle("open"),navDropdown.classList.toggle("open")};function closeNavMenu(){navMenuBtn.classList.remove("open"),navDropdown.classList.remove("open")}navDropdown.querySelectorAll("a").forEach(e=>{const a=e.onclick;e.addEventListener("click",()=>closeNavMenu())}),document.addEventListener("click",e=>{e.target.closest(".nav-menu-wrap")||closeNavMenu()});function findExistingTimes(e,a){const n=getWeekDates();for(const i of n){if(i===a)continue;const o=getCalEntry(e,i);if(o&&o.start&&o.end)return{date:i,start:o.start,end:o.end}}return null}function closeCopyTimeModal(e){document.getElementById("copyTimeModal").classList.remove("open"),copyTimeResolve&&(copyTimeResolve(e),copyTimeResolve=null)}function showCopyTimePrompt(e,a,n,i){return new Promise(o=>{const l=document.getElementById("copyTimeModal"),d=dispDate(a);document.getElementById("copyTimeMsg").innerHTML=`<strong style="color:#fff">${e}</strong> has existing times from <strong style="color:#fff">${d.day} ${d.date}</strong>`,document.getElementById("copyTimeDetail").textContent=fmtTime12(n)+" — "+fmtTime12(i),copyTimeResolve=o,l.classList.add("open")})}document.getElementById("copyTimeCopy").onclick=()=>closeCopyTimeModal("copy"),document.getElementById("copyTimeNew").onclick=()=>closeCopyTimeModal("new"),document.getElementById("copyTimeCancel").onclick=()=>closeCopyTimeModal("cancel"),document.getElementById("copyTimeModal").onclick=e=>{e.target===document.getElementById("copyTimeModal")&&closeCopyTimeModal("cancel")},window.addEventListener("beforeunload",()=>closeCopyTimeModal("cancel"));let copyDaySource=null,copyDayTargets=[];function openCopyDayModal(){const e=getWeekDates();copyDaySource=null,copyDayTargets=[];for(const a of e)if(getScheduledForDay(a).length>0){copyDaySource=a;break}copyDaySource||(copyDaySource=e[0]),renderCopyDayModal(),document.getElementById("copyDayModal").classList.add("open")}function getScheduledForDay(e){return girls.filter(a=>{if(!a.name)return!1;const n=getCalEntry(a.name,e);return n&&n.start&&n.end})}function renderCopyDayModal(){const e=getWeekDates(),a=e[0],n=document.getElementById("copyDaySources");n.innerHTML="",e.forEach(r=>{const c=dispDate(r),u=getScheduledForDay(r).length,m=document.createElement("button");m.className="copy-day-btn"+(r===copyDaySource?" active":"")+(u===0?" disabled":""),m.innerHTML=(r===a?t("ui.today"):c.day)+' <span style="opacity:.5;font-size:11px">('+u+")</span>",m.onclick=()=>{copyDaySource=r,copyDayTargets=copyDayTargets.filter(p=>p!==r),renderCopyDayModal()},n.appendChild(m)});const i=document.getElementById("copyDayPreview"),o=getScheduledForDay(copyDaySource);if(o.length){const r=dispDate(copyDaySource);i.innerHTML='<div class="copy-day-preview-title">'+r.day+" "+r.date+" — "+o.length+" girl"+(o.length>1?"s":"")+'</div><div class="copy-day-preview-list">'+o.map(c=>{const u=getCalEntry(c.name,copyDaySource);return'<div class="copy-day-preview-item"><span class="cdp-name">'+c.name+'</span><span class="cdp-time">'+fmtTime12(u.start)+" — "+fmtTime12(u.end)+"</span></div>"}).join("")+"</div>"}else i.innerHTML='<div class="copy-day-preview-empty">'+t("cal.noScheduled")+"</div>";const l=document.getElementById("copyDayTargets");l.innerHTML="",e.forEach(r=>{if(r===copyDaySource)return;const c=dispDate(r),u=getScheduledForDay(r).length,m=document.createElement("button");m.className="copy-day-btn"+(copyDayTargets.includes(r)?" target-active":""),m.innerHTML=(r===a?t("ui.today"):c.day)+(u>0?' <span style="opacity:.5;font-size:11px">('+u+")</span>":""),m.onclick=()=>{const p=copyDayTargets.indexOf(r);p>=0?copyDayTargets.splice(p,1):copyDayTargets.push(r),renderCopyDayModal()},l.appendChild(m)});const d=e.filter(r=>r!==copyDaySource);if(d.length>1){const r=document.createElement("button");r.className="copy-day-btn"+(copyDayTargets.length===d.length?" target-active":""),r.style.fontStyle="italic",r.textContent=t("cal.all"),r.onclick=()=>{copyDayTargets.length===d.length?copyDayTargets=[]:copyDayTargets=[...d],renderCopyDayModal()},l.appendChild(r)}const s=document.getElementById("copyDayApply");s.disabled=o.length===0||copyDayTargets.length===0,s.style.opacity=s.disabled?".4":"1",s.style.pointerEvents=s.disabled?"none":"auto"}function closeCopyDayModal(){document.getElementById("copyDayModal").classList.remove("open")}document.getElementById("copyDayCancel").onclick=closeCopyDayModal,document.getElementById("copyDayModal").onclick=e=>{e.target===document.getElementById("copyDayModal")&&closeCopyDayModal()},document.getElementById("copyDayApply").onclick=async function(){const e=getScheduledForDay(copyDaySource);if(!e.length||!copyDayTargets.length)return;const a=document.getElementById("copyDayOverwrite").checked;let n=0;copyDayTargets.forEach(i=>{e.forEach(o=>{const l=getCalEntry(o.name,copyDaySource);if(!l||!l.start||!l.end)return;const d=getCalEntry(o.name,i);d&&d.start&&d.end&&!a||(calData[o.name]||(calData[o.name]={}),calData[o.name][i]={start:l.start,end:l.end},n++)})}),n>0?(this.textContent="Saving...",this.style.pointerEvents="none",await saveCalData(),this.textContent=t("cal.copyDayBtn"),this.style.pointerEvents="auto",renderCalendar(),renderRoster(),renderGrid(),renderHome(),showToast("Copied "+e.length+" schedule"+(e.length>1?"s":"")+" to "+copyDayTargets.length+" day"+(copyDayTargets.length>1?"s":""))):showToast("Nothing to copy (all targets already have entries)","error"),closeCopyDayModal()};let bulkTimeName="",bulkTimeDays=[];function openBulkTimeModal(e){bulkTimeName=e;const a=getWeekDates();bulkTimeDays=a.filter(l=>{const d=getCalEntry(e,l);return!d||!d.start||!d.end}),bulkTimeDays.length||(bulkTimeDays=[...a]);let n="",i="";for(const l of a){const d=getCalEntry(e,l);if(d&&d.start&&d.end){n=d.start,i=d.end;break}}document.getElementById("bulkTimeName").textContent=e;const o=generateTimeOptions();document.getElementById("bulkTimeStart").innerHTML=o,document.getElementById("bulkTimeEnd").innerHTML=o,n&&(document.getElementById("bulkTimeStart").value=n),i&&(document.getElementById("bulkTimeEnd").value=i),renderBulkTimeDays(),document.getElementById("bulkTimeModal").classList.add("open")}function renderBulkTimeDays(){const e=getWeekDates(),a=e[0],n=document.getElementById("bulkTimeDays");n.innerHTML="",e.forEach(l=>{const d=dispDate(l),s=getCalEntry(bulkTimeName,l),r=document.createElement("button");r.className="copy-day-btn"+(bulkTimeDays.includes(l)?" target-active":""),r.innerHTML=(l===a?t("ui.today"):d.day)+(s&&s.start?' <span style="opacity:.4;font-size:10px">✓</span>':""),r.onclick=()=>{const c=bulkTimeDays.indexOf(l);c>=0?bulkTimeDays.splice(c,1):bulkTimeDays.push(l),renderBulkTimeDays()},n.appendChild(r)});const i=document.createElement("button");i.className="copy-day-btn"+(bulkTimeDays.length===e.length?" target-active":""),i.style.fontStyle="italic",i.textContent=t("cal.all"),i.onclick=()=>{bulkTimeDays.length===e.length?bulkTimeDays=[]:bulkTimeDays=[...e],renderBulkTimeDays()},n.appendChild(i);const o=document.getElementById("bulkTimeApply");o.disabled=bulkTimeDays.length===0,o.style.opacity=o.disabled?".4":"1",o.style.pointerEvents=o.disabled?"none":"auto"}function closeBulkTimeModal(){document.getElementById("bulkTimeModal").classList.remove("open")}document.getElementById("bulkTimeCancel").onclick=closeBulkTimeModal,document.getElementById("bulkTimeModal").onclick=e=>{e.target===document.getElementById("bulkTimeModal")&&closeBulkTimeModal()},document.getElementById("bulkTimeApply").onclick=async function(){const e=document.getElementById("bulkTimeStart").value,a=document.getElementById("bulkTimeEnd").value;if(!e||!a){showToast("Please set both start and end times","error");return}const n=bulkTimeName;calData[n]||(calData[n]={}),bulkTimeDays.forEach(i=>{calData[n][i]={start:e,end:a},calPending[n]&&delete calPending[n][i]}),this.textContent="Saving...",this.style.pointerEvents="none",await saveCalData(),this.textContent=t("cal.apply"),this.style.pointerEvents="auto",renderCalendar(),renderRoster(),renderGrid(),renderHome(),showToast(n+" marked available for "+bulkTimeDays.length+" day"+(bulkTimeDays.length>1?"s":"")),closeBulkTimeModal()};function getNewGirls(){const e=getAEDTDate(),a=new Date(e);return a.setDate(a.getDate()-28),girls.filter(n=>{if(!isAdmin()&&n.hidden||!n.startDate)return!1;const i=new Date(n.startDate+"T00:00:00");return i>=a&&i<=e})}function renderHome(){safeRender("Home",()=>{const e=document.getElementById("homeImages");e.innerHTML="";const a="https://raw.githubusercontent.com/sydneyginza/sydneyginza.github.io/main/Images/Homepage/Homepage_";for(let i=1;i<=4;i++){const o=document.createElement("div");o.className="home-img-card",o.style.cursor="default",o.innerHTML=`<img src="${a}${i}.jpg" alt="Ginza venue photo ${i}">`,e.appendChild(o)}document.getElementById("homeAnnounce").innerHTML="<p></p>",ngList=getNewGirls(),ngIdx=0,renderNewGirls(),renderRecentlyViewed();const n=[document.querySelector("#homePage .home-mid"),document.getElementById("homeWelcomeEn"),document.querySelector('[data-i18n="home.location"]'),document.getElementById("homeLocation"),document.getElementById("homeMap"),document.querySelector('[data-i18n="home.hours"]'),document.getElementById("homeHours")].filter(Boolean);n.forEach(i=>{i.classList.add("scroll-reveal"),i.classList.remove("revealed")}),window._homeRevealObs&&window._homeRevealObs.disconnect(),window._homeRevealObs=new IntersectionObserver((i,o)=>{i.forEach(l=>{l.isIntersecting&&(l.target.classList.add("revealed"),o.unobserve(l.target))})},{threshold:.12,rootMargin:"0px 0px -60px 0px"}),n.forEach(i=>window._homeRevealObs.observe(i))})}function renderRecentlyViewed(e="homeRecentlyViewed",a="homePage"){const n=document.getElementById(e);if(!n)return;const o=getRecentlyViewed().map(r=>{const c=girls.findIndex(u=>u.name===r.name);return c>=0?{g:girls[c],idx:c}:null}).filter(r=>r&&(isAdmin()||!r.g.hidden));if(!o.length){n.style.display="none";return}n.style.display="";const l="rvClearBtn_"+e;let d=`<div class="rv-header"><div class="profile-desc-title">${t("rv.title")}</div><button class="rv-clear-btn" id="${l}">${t("rv.clear")}</button></div><div class="also-avail-strip">`;o.forEach(({g:r,idx:c})=>{const u=r.name&&isAvailableNow(r.name),m=r.photos&&r.photos.length?`<img src="${r.photos[0]}" alt="${(r.name||"").replace(/"/g,"&quot;")}">`:'<div class="silhouette"></div>';d+=`<div class="also-avail-card" data-rv-idx="${c}">${m}<div class="also-avail-name">${r.name}</div>${u?'<span class="avail-now-dot"></span>':""}</div>`}),d+="</div>",n.innerHTML=d,n.querySelectorAll(".also-avail-card").forEach(r=>{r.onclick=()=>{_savedScrollY=window.scrollY,sessionStorage.setItem("ginza_scroll",window.scrollY),profileReturnPage=a,showProfile(parseInt(r.dataset.rvIdx))}});const s=document.getElementById(l);s&&(s.onclick=()=>{clearRecentlyViewed(),renderRecentlyViewed(e,a)})}function renderNewGirls(){const e=document.getElementById("ngNav"),a=document.getElementById("ngDisplay");if(e.innerHTML="",a.innerHTML="",!ngList.length){a.innerHTML='<div class="ng-empty">No new girls this month</div>';return}ngIdx>=ngList.length&&(ngIdx=0),ngIdx<0&&(ngIdx=ngList.length-1);const n=document.createElement("button");n.className="ng-arrow",n.innerHTML='<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>',n.onclick=()=>{ngIdx=(ngIdx-1+ngList.length)%ngList.length,renderNewGirls()},e.appendChild(n);const i=document.createElement("div");i.className="ng-dots";const o=3;let l=Math.max(0,ngIdx-Math.floor(o/2)),d=Math.min(ngList.length,l+o);d-l<o&&(l=Math.max(0,d-o));for(let p=l;p<d;p++){const f=document.createElement("button");f.className="ng-dot"+(p===ngIdx?" active":"");const v=ngList[p];f.innerHTML=v.photos&&v.photos.length?`<img src="${v.photos[0]}" alt="${v.name}">`:`<span>${v.name.charAt(0)}</span>`,f.onclick=()=>{ngIdx=p,renderNewGirls()},i.appendChild(f)}e.appendChild(i);const s=document.createElement("div");s.className="ng-counter",s.innerHTML=`<span>${ngIdx+1}</span> / ${ngList.length}`,e.appendChild(s);const r=document.createElement("button");r.className="ng-arrow",r.innerHTML='<svg viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"/></svg>',r.onclick=()=>{ngIdx=(ngIdx+1)%ngList.length,renderNewGirls()},e.appendChild(r);const c=ngList[ngIdx],u=girls.indexOf(c),m=c.photos&&c.photos.length?`<img src="${c.photos[0]}" alt="${c.name}">`:'<div class="ng-placeholder"></div>';a.innerHTML=`<div class="ng-card"><div class="ng-photo" data-idx="${u}" style="cursor:pointer">${m}</div><a class="ng-name" data-idx="${u}">${c.name}</a></div>`,a.querySelector(".ng-photo").onclick=()=>{_savedScrollY=window.scrollY,sessionStorage.setItem("ginza_scroll",window.scrollY),profileReturnPage="homePage",showProfile(u)},a.querySelector(".ng-name").onclick=()=>{_savedScrollY=window.scrollY,sessionStorage.setItem("ginza_scroll",window.scrollY),profileReturnPage="homePage",showProfile(u)}}(function(){const e=document.getElementById("homeSearchInput"),a=document.getElementById("homeSearchBtn");if(!e||!a)return;function n(){const i=e.value.trim();i&&(sharedFilters.nameSearch=i,showPage("listPage"),e.value="")}e.addEventListener("keydown",i=>{i.key==="Enter"&&n()}),a.onclick=n})();let lbPhotos=[],lbIdx=0,lbName="";const lightbox=document.getElementById("lightbox"),lbImg=document.getElementById("lbImg"),lbStrip=document.getElementById("lbStrip"),lbCounter=document.getElementById("lbCounter");function lbUpdateCounter(){lbCounter.innerHTML=`<span>${lbIdx+1}</span> / ${lbPhotos.length}`}function lbUpdateStrip(){lbStrip.querySelectorAll(".lb-strip-thumb").forEach((a,n)=>{a.classList.toggle("active",n===lbIdx)});const e=lbStrip.querySelector(".lb-strip-thumb.active");e&&e.scrollIntoView({inline:"center",block:"nearest",behavior:"smooth"})}function lbRenderStrip(){lbStrip.innerHTML="",lbPhotos.forEach((e,a)=>{const n=document.createElement("div");n.className="lb-strip-thumb"+(a===lbIdx?" active":""),n.innerHTML=`<img src="${e}" alt="${(lbName||"Photo "+(a+1)).replace(/"/g,"&quot;")}">`,n.onclick=()=>lbGoTo(a),lbStrip.appendChild(n)})}function lbGoTo(e){e!==lbIdx&&(lbImg.classList.add("lb-fade"),setTimeout(()=>{lbIdx=e,lbImg.src=lbPhotos[lbIdx],lbImg.alt=lbName||"",lbImg.onload=()=>{lbImg.classList.remove("lb-fade")},lbUpdateCounter(),lbUpdateStrip()},150))}function closeLightbox(){lightbox.classList.remove("open"),document.body.style.overflow=""}document.getElementById("lbClose").onclick=closeLightbox,lightbox.onclick=e=>{(e.target===lightbox||e.target.classList.contains("lightbox-main"))&&closeLightbox()},document.getElementById("lbPrev").onclick=e=>{e.stopPropagation(),lbGoTo((lbIdx-1+lbPhotos.length)%lbPhotos.length)},document.getElementById("lbNext").onclick=e=>{e.stopPropagation(),lbGoTo((lbIdx+1)%lbPhotos.length)};function openLightbox(e,a,n){lbPhotos=e,lbIdx=a,lbName=n||"",lbImg.src=e[a],lbImg.alt=lbName||"",lbImg.classList.remove("lb-fade"),lbUpdateCounter(),lbRenderStrip(),lightbox.classList.add("open"),document.body.style.overflow="hidden"}document.addEventListener("keydown",e=>{lightbox.classList.contains("open")&&(e.key==="Escape"&&closeLightbox(),e.key==="ArrowLeft"&&lbGoTo((lbIdx-1+lbPhotos.length)%lbPhotos.length),e.key==="ArrowRight"&&lbGoTo((lbIdx+1)%lbPhotos.length))}),function(){let e=0,a=0;const n=document.getElementById("lightbox");n.addEventListener("touchstart",i=>{e=i.touches[0].clientX,a=i.touches[0].clientY},{passive:!0}),n.addEventListener("touchend",i=>{if(!n.classList.contains("open"))return;const o=i.changedTouches[0].clientX-e,l=i.changedTouches[0].clientY-a;Math.abs(o)>50&&Math.abs(o)>Math.abs(l)&&(o<0?lbGoTo((lbIdx+1)%lbPhotos.length):lbGoTo((lbIdx-1+lbPhotos.length)%lbPhotos.length))},{passive:!0})}();function openCompareModal(){if(compareSelected.length<2)return;const e=document.getElementById("compareOverlay"),a=document.getElementById("compareGrid");if(!e||!a)return;const n=compareSelected.map(l=>girls.find(d=>d.name===l)).filter(Boolean);if(n.length<2)return;const i=[{label:t("fp.country"),fn:l=>Array.isArray(l.country)?l.country.join(", "):l.country||"—"},{label:t("field.age"),fn:l=>l.age||"—",raw:l=>parseFloat(l.age)},{label:t("fp.height"),fn:l=>l.height?l.height+" cm":"—",raw:l=>parseFloat(l.height)},{label:t("field.body"),fn:l=>l.body||"—",raw:l=>parseFloat(l.body)},{label:t("fp.cupSize"),fn:l=>l.cup||"—",alpha:l=>l.cup?l.cup.trim().charAt(0).toUpperCase():null},{label:t("field.rates30"),fn:l=>l.val1?"$"+l.val1:"—",raw:l=>parseFloat(l.val1)},{label:t("field.rates45"),fn:l=>l.val2?"$"+l.val2:"—",raw:l=>parseFloat(l.val2)},{label:t("field.rates60"),fn:l=>l.val3?"$"+l.val3:"—",raw:l=>parseFloat(l.val3)},{label:t("field.experience"),fn:l=>l.exp||"—",fixedColor:l=>l.exp==="Experienced"?"#00c864":l.exp==="Inexperienced"?"#ff4d4d":null},{label:t("field.labels"),fn:l=>l.labels&&l.labels.length?l.labels.slice().sort().join(", "):"—"}];let o='<table class="compare-stat-table"><thead><tr><th></th>';n.forEach(l=>{const d=l.photos&&l.photos.length?`<img src="${l.photos[0]}" class="compare-col-photo" alt="${l.name.replace(/"/g,"&quot;")}">`:'<div class="compare-col-photo-placeholder"></div>';o+=`<th style="text-align:center;padding-bottom:16px;vertical-align:bottom">${d}<div class="compare-col-name">${l.name}</div></th>`}),o+="</tr></thead><tbody>",i.forEach(l=>{if(o+="<tr>",o+=`<td>${l.label}</td>`,l.raw){const d=n.map(u=>l.raw(u)),s=d.filter(u=>!isNaN(u)),r=s.length?Math.max(...s):null,c=s.length?Math.min(...s):null;n.forEach((u,m)=>{const p=d[m];let f="";!isNaN(p)&&r!==null&&c!==null&&r!==c&&(p===r?f=' style="color:#ff4d4d;font-weight:600"':p===c&&(f=' style="color:#00c864;font-weight:600"')),o+=`<td${f}>${l.fn(u)}</td>`})}else if(l.alpha){const d=n.map(u=>l.alpha(u)),s=[...new Set(d.filter(Boolean))].sort(),r=s.length?s[s.length-1]:null,c=s.length?s[0]:null;n.forEach((u,m)=>{const p=d[m];let f="";p&&r&&c&&r!==c&&(p===r?f=' style="color:#ff4d4d;font-weight:600"':p===c&&(f=' style="color:#00c864;font-weight:600"')),o+=`<td${f}>${l.fn(u)}</td>`})}else l.fixedColor?n.forEach(d=>{const s=l.fixedColor(d);o+=`<td${s?` style="color:${s};font-weight:600"`:""}>${l.fn(d)}</td>`}):n.forEach(d=>{o+=`<td>${l.fn(d)}</td>`});o+="</tr>"}),o+="</tbody></table>",a.innerHTML=o,e.classList.add("open"),document.body.style.overflow="hidden"}function closeCompareModal(){const e=document.getElementById("compareOverlay");e&&e.classList.remove("open"),document.body.style.overflow=""}(function(){const e=document.getElementById("compareClear"),a=document.getElementById("compareOpen"),n=document.getElementById("compareClose"),i=document.getElementById("compareDone"),o=document.getElementById("compareOverlay");e&&(e.onclick=clearCompare),a&&(a.onclick=openCompareModal),n&&(n.onclick=closeCompareModal),i&&(i.onclick=closeCompareModal),o&&(o.onclick=l=>{l.target===o&&closeCompareModal()}),document.addEventListener("keydown",l=>{o&&o.classList.contains("open")&&l.key==="Escape"&&closeCompareModal()})})();function getNamedGirlIndices(){const e=girls.map((o,l)=>({g:o,i:l})).filter(o=>o.g.name&&String(o.g.name).trim().length>0&&(isAdmin()||!o.g.hidden)),a=applySharedFilters(e.map(o=>o.g)),n=e.filter(o=>a.includes(o.g));return applySortOrder(n.map(o=>o.g)).map(o=>n.find(l=>l.g===o).i)}function showProfileReplace(e){const a=Router.push;Router.push=Router.replace;try{showProfile(e)}finally{Router.push=a}}function renderProfileNav(e){const a=document.getElementById("profileNavRail");a.innerHTML="";const n=getNamedGirlIndices(),i=n.length;if(i===0)return;const o=n.indexOf(e),l=o>=0?o:0,d=n[l<=0?i-1:l-1],s=n[l>=i-1?0:l+1];[d,s].forEach(f=>{const v=girls[f];if(!v||!v.photos||!v.photos.length)return;const g=v.photos[0];if(!g||g.startsWith("data:"))return;const y="pfetch-"+f;if(!document.getElementById(y)){const M=document.createElement("link");M.rel="prefetch",M.as="image",M.href=g,M.id=y,document.head.appendChild(M)}});const r=document.createElement("button");r.className="pnav-arrow",r.innerHTML='<svg viewBox="0 0 24 24"><path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6z"/></svg>',r.onclick=()=>showProfileReplace(d),a.appendChild(r);const c=document.createElement("div");c.className="pnav-dots";for(let f=0;f<i;f++){const v=n[f],g=document.createElement("button");g.className="pnav-dot"+(v===e?" active":"")+(girls[v].hidden?" pnav-dot-hidden":"");const y=girls[v];g.innerHTML=y.photos&&y.photos.length?`<div class="dot-inner"><img src="${y.photos[0]}" alt="${(y.name||"").replace(/"/g,"&quot;")}"></div>`:`<div class="dot-inner"><span class="dot-letter">${(y.name||"?").charAt(0)}</span></div>`,g.onclick=()=>showProfileReplace(v),c.appendChild(g)}a.appendChild(c);const u=document.createElement("div");u.className="pnav-counter",u.innerHTML=`<span>${l+1}</span> / ${i}`,a.appendChild(u);const m=document.createElement("button");m.className="pnav-arrow",m.innerHTML='<svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>',m.onclick=()=>showProfileReplace(s),a.appendChild(m);const p=c.querySelector(".pnav-dot.active");p&&setTimeout(()=>p.scrollIntoView({inline:"center",block:"nearest",behavior:"smooth"}),50)}function updateOgMeta(e,a){const n=(u,m,p)=>{p=p||"property";let f=document.querySelector("meta["+p+'="'+u+'"]');f||(f=document.createElement("meta"),f.setAttribute(p,u),document.head.appendChild(f)),f.setAttribute("content",m)},i="https://sydneyginza.github.io"+Router.pathForProfile(a),o=e.photos&&e.photos.length?e.photos[0]:"https://raw.githubusercontent.com/sydneyginza/sydneyginza.github.io/main/Images/Homepage/Homepage_1.jpg",d=[Array.isArray(e.country)?e.country.join("/"):e.country||"",e.age?"Age "+e.age:"",e.body?"Body "+e.body:"",e.height?e.height+" cm":"",e.cup?e.cup+" cup":"",e.val3?"From "+e.val3+"/hr":"",e.exp||""].filter(Boolean),s=d.length?d.join(" · ")+" – Ginza Empire, Sydney":"View profile at Ginza Empire, Sydney.",r=(e.name||"Profile")+" – Ginza Empire";n("og:title",r),n("og:description",s),n("og:url",i),n("og:image",o),n("twitter:title",r,"name"),n("twitter:description",s,"name"),n("twitter:image",o,"name"),n("description",s,"name");let c=document.querySelector('link[rel="canonical"]');c||(c=document.createElement("link"),c.rel="canonical",document.head.appendChild(c)),c.href=i}function updateProfileJsonLd(e,a){let n=document.getElementById("profileLd");n||(n=document.createElement("script"),n.type="application/ld+json",n.id="profileLd",document.head.appendChild(n));const i="https://sydneyginza.github.io"+Router.pathForProfile(a),o=e.photos&&e.photos.length?e.photos[0]:"",l=Array.isArray(e.country)?e.country[0]:e.country||"",d={"@type":"Person",name:e.name||"",worksFor:{"@id":"https://sydneyginza.github.io/#empire"}};o&&(d.image=e.photos.length>1?e.photos:o),l&&(d.nationality=l),e.desc&&(d.description=e.desc.replace(/<[^>]*>/g,"").substring(0,300));const s=[];e.val1&&s.push({"@type":"Offer",name:"30 min session",price:String(e.val1).replace(/[^0-9.]/g,""),priceCurrency:"AUD"}),e.val2&&s.push({"@type":"Offer",name:"45 min session",price:String(e.val2).replace(/[^0-9.]/g,""),priceCurrency:"AUD"}),e.val3&&s.push({"@type":"Offer",name:"60 min session",price:String(e.val3).replace(/[^0-9.]/g,""),priceCurrency:"AUD"}),s.length&&(d.makesOffer=s);const r=e.reviews||[],c={"@context":"https://schema.org","@type":"ProfilePage",url:i,mainEntity:d};if(r.length){const u=r.reduce((m,p)=>m+p.rating,0)/r.length;c.mainEntity.aggregateRating={"@type":"AggregateRating",ratingValue:u.toFixed(1),bestRating:"5",ratingCount:r.length}}n.textContent=JSON.stringify(c),typeof updateBreadcrumb=="function"&&updateBreadcrumb([{name:"Home",url:"https://sydneyginza.github.io/"},{name:"Girls",url:"https://sydneyginza.github.io/girls"},{name:e.name||"Profile",url:i}])}function resetOgMeta(){const e=(d,s,r)=>{r=r||"property";const c=document.querySelector("meta["+r+'="'+d+'"]');c&&c.setAttribute("content",s)},a="Ginza Empire – Sydney's Premier Asian Bordello",n="Sydney's premier Asian bordello in Surry Hills. Browse our roster of stunning girls, check live availability, and view rates. Open daily 10:30am–1am at 310 Cleveland St.",i="https://raw.githubusercontent.com/sydneyginza/sydneyginza.github.io/main/Images/Homepage/Homepage_1.jpg";e("og:title",a),e("og:description",n),e("og:url","https://sydneyginza.github.io"),e("og:image",i),e("twitter:title",a,"name"),e("twitter:description",n,"name"),e("twitter:image",i,"name"),e("description",n,"name");const o=document.querySelector('link[rel="canonical"]');o&&(o.href="https://sydneyginza.github.io");const l=document.getElementById("profileLd");l&&l.remove(),typeof updateBreadcrumb=="function"&&updateBreadcrumb(null)}function renderAlsoAvailable(e){const a=girls[e];if(!a)return;const n=fmtDate(getAEDTDate()),i=girls.filter(s=>{if(!s.name||s.name===a.name||!isAdmin()&&s.hidden)return!1;const r=getCalEntry(s.name,n);return r&&r.start&&r.end}).slice(0,8);if(!i.length)return;const o=document.createElement("div");o.className="profile-also";const l=document.createElement("div");l.className="profile-desc-title",l.textContent=t("ui.alsoAvail"),o.appendChild(l);const d=document.createElement("div");d.className="also-avail-strip",i.forEach(s=>{const r=girls.indexOf(s),c=isAvailableNow(s.name),u=document.createElement("div");u.className="also-avail-card";const m=s.photos&&s.photos.length?`<img src="${s.photos[0]}" alt="${s.name.replace(/"/g,"&quot;")}">`:'<div class="silhouette"></div>';u.innerHTML=`${m}<div class="also-avail-name">${s.name}</div>${c?'<span class="avail-now-dot"></span>':""}`,u.onclick=()=>showProfile(r),d.appendChild(u)}),o.appendChild(d),document.getElementById("profileContent").appendChild(o)}function _avgRate(e){const a=[parseFloat(e.val1),parseFloat(e.val2),parseFloat(e.val3)].filter(n=>!isNaN(n)&&n>0);return a.length?a.reduce((n,i)=>n+i,0)/a.length:0}function computeSimilarity(e,a){let n=0;const i=Array.isArray(e.country)?e.country:[e.country],o=Array.isArray(a.country)?a.country:[a.country];i.some(m=>m&&o.includes(m))&&(n+=1);const l=parseFloat(e.age),d=parseFloat(a.age);!isNaN(l)&&!isNaN(d)&&Math.abs(l-d)<=3&&(n+=1);const s=parseFloat(e.body),r=parseFloat(a.body);!isNaN(s)&&!isNaN(r)&&Math.abs(s-r)<=2&&(n+=1),e.cup&&a.cup&&e.cup.trim().charAt(0).toUpperCase()===a.cup.trim().charAt(0).toUpperCase()&&(n+=1);const c=_avgRate(e),u=_avgRate(a);return c>0&&u>0&&Math.abs(c-u)/Math.max(c,u)<=.2&&(n+=1),n/5}function renderSimilarGirls(e){const a=girls[e];if(!a||!a.name)return;const n=fmtDate(getAEDTDate()),i=new Set;girls.filter(r=>{if(!r.name||r.name===a.name||!isAdmin()&&r.hidden)return!1;const c=getCalEntry(r.name,n);return c&&c.start&&c.end}).slice(0,8).forEach(r=>i.add(r.name));const o=girls.map((r,c)=>({g:r,idx:c})).filter(r=>r.g.name&&r.g.name!==a.name&&!i.has(r.g.name)&&(isAdmin()||!r.g.hidden)).map(r=>({...r,score:computeSimilarity(a,r.g)})).filter(r=>r.score>=.4).sort((r,c)=>c.score-r.score).slice(0,6);if(!o.length)return;const l=document.createElement("div");l.className="profile-also";const d=document.createElement("div");d.className="profile-desc-title",d.textContent=t("sim.title"),l.appendChild(d);const s=document.createElement("div");s.className="also-avail-strip",o.forEach(r=>{const c=r.g,u=isAvailableNow(c.name),m=document.createElement("div");m.className="also-avail-card";const p=c.photos&&c.photos.length?`<img src="${c.photos[0]}" alt="${c.name.replace(/"/g,"&quot;")}">`:'<div class="silhouette"></div>';m.innerHTML=`${p}<div class="also-avail-name">${c.name}</div>${u?'<span class="avail-now-dot"></span>':""}`,m.onclick=()=>showProfile(r.idx),s.appendChild(m)}),l.appendChild(s),document.getElementById("profileContent").appendChild(l)}function updateFavBadge(){const e=document.getElementById("navFavBadge"),a=document.getElementById("bnFavBadge"),n=getFavCount();e&&(e.textContent=n>0?n:""),a&&(a.textContent=n>0?n:"")}function favHeartSvg(e){return e?'<svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>':'<svg viewBox="0 0 24 24"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></svg>'}const starSvgFull='<svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>',starSvgEmpty='<svg viewBox="0 0 24 24" width="16" height="16"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg>';function renderStarsStatic(e){let a="";for(let n=1;n<=5;n++)a+='<span class="review-star'+(n<=e?" filled":"")+'">'+(n<=e?starSvgFull:starSvgEmpty)+"</span>";return a}function renderReviews(e){const a=document.getElementById("profileReviews");if(!a)return;const n=girls[e];if(!n)return;const i=n.reviews||[],o=i.length?i.reduce((c,u)=>c+u.rating,0)/i.length:0,l=loggedIn&&i.some(c=>c.user===loggedInUser);let d='<div class="profile-reviews"><div class="profile-desc-title" style="margin-top:32px">'+t("review.title");i.length&&(d+=' <span class="review-count">('+i.length+")</span>"),d+="</div>",loggedIn&&!l?d+='<button class="review-write-btn" id="rvWriteBtn">'+t("review.write")+"</button>":loggedIn||(d+='<div class="review-signin">'+t("review.signin").replace("{link}",'<a href="#" id="rvSignInLink">'+t("ui.signIn")+"</a>")+"</div>"),d+='<div id="rvFormArea"></div>',!i.length&&!loggedIn?d+='<div class="review-empty">'+t("review.noReviews")+"</div>":i.length||(d+='<div class="review-empty">'+t("review.noReviews")+"</div>"),i.slice().sort((c,u)=>new Date(u.ts)-new Date(c.ts)).forEach(c=>{const u=loggedIn&&c.user===loggedInUser,m=u||isAdmin(),f=new Date(c.ts).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"});d+='<div class="review-card"><div class="review-header"><span class="review-user">'+c.user.toUpperCase()+'</span><span class="review-stars">'+renderStarsStatic(c.rating)+'</span><span class="review-date">'+f+"</span></div>",c.text&&(d+='<div class="review-text">'+c.text.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"),m&&(d+='<div class="review-actions">',(u||isAdmin())&&(d+='<button class="review-action-btn review-edit-btn" data-rv-user="'+c.user+'">'+t("review.edit")+"</button>"),d+='<button class="review-action-btn review-delete-btn" data-rv-user="'+c.user+'">'+t("review.delete")+"</button></div>"),d+="</div>"}),d+="</div>",a.innerHTML=d;const s=document.getElementById("rvWriteBtn");s&&(s.onclick=()=>openReviewForm(e,null));const r=document.getElementById("rvSignInLink");r&&(r.onclick=c=>{c.preventDefault(),showAuthSignIn()}),a.querySelectorAll(".review-edit-btn").forEach(c=>{c.onclick=()=>{const u=(n.reviews||[]).find(m=>m.user===c.dataset.rvUser);u&&openReviewForm(e,u)}}),a.querySelectorAll(".review-delete-btn").forEach(c=>{c.onclick=async()=>{if(!confirm(t("review.confirmDelete")))return;const u=c.dataset.rvUser;n.reviews=(n.reviews||[]).filter(m=>m.user!==u),await saveData()&&(showToast(t("review.deleted")),renderReviews(e))}})}function openReviewForm(e,a){const n=document.getElementById("rvFormArea");if(!n)return;const i=a?a.rating:0,o=a?a.text:"";let l='<div class="review-form"><div class="review-stars-input" id="rvStarPicker">';for(let r=1;r<=5;r++)l+='<span class="review-star-pick'+(r<=i?" active":"")+'" data-val="'+r+'">'+starSvgFull+"</span>";l+='</div><textarea class="review-textarea" id="rvText" placeholder="'+t("review.placeholder")+'" rows="3">'+o.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>",l+='<div class="review-form-actions"><button class="btn btn-primary review-submit-btn" id="rvSubmitBtn">'+t(a?"review.edit":"review.write")+'</button><button class="btn review-cancel-btn" id="rvCancelBtn">'+t("ui.cancel")+"</button></div>",l+='<div class="review-form-error" id="rvError"></div></div>',n.innerHTML=l;let d=i;document.getElementById("rvStarPicker").querySelectorAll(".review-star-pick").forEach(r=>{r.onmouseenter=()=>{const c=parseInt(r.dataset.val);document.getElementById("rvStarPicker").querySelectorAll(".review-star-pick").forEach((u,m)=>u.classList.toggle("hover",m<c))},r.onmouseleave=()=>{document.getElementById("rvStarPicker").querySelectorAll(".review-star-pick").forEach(c=>c.classList.remove("hover"))},r.onclick=()=>{d=parseInt(r.dataset.val),document.getElementById("rvStarPicker").querySelectorAll(".review-star-pick").forEach((c,u)=>c.classList.toggle("active",u<d))}}),document.getElementById("rvCancelBtn").onclick=()=>{if(n.innerHTML="",!a){const r=document.getElementById("rvWriteBtn");r&&(r.style.display="")}},document.getElementById("rvSubmitBtn").onclick=async()=>{if(!d){document.getElementById("rvError").textContent=t("review.ratingRequired");return}const r=girls[e];r.reviews||(r.reviews=[]);const c=document.getElementById("rvText").value.trim();if(a){const u=r.reviews.find(m=>m.user===a.user);u&&(u.rating=d,u.text=c,u.ts=new Date().toISOString())}else r.reviews.push({user:loggedInUser,rating:d,text:c,ts:new Date().toISOString()});await saveData()&&(showToast(t(a?"review.updated":"review.submitted")),renderReviews(e))};const s=document.getElementById("rvWriteBtn");s&&(s.style.display="none")}function showProfile(e){safeRender("Profile",()=>{const a=girls[e];if(!a)return;if(a.hidden&&!isAdmin()){showPage("homePage");return}currentProfileIdx=e,a.photos||(a.photos=[]),a.name&&addRecentlyViewed(a.name),_countdownInterval&&(clearInterval(_countdownInterval),_countdownInterval=null),updateOgMeta(a,e),updateProfileJsonLd(a,e);const n=a.name?"Ginza Empire – "+a.name:"Ginza Empire – Profile";document.title=n,Router.push(Router.pathForProfile(e),n);const i=isAdmin()?`<div class="profile-actions"><button class="btn btn-primary" id="profEdit">${t("ui.edit")}</button><button class="btn btn-danger" id="profDelete">${t("ui.delete")}</button></div>`:"",o=getAEDTDate(),l=fmtDate(o),d=getCalEntry(a.name,l),s=a.name&&isAvailableNow(a.name),r=d&&d.start&&d.end&&!s&&(()=>{const h=o.getHours()*60+o.getMinutes(),[C,$]=d.end.split(":").map(Number),[B,N]=d.start.split(":").map(Number);return C*60+$>B*60+N&&h>=C*60+$})();let c="";if(s)c='<span class="dim">|</span><span class="profile-avail-live"><span class="avail-now-dot"></span>'+t("avail.now")+" ("+fmtTime12(d.start)+" - "+fmtTime12(d.end)+")</span>";else if(d&&d.start&&d.end&&!r)c='<span class="dim">|</span><span style="color:#ffcc44;font-weight:600">'+t("avail.laterToday")+" ("+fmtTime12(d.start)+" - "+fmtTime12(d.end)+")</span>";else{const C=getWeekDates().find($=>$>l&&(getCalEntry(a.name,$)||{}).start);if(C){const $=dispDate(C).day,B=getCalEntry(a.name,C),N=B&&B.start&&B.end?" ("+fmtTime12(B.start)+" - "+fmtTime12(B.end)+")":"",O=q=>{const G=Math.floor(q/1440),_=Math.floor(q%1440/60),U=q%60;return G>0?`${G}d ${_}h`:_>0?`${_}h ${U}m`:`${U}m`},D=Math.round((new Date(C+" 00:00")-new Date(l+" 00:00"))/864e5),F=o.getHours()*60+o.getMinutes(),[H,R]=(B&&B.start||"00:00").split(":").map(Number),z=D*1440+H*60+R-F,V=z>0?" · "+t("avail.startsIn").replace("{t}",O(z)):"";c='<span class="dim">|</span><span class="profile-avail-coming">'+t("avail.coming")+" "+$+N+V+"</span>"}else{const $=getLastRostered(a.name);if($){const B=Math.round((new Date(l+" 00:00")-new Date($+" 00:00"))/864e5),N=B===0?"today":B===1?"yesterday":B+" days ago";c='<span class="dim">|</span><span class="profile-avail-last">'+t("avail.lastSeen")+" "+N+"</span>"}}}const u=a.name?getAvailCountdown(a.name):null;if(u){const h=u.type==="ends"?"avail.endsIn":"avail.startsIn";c+='<span class="dim"> · </span><span id="profCountdown">'+t(h).replace("{t}",u.str)+"</span>"}const m=a.reviews||[],p=m.length?m.reduce((h,C)=>h+C.rating,0)/m.length:0,f=m.length?'<span class="dim">|</span><span class="profile-rating-summary">'+renderStarsStatic(Math.round(p))+'<span class="profile-rating-num">'+p.toFixed(1)+' / 5</span><span class="profile-rating-count">('+m.length+")</span></span>":"",v=[{l:t("field.age"),v:a.age},{l:t("field.body"),v:a.body},{l:t("field.height"),v:a.height+" cm"},{l:t("field.cup"),v:a.cup},{l:t("field.rates30"),v:a.val1||"—"},{l:t("field.rates45"),v:a.val2||"—"},{l:t("field.rates60"),v:a.val3||"—"},{l:t("field.experience"),v:a.exp||"—"}],g=a.photos.length?`<img src="${a.photos[0]}" alt="${(a.name||"").replace(/"/g,"&quot;")}">`:'<div class="silhouette"></div>',M=a.photos.length>1?'<button class="gallery-main-arrow prev" id="galPrev"><svg viewBox="0 0 24 24"><path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6z"/></svg></button><button class="gallery-main-arrow next" id="galNext"><svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg></button>':"",T=a.photos.length?`<div class="gallery-counter" id="galCounter"><span>1</span> / ${a.photos.length}</div>`:"",P=a.photos.length?'<div class="gallery-zoom-hint">Click to expand</div>':"",x=a.name&&isFavorite(a.name),S=a.name&&loggedIn?`<button class="profile-fav-btn${x?" active":""}" id="profFavBtn">${favHeartSvg(x)}${t(x?"ui.favorited":"ui.addFav")}</button>`:"",k=a.name?`<button class="profile-share-btn" id="profShareBtn"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>${t("ui.share")}</button>`:"",b={listPage:t("page.girls"),rosterPage:t("page.roster"),homePage:t("nav.home"),favoritesPage:t("page.favorites")}[profileReturnPage]||t("ui.back");document.getElementById("profileContent").innerHTML=`<button class="back-btn" id="backBtn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>${b}</button>
<div class="profile-nav-rail" id="profileNavRail"></div>
<div class="profile-layout"><div class="profile-image-area"><div class="gallery-main" id="galMain">${g}${M}${T}${P}</div><div class="gallery-thumbs" id="galThumbs"></div></div>
<div class="profile-details"><div class="profile-name">${a.name}</div><div class="profile-meta"><span>${Array.isArray(a.country)?a.country.join(", "):a.country}</span>${a.special?'<span class="profile-special">'+a.special+"</span>":""}${c}${f}</div><div class="profile-action-row">${S}${k}</div><div class="profile-divider" style="margin-top:24px"></div>
<div class="profile-stats">${v.map(h=>`<div class="profile-stat"><div class="p-label">${h.l}</div><div class="p-val">${h.v}</div></div>`).join("")}</div>
<div class="profile-desc-title">${t("field.special")}</div><div class="profile-desc" id="profSpecialText" style="margin-bottom:24px">${a.special||"—"}</div>
<div class="profile-desc-title">${t("field.language")}</div><div class="profile-desc" id="profLangText" style="margin-bottom:24px">${a.lang||"—"}</div>
<div class="profile-desc-title">${t("field.type")}</div><div class="profile-desc" id="profTypeText" style="margin-bottom:24px">${a.type||"—"}</div>
<div class="profile-desc-title">${t("field.description")}</div><div class="profile-desc" id="profDescText">${a.desc||""}</div>
${(()=>{const h=a.labels||[];return h.length?`<div class="profile-desc-title" style="margin-top:24px">${t("field.labels")}</div><div class="profile-labels">${h.slice().sort().map(C=>`<span class="profile-label">${C}</span>`).join("")}</div>`:""})()}${i}<div id="profileReviews"></div></div></div>`,document.getElementById("backBtn").onclick=()=>{const h=_savedScrollY||parseFloat(sessionStorage.getItem("ginza_scroll")||"0");showPage(profileReturnPage),requestAnimationFrame(()=>window.scrollTo(0,h))},u&&(_countdownInterval=setInterval(()=>{const h=document.getElementById("profCountdown");if(!h){clearInterval(_countdownInterval);return}const C=getAvailCountdown(a.name);C?h.textContent=t(C.type==="ends"?"avail.endsIn":"avail.startsIn").replace("{t}",C.str):(h.textContent="",clearInterval(_countdownInterval))},3e4)),isAdmin()&&(document.getElementById("profEdit").onclick=()=>openForm(e),document.getElementById("profDelete").onclick=()=>openDelete(e));const w=document.getElementById("profFavBtn");w&&(w.onclick=()=>{const h=toggleFavorite(a.name);w.classList.toggle("active",h),w.innerHTML=favHeartSvg(h)+t(h?"ui.favorited":"ui.addFav"),updateFavBadge()});const L=document.getElementById("profShareBtn");L&&(L.onclick=async()=>{const h=window.location.origin+Router.pathForProfile(e);if(navigator.share)try{await navigator.share({title:a.name+" - Ginza",text:a.name+" at Ginza Sydney",url:h})}catch{}else try{await navigator.clipboard.writeText(h),showToast(t("ui.linkCopied"))}catch{const $=document.createElement("input");$.value=h,document.body.appendChild($),$.select(),document.execCommand("copy"),document.body.removeChild($),showToast(t("ui.linkCopied"))}}),renderGallery(e),renderReviews(e),renderAlsoAvailable(e),renderSimilarGirls(e),renderProfileNav(e),closeFilterPanel(),_activeFilterPaneId="profileFilterPane",renderFilterPane("profileFilterPane");const E=document.querySelector(".page.active"),I=document.getElementById("profilePage"),A=["page-enter","slide-enter-right","slide-enter-left"];if(I.classList.remove(...A),E&&E!==I){E.classList.remove("active",...A),E.classList.add("slide-exit-left");const h=()=>{E.classList.remove("slide-exit-left"),E.removeEventListener("animationend",h)};E.addEventListener("animationend",h),setTimeout(()=>E.classList.remove("slide-exit-left"),400),I.offsetWidth,I.classList.add("active","slide-enter-right")}else allPages.forEach(h=>h.classList.remove("active",...A)),I.offsetWidth,I.classList.add("active","page-enter");document.querySelectorAll(".nav-dropdown a").forEach(h=>h.classList.remove("active")),updateFilterToggle(),window.scrollTo(0,0),requestAnimationFrame(()=>window.scrollTo(0,0))})}let galIdx=0;function galGoTo(e,a){const n=document.getElementById("galMain");if(!n)return;const i=n.querySelector("img");i&&(i.classList.add("gallery-fade-out"),setTimeout(()=>{galIdx=e,i.src=a[e],i.onload=()=>i.classList.remove("gallery-fade-out");const o=document.getElementById("galCounter");o&&(o.innerHTML=`<span>${e+1}</span> / ${a.length}`);const l=document.getElementById("galThumbs");if(l){l.querySelectorAll(".gallery-thumb").forEach((s,r)=>s.classList.toggle("active",r===e));const d=l.querySelector(".gallery-thumb.active");d&&d.scrollIntoView({inline:"center",block:"nearest",behavior:"smooth"})}},180))}function renderGallery(e){const a=girls[e];if(!a||!a.photos)return;galIdx=0;const n=document.getElementById("galMain");let i=!1;if(n&&a.photos.length>1){let s=0,r=0;n.addEventListener("touchstart",c=>{s=c.touches[0].clientX,r=c.touches[0].clientY,i=!1},{passive:!0}),n.addEventListener("touchmove",c=>{Math.abs(c.touches[0].clientX-s)>8&&(i=!0)},{passive:!0}),n.addEventListener("touchend",c=>{const u=c.changedTouches[0].clientX-s,m=c.changedTouches[0].clientY-r;Math.abs(u)>45&&Math.abs(u)>Math.abs(m)&&(u<0?galGoTo((galIdx+1)%a.photos.length,a.photos):galGoTo((galIdx-1+a.photos.length)%a.photos.length,a.photos))},{passive:!0})}n&&a.photos.length&&(n.onclick=s=>{if(!s.target.closest(".gallery-main-arrow")){if(i){i=!1;return}openLightbox(a.photos,galIdx,a.name)}});const o=document.getElementById("galPrev"),l=document.getElementById("galNext");o&&(o.onclick=s=>{s.stopPropagation(),galGoTo((galIdx-1+a.photos.length)%a.photos.length,a.photos)}),l&&(l.onclick=s=>{s.stopPropagation(),galGoTo((galIdx+1)%a.photos.length,a.photos)});const d=document.getElementById("galThumbs");d&&(d.innerHTML="",a.photos.forEach((s,r)=>{const c=document.createElement("div");if(c.className="gallery-thumb"+(r===0?" active":""),c.innerHTML=`<img src="${s}" alt="${(a.name||"").replace(/"/g,"&quot;")}">`,c.onclick=()=>galGoTo(r,a.photos),isAdmin()){const u=document.createElement("button");u.className="gallery-thumb-remove",u.innerHTML="&#x2715;",u.onclick=async m=>{m.stopPropagation(),s.includes("githubusercontent.com")&&await deleteFromGithub(s),a.photos.splice(r,1),await saveData(),showProfile(e),renderGrid(),renderRoster(),renderHome(),showToast("Photo removed")},c.appendChild(u)}d.appendChild(c)}))}function openMyProfile(){const e=document.getElementById("myProfileOverlay"),a=CRED.find(i=>i.user===loggedInUser);if(!a)return;const n=loggedInRole==="owner"?'<span class="mp-role-badge owner">OWNER</span>':loggedInRole==="admin"?'<span class="mp-role-badge admin">ADMIN</span>':'<span class="mp-role-badge member">MEMBER</span>';document.getElementById("mpUserDisplay").innerHTML=`<div class="mp-username">${loggedInUser.toUpperCase()}</div>${n}`,document.getElementById("mpEmail").value=a.email||"",document.getElementById("mpMobile").value=a.mobile||"",document.getElementById("mpNewPass").value="",document.getElementById("mpConfirmPass").value="",document.getElementById("mpError").textContent="",e.classList.add("open")}document.getElementById("myProfileClose").onclick=()=>document.getElementById("myProfileOverlay").classList.remove("open"),document.getElementById("myProfileCancel").onclick=()=>document.getElementById("myProfileOverlay").classList.remove("open"),document.getElementById("myProfileOverlay").onclick=e=>{e.target.id==="myProfileOverlay"&&e.target.classList.remove("open")},document.getElementById("myProfileSave").onclick=async()=>{const e=CRED.find(d=>d.user===loggedInUser);if(!e)return;const a=document.getElementById("mpNewPass").value,n=document.getElementById("mpConfirmPass").value,i=document.getElementById("mpError");if(!document.getElementById("mpEmail").value.trim()){i.textContent=t("ui.emailRequired");return}if(a&&a!==n){i.textContent=t("ui.passwordMismatch");return}i.textContent="";const l=document.getElementById("myProfileSave");l.textContent="SAVING...",l.style.pointerEvents="none";try{e.email=document.getElementById("mpEmail").value.trim()||void 0,e.mobile=document.getElementById("mpMobile").value.trim()||void 0,a&&(e.pass=a),loggedInEmail=e.email||null,loggedInMobile=e.mobile||null,await saveAuth()&&(document.getElementById("myProfileOverlay").classList.remove("open"),showToast(t("ui.profileSaved")))}catch(d){i.textContent="Error: "+d.message}finally{l.textContent=t("form.save"),l.style.pointerEvents="auto"}};const loginIconBtn=document.getElementById("loginIconBtn"),userDropdown=document.getElementById("userDropdown"),authOverlay=document.getElementById("authOverlay"),authContent=document.getElementById("authContent");document.getElementById("authClose").onclick=()=>authOverlay.classList.remove("open"),authOverlay.onclick=e=>{e.target===authOverlay&&authOverlay.classList.remove("open")};function renderDropdown(){loggedIn?(loginIconBtn.classList.add("logged-in"),userDropdown.innerHTML=`<div class="dropdown-header"><div class="label">Signed in as</div><div class="user">${(loggedInUser||"ADMIN").toUpperCase()}</div></div><button class="dropdown-item" id="myProfileBtn">${t("ui.myProfile")}</button><button class="dropdown-item danger" id="logoutBtn">Sign Out</button>`,document.getElementById("myProfileBtn").onclick=()=>{userDropdown.classList.remove("open"),openMyProfile()},document.getElementById("logoutBtn").onclick=()=>{loggedIn=!1,loggedInUser=null,loggedInRole=null,loggedInEmail=null,loggedInMobile=null,loginIconBtn.classList.remove("logged-in"),userDropdown.classList.remove("open"),document.getElementById("navFavorites").style.display="none",document.getElementById("bnFavorites").style.display="none",document.getElementById("navCalendar").style.display="none",document.getElementById("navAnalytics").style.display="none",document.getElementById("navProfileDb").style.display="none",document.querySelectorAll(".page-edit-btn").forEach(e=>e.style.display="none"),(document.getElementById("favoritesPage").classList.contains("active")||document.getElementById("calendarPage").classList.contains("active")||document.getElementById("analyticsPage").classList.contains("active")||document.getElementById("profileDbPage").classList.contains("active"))&&showPage("homePage"),renderDropdown(),renderFilters(),renderGrid(),renderRoster(),renderHome()}):(loginIconBtn.classList.remove("logged-in"),userDropdown.innerHTML="")}function showAuthSignIn(){authContent.innerHTML=`<div class="form-title">${t("ui.signIn")}</div><div class="form-row full"><div class="form-group"><label class="form-label">Username</label><input class="form-input" id="lfUser" placeholder="Username" autocomplete="off"></div></div><div class="form-row full"><div class="form-group"><label class="form-label">Password</label><input class="form-input" id="lfPass" type="password" placeholder="Password"></div></div><div class="form-actions" style="justify-content:center"><button class="btn btn-primary" id="lfBtn" style="width:100%">${t("ui.signIn")}</button></div><div class="lf-error" id="lfError"></div><div class="lf-switch">${t("ui.noAccount")} <a href="#" id="lfSignUpLink">${t("ui.signUp")}</a></div>`,document.getElementById("lfBtn").onclick=doLogin,document.getElementById("lfPass").addEventListener("keydown",e=>{e.key==="Enter"&&doLogin()}),document.getElementById("lfUser").addEventListener("keydown",e=>{e.key==="Enter"&&document.getElementById("lfPass").focus()}),document.getElementById("lfSignUpLink").onclick=e=>{e.preventDefault(),showAuthSignUp()},authOverlay.classList.add("open")}function showAuthSignUp(){authContent.innerHTML=`<div class="form-title">${t("ui.signUp")}</div><div class="form-row full"><div class="form-group"><label class="form-label">Username *</label><input class="form-input" id="suUser" placeholder="Username" autocomplete="off"></div></div><div class="form-row full"><div class="form-group"><label class="form-label">${t("field.email")} *</label><input class="form-input" id="suEmail" type="email" placeholder="email@example.com"></div></div><div class="form-row full"><div class="form-group"><label class="form-label">${t("field.mobile")}</label><input class="form-input" id="suMobile" type="tel" placeholder="04XX XXX XXX"></div></div><div class="form-row full"><div class="form-group"><label class="form-label">Password *</label><input class="form-input" id="suPass" type="password" placeholder="Password"></div></div><div class="form-row full"><div class="form-group"><label class="form-label">${t("ui.confirmPassword")} *</label><input class="form-input" id="suConfirm" type="password" placeholder="Confirm"></div></div><div class="form-actions" style="justify-content:center"><button class="btn btn-primary" id="suBtn" style="width:100%">${t("ui.createAccount")}</button></div><div class="lf-error" id="suError"></div><div class="lf-switch">${t("ui.haveAccount")} <a href="#" id="suSignInLink">${t("ui.signIn")}</a></div>`,document.getElementById("suBtn").onclick=doSignUp,document.getElementById("suConfirm").addEventListener("keydown",e=>{e.key==="Enter"&&doSignUp()}),document.getElementById("suSignInLink").onclick=e=>{e.preventDefault(),showAuthSignIn()},authOverlay.classList.add("open")}async function doSignUp(){const e=document.getElementById("suUser").value.trim(),a=document.getElementById("suEmail").value.trim(),n=document.getElementById("suMobile").value.trim(),i=document.getElementById("suPass").value,o=document.getElementById("suConfirm").value,l=document.getElementById("suError");if(!e){l.textContent=t("ui.usernameRequired");return}if(CRED.some(s=>s.user.toLowerCase()===e.toLowerCase())){l.textContent=t("ui.usernameTaken");return}if(!a){l.textContent=t("ui.emailRequired");return}if(CRED.some(s=>s.email&&s.email.toLowerCase()===a.toLowerCase())){l.textContent=t("ui.emailTaken");return}if(n&&CRED.some(s=>s.mobile&&s.mobile===n)){l.textContent=t("ui.mobileTaken");return}if(!i){l.textContent=t("ui.passwordRequired");return}if(i!==o){l.textContent=t("ui.passwordMismatch");return}l.textContent="";const d=document.getElementById("suBtn");d.textContent="CREATING...",d.style.pointerEvents="none";try{const s={user:e,pass:i,role:"member",email:a,mobile:n||void 0};CRED.push(s),await saveAuth()?(loggedIn=!0,loggedInUser=s.user,loggedInRole="member",loggedInEmail=s.email,loggedInMobile=s.mobile||null,document.getElementById("navFavorites").style.display="",document.getElementById("bnFavorites").style.display="",authOverlay.classList.remove("open"),renderDropdown(),renderFilters(),renderGrid(),renderRoster(),renderHome(),showToast(t("ui.accountCreated")),updatePushToggle()):CRED.pop()}catch(s){CRED.pop(),l.textContent="Error: "+s.message}finally{d.textContent=t("ui.createAccount"),d.style.pointerEvents="auto"}}async function checkFavoriteNotifications(e){try{const a=await fetch(PROXY+"/send-notification",{method:"POST",headers:proxyHeaders(),body:JSON.stringify({username:e})});if(a.ok){const n=await a.json();n.sent&&n.matchCount>0&&showToast(n.matchCount===1?t("ui.favAvailOne"):t("ui.favAvailMany").replace("{count}",n.matchCount))}}catch{}}function doLogin(){const e=document.getElementById("lfUser").value.trim(),a=document.getElementById("lfPass").value,n=CRED.find(i=>i.user===e&&i.pass===a);n?(loggedIn=!0,loggedInUser=n.user,loggedInRole=n.role||"member",loggedInEmail=n.email||null,loggedInMobile=n.mobile||null,document.getElementById("navFavorites").style.display="",document.getElementById("bnFavorites").style.display="",isAdmin()&&(document.getElementById("navCalendar").style.display="",document.getElementById("navAnalytics").style.display="",document.querySelectorAll(".page-edit-btn").forEach(i=>i.style.display="")),authOverlay.classList.remove("open"),renderDropdown(),renderFilters(),renderGrid(),renderRoster(),renderHome(),updateFavBadge(),document.getElementById("profilePage").classList.contains("active")&&showProfile(currentProfileIdx),showToast("Signed in as "+n.user.toUpperCase()),checkFavoriteNotifications(n.user),updatePushToggle()):(document.getElementById("lfError").textContent="Invalid credentials.",document.getElementById("lfPass").value="")}loginIconBtn.onclick=e=>{e.stopPropagation(),loggedIn?userDropdown.classList.toggle("open"):showAuthSignIn()},document.addEventListener("click",e=>{!e.target.closest("#userDropdown")&&!e.target.closest("#loginIconBtn")&&userDropdown.classList.remove("open")}),renderDropdown();const _pushBtn=document.getElementById("pushToggleBtn"),_pushLabel=document.getElementById("pushToggleLabel");async function updatePushToggle(){if(!_pushBtn||!("PushManager"in window)||!loggedIn){_pushBtn&&(_pushBtn.style.display="none");return}_pushBtn.style.display="";const e=await getPushSubscription();_pushBtn.classList.toggle("active",!!e),_pushLabel.textContent=t(e?"ui.pushDisable":"ui.pushEnable")}_pushBtn&&(_pushBtn.onclick=async()=>{_pushBtn.disabled=!0,await getPushSubscription()?(await unsubscribeFromPush(),showToast(t("ui.pushOff"))):await subscribeToPush()?showToast(t("ui.pushOn")):showToast(t("ui.pushDenied"),"error"),_pushBtn.disabled=!1,updatePushToggle()});const particlesEl=document.getElementById("particles");for(let e=0;e<30;e++){const a=document.createElement("div");a.className="particle",a.style.left=Math.random()*100+"%",a.style.animationDuration=8+Math.random()*12+"s",a.style.animationDelay=Math.random()*10+"s",a.style.width=a.style.height=1+Math.random()*2+"px",particlesEl.appendChild(a)}let _activeFilterPaneId=null;const _filterToggle=document.getElementById("filterToggle"),_filterBackdrop=document.getElementById("filterBackdrop"),_pagesWithFilters=["rosterPage","listPage","calendarPage","profilePage"];function updateFilterToggle(){const e=_pagesWithFilters.some(i=>{const o=document.getElementById(i);return o&&o.classList.contains("active")});_filterToggle.classList.toggle("visible",e);const a=countActiveFilters();_filterToggle.classList.toggle("has-filters",a>0);const n=_filterToggle.querySelector(".ft-text");n&&(n.textContent=a>0?t("ui.filtersActive").replace("{n}",a):t("ui.filters"))}function openFilterPanel(){if(!_activeFilterPaneId)return;const e=document.getElementById(_activeFilterPaneId);e&&(["rosterFilterPane","girlsFilterPane","calFilterPane","profileFilterPane"].forEach(a=>{const n=document.getElementById(a);n&&n.classList.remove("open")}),renderFilterPane(_activeFilterPaneId),e.classList.add("open"),_filterToggle.classList.add("open"),_filterBackdrop.classList.add("open"))}function closeFilterPanel(){["rosterFilterPane","girlsFilterPane","calFilterPane","profileFilterPane"].forEach(e=>{const a=document.getElementById(e);a&&a.classList.remove("open")}),_filterToggle.classList.remove("open"),_filterBackdrop.classList.remove("open")}function toggleFilterPanel(){_filterToggle.classList.contains("open")?closeFilterPanel():openFilterPanel()}_filterToggle.onclick=toggleFilterPanel,_filterBackdrop.onclick=closeFilterPanel,function(){const e=document.getElementById("backToTop");if(!e)return;const a=["rosterPage","listPage","favoritesPage","calendarPage"];window.addEventListener("scroll",()=>{a.some(i=>{const o=document.getElementById(i);return o&&o.classList.contains("active")})&&window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")}),e.onclick=()=>window.scrollTo({top:0,behavior:"smooth"})}(),function(){const e=document.getElementById("fabToggle"),a=document.getElementById("fabMenu");!e||!a||(e.onclick=()=>{e.classList.toggle("open"),a.classList.toggle("open")},document.addEventListener("click",n=>{n.target.closest(".fab-container")||(e.classList.remove("open"),a.classList.remove("open"))}))}(),document.addEventListener("keydown",function(e){if(e.key==="Tab"){var a=document.querySelector(".modal-overlay.open,.lightbox-overlay.open");if(a){var n=a.querySelectorAll('button:not([disabled]):not([style*="display:none"]):not([style*="display: none"]),[href],input:not([disabled]):not([type="hidden"]),select:not([disabled]),textarea:not([disabled]),[tabindex]:not([tabindex="-1"])');if(n.length){var i=n[0],o=n[n.length-1];e.shiftKey?(document.activeElement===i||!a.contains(document.activeElement))&&(e.preventDefault(),o.focus()):(document.activeElement===o||!a.contains(document.activeElement))&&(e.preventDefault(),i.focus())}}}});let rosterAvailFilter=null;function renderFilters(){const e=document.getElementById("filterBar");e.innerHTML="";const a=document.createElement("div");a.className="inline-search-wrap";const n=document.createElement("input");n.type="text",n.className="inline-search-input",n.setAttribute("placeholder",t("ui.search")),n.setAttribute("aria-label",t("ui.search")),n.value=sharedFilters.nameSearch||"";let i;n.oninput=()=>{clearTimeout(i),i=setTimeout(()=>{sharedFilters.nameSearch=n.value,renderGrid(),renderRoster(),renderFavoritesGrid(),renderActiveFilterChips(),pushFiltersToURL()},200)},a.innerHTML='<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor" style="opacity:.4;flex-shrink:0"><path d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>',a.appendChild(n),e.appendChild(a);const o=document.createElement("div");o.className="filter-sep",e.appendChild(o),[{key:"name",label:t("sort.name")},{key:"newest",label:t("sort.dateAdded")},{key:"age",label:t("sort.age")},{key:"body",label:t("sort.size")},{key:"height",label:t("sort.height")},{key:"cup",label:t("sort.cup")},{key:"lastSeen",label:t("sort.lastSeen")}].forEach(s=>{const r=document.createElement("button");r.className="sort-btn"+(gridSort===s.key?" active":""),r.textContent=s.label,r.onclick=()=>{gridSort===s.key?gridSortDir=gridSortDir==="asc"?"desc":"asc":(gridSort=s.key,gridSortDir=s.key==="newest"||s.key==="lastSeen"?"desc":"asc"),_persistSort(),renderFilters(),renderGrid(),renderRoster(),renderFavoritesGrid(),pushFiltersToURL()},e.appendChild(r)});const d=document.createElement("button");if(d.className="sort-dir-btn",d.title=gridSortDir==="asc"?"Ascending":"Descending",d.innerHTML=gridSortDir==="asc"?'<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M7 14l5-5 5 5z"/></svg><span class="sort-dir-label">ASC</span>':'<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg><span class="sort-dir-label">DESC</span>',d.onclick=()=>{gridSortDir=gridSortDir==="asc"?"desc":"asc",_persistSort(),renderFilters(),renderGrid(),renderRoster(),renderFavoritesGrid(),pushFiltersToURL()},e.appendChild(d),hasActiveFilters()){const s=document.createElement("div");s.className="filter-sep",e.appendChild(s);const r=document.createElement("button");r.className="filter-btn clear-filters-btn",r.innerHTML="&#10005; Clear",r.onclick=()=>{clearAllFilters(),onFiltersChanged()},e.appendChild(r)}if(isAdmin()){const s=document.createElement("button");s.className="add-btn",s.innerHTML="+ "+t("ui.addGirl"),s.onclick=()=>openForm(),e.appendChild(s)}}function renderAvailNowBar(){const e=document.getElementById("rosterAvailBar");if(!e)return;const a=fmtDate(getAEDTDate());if(rosterDateFilter!==a){rosterAvailFilter=null,e.innerHTML="",e.style.display="none";return}const n=getAEDTDate(),i=n.getHours()*60+n.getMinutes(),o=girls.filter(r=>{const c=getCalEntry(r.name,a);return c&&c.start&&c.end});let l=0,d=0,s=0;if(o.forEach(r=>{const c=getCalEntry(r.name,a),[u,m]=c.start.split(":").map(Number),[p,f]=c.end.split(":").map(Number),v=u*60+m,g=p*60+f;(g<=v?i>=v||i<g:i>=v&&i<g)?l++:g>v&&i>=g?s++:d++}),e.innerHTML="",!l&&!d&&!s){e.style.display="none";return}if(e.style.display="",l>0){const r=document.createElement("button");r.className="avail-now-pill"+(rosterAvailFilter==="now"?" active":"");const c=l===1&&siteLanguage==="en"?"1 girl available now":t("ui.girlsAvailNow").replace("{n}",l);r.innerHTML=`<span class="avail-now-dot"></span>${c}`,r.onclick=()=>{rosterAvailFilter=rosterAvailFilter==="now"?null:"now",renderAvailNowBar(),renderRosterGrid()},e.appendChild(r)}if(d>0){const r=document.createElement("button");r.className="avail-today-pill"+(rosterAvailFilter==="later"?" active":"");const c=d===1&&siteLanguage==="en"?"1 girl available later today":t("ui.girlsAvailLater").replace("{n}",d);r.innerHTML=`<span class="avail-today-dot"></span>${c}`,r.onclick=()=>{rosterAvailFilter=rosterAvailFilter==="later"?null:"later",renderAvailNowBar(),renderRosterGrid()},e.appendChild(r)}if(s>0){const r=document.createElement("button");r.className="avail-finished-pill"+(rosterAvailFilter==="finished"?" active":""),r.textContent=s+(s===1?" girl ":" girls ")+t("avail.finished").toLowerCase(),r.onclick=()=>{rosterAvailFilter=rosterAvailFilter==="finished"?null:"finished",renderAvailNowBar(),renderRosterGrid()},e.appendChild(r)}}function applySortOrder(e){const a=gridSortDir==="desc"?-1:1,n=(i,o,l)=>{const d=(i.name||"").trim(),s=(o.name||"").trim();return!d&&!s?0:d?s?l(i,o)*a:-1:1};return gridSort==="age"?e.sort((i,o)=>n(i,o,()=>{const l=parseFloat(i.age)||999,d=parseFloat(o.age)||999;return l-d})):gridSort==="newest"?e.sort((i,o)=>n(i,o,()=>{const l=i.startDate||"",d=o.startDate||"";return!l&&!d?0:l?d?d.localeCompare(l):-1:1})):gridSort==="body"?e.sort((i,o)=>n(i,o,()=>{const l=parseFloat(i.body)||999,d=parseFloat(o.body)||999;return l-d})):gridSort==="height"?e.sort((i,o)=>n(i,o,()=>{const l=parseFloat(i.height)||999,d=parseFloat(o.height)||999;return l-d})):gridSort==="cup"?e.sort((i,o)=>n(i,o,()=>(i.cup||"").toLowerCase().localeCompare((o.cup||"").toLowerCase()))):gridSort==="lastSeen"?e.sort((i,o)=>n(i,o,()=>{const l=getLastRostered(i.name)||"",d=getLastRostered(o.name)||"";return!l&&!d?0:l?d?d.localeCompare(l):-1:1})):e.sort((i,o)=>n(i,o,()=>(i.name||"").trim().toLowerCase().localeCompare((o.name||"").trim().toLowerCase())))}function daysAgo(e){const a=Math.floor((Date.now()-new Date(e))/864e5);return a===0?"Today":a===1?"Yesterday":a+" days ago"}const grid=document.getElementById("girlsGrid");function cardFavBtn(e){if(!loggedIn)return"";const a=e&&isFavorite(e);return`<button class="card-fav${a?" active":""}" data-fav-name="${e||""}" title="${a?"Remove from favorites":"Add to favorites"}">${favHeartSvg(a)}</button>`}function bindCardFavs(e){e.querySelectorAll(".card-fav").forEach(a=>{a.onclick=n=>{n.stopPropagation();const i=a.dataset.favName;if(!i)return;const o=toggleFavorite(i);a.classList.toggle("active",o),a.innerHTML=favHeartSvg(o),a.title=o?"Remove from favorites":"Add to favorites",a.classList.remove("fav-pop"),a.offsetWidth,a.classList.add("fav-pop"),updateFavBadge()}})}function cardRatingHtml(e){const a=e.reviews||[];if(!a.length)return"";const n=a.reduce((i,o)=>i+o.rating,0)/a.length;return'<div class="card-rating">'+renderStarsStatic(Math.round(n))+'<span class="card-rating-num">'+n.toFixed(1)+'</span><span class="card-rating-count">('+a.length+")</span></div>"}function cardCompareBtn(e){if(!e)return"";const a=isCompareSelected(e),n=compareSelected.length;return`<button class="card-compare${a?" active":""}" data-compare-name="${e}" title="${a?"Remove from compare":"Add to compare"}"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M9 3H3.5A1.5 1.5 0 002 4.5V9a1.5 1.5 0 001.5 1.5H9A1.5 1.5 0 0010.5 9V4.5A1.5 1.5 0 009 3zm11 0h-5.5A1.5 1.5 0 0013 4.5V9a1.5 1.5 0 001.5 1.5H20A1.5 1.5 0 0021.5 9V4.5A1.5 1.5 0 0020 3zM9 13.5H3.5A1.5 1.5 0 002 15v4.5A1.5 1.5 0 003.5 21H9a1.5 1.5 0 001.5-1.5V15A1.5 1.5 0 009 13.5zm11 0h-5.5A1.5 1.5 0 0013 15v4.5a1.5 1.5 0 001.5 1.5H20a1.5 1.5 0 001.5-1.5V15a1.5 1.5 0 00-1.5-1.5z"/></svg><span class="compare-badge" style="${a&&n>0?"":"display:none"}">${n}/${COMPARE_MAX}</span></button>`}function bindCardCompare(e){e.querySelectorAll(".card-compare").forEach(a=>{a.onclick=n=>{n.stopPropagation();const i=a.dataset.compareName;if(!i)return;const o=isCompareSelected(i);if(toggleCompare(i)!==!1){const d=o?"compare-shrink":"compare-pop";if(a.classList.remove("compare-pop","compare-shrink"),a.offsetWidth,a.classList.add(d),!o){const s=a.closest(".girl-card");s&&(s.classList.remove("compare-highlight"),s.offsetWidth,s.classList.add("compare-highlight"),setTimeout(()=>s.classList.remove("compare-highlight"),700))}}}})}function renderGrid(){safeRender("Girls Grid",()=>{let e=[...girls];isAdmin()||(e=e.filter(o=>!o.hidden)),e=applySharedFilters(e),loggedIn||(e=e.filter(o=>o.name&&String(o.name).trim().length>0)),applySortOrder(e),grid.innerHTML="";const a=fmtDate(getAEDTDate());let n,i=document.getElementById("gridResultsLive");if(i||(i=document.createElement("div"),i.id="gridResultsLive",i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),i.className="sr-only",grid.parentElement.insertBefore(i,grid)),i.textContent=hasActiveFilters()?e.length+" results":"",!e.length&&hasActiveFilters()){grid.innerHTML=`<div class="fav-empty"><div class="fav-empty-icon" style="opacity:.15">&#x1F50D;</div><div class="fav-empty-text">${t("ui.noResults")}</div><button class="empty-state-cta" onclick="clearAllFilters();onFiltersChanged()">${t("ui.clearFilters")}</button></div>`;return}e.forEach((o,l)=>{const d=safeCardRender(o,l,()=>{const s=girls.indexOf(o),r=document.createElement("div");r.className="girl-card"+(o.hidden?" card-hidden":"");const c=o.hidden?"&#x1F441;":"&#x1F6AB;",u=o.hidden?t("ui.showGirl"):t("ui.hideGirl"),m=isAdmin()?`<div class="card-actions"><button class="card-action-btn hide-toggle${o.hidden?" active":""}" title="${u}" data-idx="${s}">${c}</button><button class="card-action-btn edit" title="Edit" data-idx="${s}">&#x270E;</button><button class="card-action-btn delete" title="Delete" data-idx="${s}">&#x2715;</button></div>`:"",p=o.photos&&o.photos.length?lazyThumb(o.photos[0],"card-thumb",o.name):'<div class="silhouette"></div>',f=getCalEntry(o.name,a),v=o.name&&isAvailableNow(o.name),g=getAEDTDate(),y=f&&f.start&&f.end&&!v&&(()=>{const b=g.getHours()*60+g.getMinutes(),[w,L]=f.end.split(":").map(Number),[E,I]=f.start.split(":").map(Number);return w*60+L>E*60+I&&b>=w*60+L})(),M=o.name?getAvailCountdown(o.name):null,T=M?' <span style="opacity:.65;font-size:.85em">·</span> '+(M.type==="ends"?t("avail.endsIn"):t("avail.startsIn")).replace("{t}",M.str):"",P=v?`<div class="card-avail card-avail-live"><span class="avail-now-dot"></span><span>${t("avail.now")} (${fmtTime12(f.start)} - ${fmtTime12(f.end)})${T}</span></div>`:!y&&f&&f.start&&f.end?`<div class="card-avail">${t("avail.laterToday")} (${fmtTime12(f.start)} - ${fmtTime12(f.end)})${T}</div>`:"";let x="";if(!P&&o.name){const w=getWeekDates().find(L=>L>a&&(getCalEntry(o.name,L)||{}).start);if(w){const L=dispDate(w).day,E=getCalEntry(o.name,w),I=E&&E.start&&E.end?` (${fmtTime12(E.start)} - ${fmtTime12(E.end)})`:"",A=D=>{const F=Math.floor(D/1440),H=Math.floor(D%1440/60),R=D%60;return F>0?`${F}d ${H}h`:H>0?`${H}h ${R}m`:`${R}m`},h=Math.round((new Date(w+" 00:00")-new Date(a+" 00:00"))/864e5),C=g.getHours()*60+g.getMinutes(),[$,B]=(E&&E.start||"00:00").split(":").map(Number),N=h*1440+$*60+B-C,O=N>0?' <span style="opacity:.65;font-size:.85em">·</span> '+t("avail.startsIn").replace("{t}",A(N)):"";x=`<div class="card-coming">${t("avail.coming")} ${L}${I}${O}</div>`}else{const L=getLastRostered(o.name);if(L){const E=Math.round((new Date(a+" 00:00")-new Date(L+" 00:00"))/864e5),I=E===0?"today":E===1?"yesterday":E+" days ago";x=`<div class="card-last-seen">${t("avail.lastSeen")} ${I}</div>`}}}const S=o.name?cardFavBtn(o.name):"",k=o.name?cardCompareBtn(o.name):"";return r.innerHTML=`<div class="card-img" style="background:linear-gradient(135deg,rgba(180,74,255,0.06),rgba(255,111,0,0.03))">${p}${S}${k}${m}</div><div class="card-info"><div class="card-name">${o.name||""}</div><div class="card-country">${Array.isArray(o.country)?o.country.join(", "):o.country||""}</div>${o.special?'<div class="card-special">'+o.special+"</div>":""}${cardRatingHtml(o)}${P||x}${isAdmin()&&o.lastModified?`<div style="font-size:10px;color:rgba(255,255,255,0.28);letter-spacing:1px;margin-top:2px">${daysAgo(o.lastModified)}</div>`:""}<div class="card-hover-line"></div></div>`,r.onclick=b=>{b.target.closest(".card-action-btn")||b.target.closest(".card-fav")||b.target.closest(".card-compare")||(_savedScrollY=window.scrollY,sessionStorage.setItem("ginza_scroll",window.scrollY),profileReturnPage="listPage",showProfile(s))},isAdmin()&&(r.querySelector(".hide-toggle").onclick=async b=>{b.stopPropagation(),o.hidden=!o.hidden,await saveData()&&(renderGrid(),renderRoster(),renderHome(),showToast(o.hidden?t("ui.girlHidden"):t("ui.girlVisible")))},r.querySelector(".edit").onclick=b=>{b.stopPropagation(),openForm(s)},r.querySelector(".delete").onclick=b=>{b.stopPropagation(),openDelete(s)}),r.addEventListener("mouseenter",()=>{clearTimeout(n),n=setTimeout(()=>{const b=document.getElementById("cardHoverPreview");if(!b)return;const w=r.querySelector(".card-avail,.card-coming,.card-last-seen"),L=w?w.innerHTML:"",E=w?w.classList.contains("card-avail-live")?"chp-avail chp-avail-live":w.classList.contains("card-coming")?"chp-avail chp-avail-coming":w.classList.contains("card-last-seen")?"chp-avail chp-avail-last":"chp-avail":"chp-avail";b.innerHTML=`<div class="chp-name">${o.name||""}</div><div class="chp-country">${Array.isArray(o.country)?o.country.join(", "):o.country||""}</div>${o.special?'<div class="chp-special">'+o.special+"</div>":""}${cardRatingHtml(o)?'<div class="chp-rating">'+cardRatingHtml(o)+"</div>":""}${L?'<div class="'+E+'">'+L+"</div>":""}<div class="chp-stats"><div class="chp-row"><span>${t("field.age")}</span><span>${o.age||"—"}</span></div><div class="chp-row"><span>${t("field.body")}</span><span>${o.body||"—"}</span></div><div class="chp-row"><span>${t("field.height")}</span><span>${o.height?o.height+" cm":"—"}</span></div><div class="chp-row"><span>${t("field.cup")}</span><span>${o.cup||"—"}</span></div><div class="chp-divider"></div><div class="chp-row"><span>${t("field.rates30")}</span><span>${o.val1||"—"}</span></div><div class="chp-row"><span>${t("field.rates45")}</span><span>${o.val2||"—"}</span></div><div class="chp-row"><span>${t("field.rates60")}</span><span>${o.val3||"—"}</span></div><div class="chp-row"><span>${t("field.experience")}</span><span>${o.exp||"—"}</span></div></div>`,b.classList.add("visible")},180)}),r.addEventListener("mouseleave",()=>{clearTimeout(n),document.getElementById("cardHoverPreview")?.classList.remove("visible")}),r.addEventListener("mousemove",b=>{const w=document.getElementById("cardHoverPreview");if(!w||!w.classList.contains("visible"))return;const L=window.innerWidth,E=window.innerHeight,I=w.offsetWidth||220,A=w.offsetHeight||280;let h=b.clientX+16,C=b.clientY+16;h+I>L-8&&(h=b.clientX-I-12),C+A>E-8&&(C=b.clientY-A-12),w.style.left=h+"px",w.style.top=C+"px"}),r});d&&grid.appendChild(d)}),bindCardFavs(grid),bindCardCompare(grid),observeLazy(grid),observeEntrance(grid)})}function hasGirlsOnDate(e){return girls.some(a=>{const n=getCalEntry(a.name,e);return n&&n.start&&n.end})}function renderRosterFilters(){const e=document.getElementById("rosterFilterBar");e.innerHTML="";const a=getWeekDates(),n=a[0];rosterDateFilter||(rosterDateFilter=n);const i=a.filter(o=>hasGirlsOnDate(o));i.length&&!i.includes(rosterDateFilter)&&(rosterDateFilter=i[0]),i.length||(rosterDateFilter=null),i.forEach(o=>{const l=dispDate(o),d=document.createElement("button");d.className="filter-btn"+(o===rosterDateFilter?" date-active":""),d.textContent=o===n?t("ui.today"):l.day+" "+l.date,d.onclick=()=>{rosterDateFilter=o,rosterAvailFilter=null,renderRosterFilters(),renderRosterGrid()},e.appendChild(d)}),renderAvailNowBar()}function renderRosterGrid(){safeRender("Roster Grid",()=>{const e=document.getElementById("rosterGrid");if(e.innerHTML="",!rosterDateFilter){e.innerHTML=`<div class="empty-msg">${t("ui.noGirlsWeek")}</div>`;return}const a=fmtDate(getAEDTDate()),n=rosterDateFilter;let i=[...girls].filter(l=>{const d=getCalEntry(l.name,n);return d&&d.start&&d.end});if(isAdmin()||(i=i.filter(l=>!l.hidden)),i=applySharedFilters(i),loggedIn||(i=i.filter(l=>l.name&&String(l.name).trim().length>0)),n===a&&rosterAvailFilter){const l=getAEDTDate(),d=l.getHours()*60+l.getMinutes();rosterAvailFilter==="now"?i=i.filter(s=>s.name&&isAvailableNow(s.name)):rosterAvailFilter==="later"?i=i.filter(s=>{if(!s.name||isAvailableNow(s.name))return!1;const r=getCalEntry(s.name,a);if(!r||!r.start||!r.end)return!1;const[c,u]=r.start.split(":").map(Number),m=c*60+u,[p,f]=r.end.split(":").map(Number);return p*60+f<=m,d<m}):rosterAvailFilter==="finished"&&(i=i.filter(s=>{const r=getCalEntry(s.name,a);if(!r||!r.start||!r.end)return!1;const[c,u]=r.start.split(":").map(Number),[m,p]=r.end.split(":").map(Number),f=c*60+u,v=m*60+p;return v<=f?!1:d>=v&&!isAvailableNow(s.name)}))}if(applySortOrder(i),!i.length){e.innerHTML=`<div class="empty-msg">${t("ui.noGirlsDate")}</div>`;return}let o;i.forEach((l,d)=>{const s=safeCardRender(l,d,()=>{const r=girls.indexOf(l),c=document.createElement("div");c.className="girl-card";const u=l.photos&&l.photos.length?lazyThumb(l.photos[0],"card-thumb",l.name):'<div class="silhouette"></div>',m=n===a,p=getCalEntry(l.name,n),f=m&&l.name&&isAvailableNow(l.name),v=getAEDTDate(),g=m&&p&&p.start&&p.end&&!f&&(()=>{const x=v.getHours()*60+v.getMinutes(),[S,k]=p.end.split(":").map(Number),[b,w]=p.start.split(":").map(Number);return S*60+k>b*60+w&&x>=S*60+k})(),y=p&&p.start&&p.end?" ("+fmtTime12(p.start)+" - "+fmtTime12(p.end)+")":"",M=f?`<div class="card-avail card-avail-live"><span class="avail-now-dot"></span><span>${t("avail.now")}${y}</span></div>`:g?`<div class="card-avail card-avail-finished">${t("avail.finished")}</div>`:m?`<div class="card-avail">${t("avail.laterToday")}${y}</div>`:`<div class="card-avail" style="color:var(--accent)">${y.trim()}</div>`,T=l.name?cardFavBtn(l.name):"",P=l.name?cardCompareBtn(l.name):"";return c.innerHTML=`<div class="card-img" style="background:linear-gradient(135deg,rgba(180,74,255,0.06),rgba(255,111,0,0.03))">${u}${T}${P}</div><div class="card-info"><div class="card-name">${l.name||""}</div><div class="card-country">${Array.isArray(l.country)?l.country.join(", "):l.country||""}</div>${l.special?'<div class="card-special">'+l.special+"</div>":""}${cardRatingHtml(l)}${M}<div class="card-hover-line"></div></div>`,c.onclick=x=>{x.target.closest(".card-fav")||x.target.closest(".card-compare")||(_savedScrollY=window.scrollY,sessionStorage.setItem("ginza_scroll",window.scrollY),profileReturnPage="rosterPage",showProfile(r))},c.addEventListener("mouseenter",()=>{clearTimeout(o),o=setTimeout(()=>{const x=document.getElementById("cardHoverPreview");if(!x)return;const S=c.querySelector(".card-avail,.card-coming,.card-last-seen"),k=S?S.innerHTML:"",b=S?S.classList.contains("card-avail-live")?"chp-avail chp-avail-live":S.classList.contains("card-coming")?"chp-avail chp-avail-coming":S.classList.contains("card-last-seen")?"chp-avail chp-avail-last":"chp-avail":"chp-avail";x.innerHTML=`<div class="chp-name">${l.name||""}</div><div class="chp-country">${Array.isArray(l.country)?l.country.join(", "):l.country||""}</div>${l.special?'<div class="chp-special">'+l.special+"</div>":""}${cardRatingHtml(l)?'<div class="chp-rating">'+cardRatingHtml(l)+"</div>":""}${k?'<div class="'+b+'">'+k+"</div>":""}<div class="chp-stats"><div class="chp-row"><span>${t("field.age")}</span><span>${l.age||"—"}</span></div><div class="chp-row"><span>${t("field.body")}</span><span>${l.body||"—"}</span></div><div class="chp-row"><span>${t("field.height")}</span><span>${l.height?l.height+" cm":"—"}</span></div><div class="chp-row"><span>${t("field.cup")}</span><span>${l.cup||"—"}</span></div><div class="chp-divider"></div><div class="chp-row"><span>${t("field.rates30")}</span><span>${l.val1||"—"}</span></div><div class="chp-row"><span>${t("field.rates45")}</span><span>${l.val2||"—"}</span></div><div class="chp-row"><span>${t("field.rates60")}</span><span>${l.val3||"—"}</span></div><div class="chp-row"><span>${t("field.experience")}</span><span>${l.exp||"—"}</span></div></div>`,x.classList.add("visible")},180)}),c.addEventListener("mouseleave",()=>{clearTimeout(o),document.getElementById("cardHoverPreview")?.classList.remove("visible")}),c.addEventListener("mousemove",x=>{const S=document.getElementById("cardHoverPreview");if(!S||!S.classList.contains("visible"))return;const k=window.innerWidth,b=window.innerHeight,w=S.offsetWidth||220,L=S.offsetHeight||280;let E=x.clientX+16,I=x.clientY+16;E+w>k-8&&(E=x.clientX-w-12),I+L>b-8&&(I=x.clientY-L-12),S.style.left=E+"px",S.style.top=I+"px"}),c});s&&e.appendChild(s)}),bindCardFavs(e),bindCardCompare(e),observeLazy(e),observeEntrance(e),renderAvailNowBar()})}function renderRoster(){renderRosterFilters(),renderRosterGrid()}function renderFavoritesGrid(){safeRender("Favorites Grid",()=>{const e=document.getElementById("favoritesGrid");e.innerHTML="";const a=getFavorites(),n=fmtDate(getAEDTDate());let i=girls.filter(l=>l.name&&a.includes(l.name));if(isAdmin()||(i=i.filter(l=>!l.hidden)),applySortOrder(i),!i.length){e.innerHTML=`<div class="fav-empty"><div class="fav-empty-icon">&hearts;</div><div class="fav-empty-text">${t("ui.favEmpty")}</div><button class="empty-state-cta" onclick="showPage('listPage');Router.push('/girls')">${t("ui.favBrowse")}</button></div>`;return}let o;i.forEach((l,d)=>{const s=safeCardRender(l,d,()=>{const r=girls.indexOf(l),c=document.createElement("div");c.className="girl-card";const u=l.photos&&l.photos.length?lazyThumb(l.photos[0],"card-thumb",l.name):'<div class="silhouette"></div>',m=getCalEntry(l.name,n),f=l.name&&isAvailableNow(l.name)?`<div class="card-avail card-avail-live"><span class="avail-now-dot"></span><span>${t("avail.now")} (${fmtTime12(m.start)} - ${fmtTime12(m.end)})</span></div>`:m&&m.start&&m.end?`<div class="card-avail">${t("avail.laterToday")} (${fmtTime12(m.start)} - ${fmtTime12(m.end)})</div>`:"",v=cardFavBtn(l.name),g=cardCompareBtn(l.name);return c.innerHTML=`<div class="card-img" style="background:linear-gradient(135deg,rgba(180,74,255,0.06),rgba(255,111,0,0.03))">${u}${v}${g}</div><div class="card-info"><div class="card-name">${l.name||""}</div><div class="card-country">${Array.isArray(l.country)?l.country.join(", "):l.country||""}</div>${l.special?'<div class="card-special">'+l.special+"</div>":""}${cardRatingHtml(l)}${f}<div class="card-hover-line"></div></div>`,c.onclick=y=>{y.target.closest(".card-fav")||y.target.closest(".card-compare")||(_savedScrollY=window.scrollY,sessionStorage.setItem("ginza_scroll",window.scrollY),profileReturnPage="favoritesPage",showProfile(r))},c.addEventListener("mouseenter",()=>{clearTimeout(o),o=setTimeout(()=>{const y=document.getElementById("cardHoverPreview");if(!y)return;const M=c.querySelector(".card-avail,.card-coming,.card-last-seen"),T=M?M.innerHTML:"",P=M?M.classList.contains("card-avail-live")?"chp-avail chp-avail-live":M.classList.contains("card-coming")?"chp-avail chp-avail-coming":M.classList.contains("card-last-seen")?"chp-avail chp-avail-last":"chp-avail":"chp-avail";y.innerHTML=`<div class="chp-name">${l.name||""}</div><div class="chp-country">${Array.isArray(l.country)?l.country.join(", "):l.country||""}</div>${l.special?'<div class="chp-special">'+l.special+"</div>":""}${cardRatingHtml(l)?'<div class="chp-rating">'+cardRatingHtml(l)+"</div>":""}${T?'<div class="'+P+'">'+T+"</div>":""}<div class="chp-stats"><div class="chp-row"><span>${t("field.age")}</span><span>${l.age||"—"}</span></div><div class="chp-row"><span>${t("field.body")}</span><span>${l.body||"—"}</span></div><div class="chp-row"><span>${t("field.height")}</span><span>${l.height?l.height+" cm":"—"}</span></div><div class="chp-row"><span>${t("field.cup")}</span><span>${l.cup||"—"}</span></div><div class="chp-divider"></div><div class="chp-row"><span>${t("field.rates30")}</span><span>${l.val1||"—"}</span></div><div class="chp-row"><span>${t("field.rates45")}</span><span>${l.val2||"—"}</span></div><div class="chp-row"><span>${t("field.rates60")}</span><span>${l.val3||"—"}</span></div><div class="chp-row"><span>${t("field.experience")}</span><span>${l.exp||"—"}</span></div></div>`,y.classList.add("visible")},180)}),c.addEventListener("mouseleave",()=>{clearTimeout(o),document.getElementById("cardHoverPreview")?.classList.remove("visible")}),c.addEventListener("mousemove",y=>{const M=document.getElementById("cardHoverPreview");if(!M||!M.classList.contains("visible"))return;const T=window.innerWidth,P=window.innerHeight,x=M.offsetWidth||220,S=M.offsetHeight||280;let k=y.clientX+16,b=y.clientY+16;k+x>T-8&&(k=y.clientX-x-12),b+S>P-8&&(b=y.clientY-S-12),M.style.left=k+"px",M.style.top=b+"px"}),c});s&&e.appendChild(s)}),e.querySelectorAll(".card-fav").forEach(l=>{l.onclick=d=>{d.stopPropagation();const s=l.dataset.favName;s&&(toggleFavorite(s),updateFavBadge(),renderFavoritesGrid())}}),bindCardCompare(e),observeLazy(e),observeEntrance(e)})}function renderValueTable(){safeRender("Value Table",()=>{const e=document.getElementById("valueTable"),a=[{label:"30 mins",key:"val1"},{label:"45 mins",key:"val2"},{label:"60 mins",key:"val3"}];let n=`<thead><tr><th style="text-align:left">${t("table.rates")}</th><th style="text-align:left">${t("table.priceRange")}</th></tr></thead><tbody>`;a.forEach(i=>{const o=[];girls.forEach(d=>{const s=d[i.key];if(!s)return;String(s).replace(/[\$,\s]/g,"").split(/[-–—~]+/).forEach(u=>{const m=parseFloat(u);!isNaN(m)&&m>0&&o.push(m)})});let l="—";if(o.length){const d=Math.min(...o),s=Math.max(...o);l=d===s?"$"+d:"$"+d+" – $"+s}n+=`<tr><td style="text-align:left;font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:2px;color:#fff;text-transform:uppercase">${i.label}</td><td style="text-align:left;font-family:'Orbitron',sans-serif;font-size:16px;letter-spacing:2px;color:var(--accent)">${l}</td></tr>`}),n+="</tbody>",e.innerHTML=n})}let calMobileDay=0;function updateMobileCalView(e,a){const n=String(calMobileDay+1);e.querySelectorAll("[data-cal-col]").forEach(o=>{o.classList.toggle("cal-col-active",o.dataset.calCol===n)});const i=document.getElementById("calMobileDayLabel");if(i){const o=dispDate(a[calMobileDay]);i.textContent=(calMobileDay===0?"Today · ":"")+o.day+" "+o.date}}function generateTimeOptions(){const e=['<option value="">--:--</option>'];for(let a=0;a<24;a++)for(let n=0;n<60;n+=30){const i=String(a).padStart(2,"0")+":"+String(n).padStart(2,"0"),o=a===0?12:a>12?a-12:a;e.push(`<option value="${i}">${o}:${String(n).padStart(2,"0")} ${a<12?"AM":"PM"}</option>`)}return e.join("")}function renderCalendar(){safeRender("Calendar",()=>{const e=document.getElementById("calFilterBar");if(e.innerHTML="",isAdmin()){const s=document.createElement("button");s.className="add-btn",s.innerHTML="&#x2398; Copy Day",s.onclick=()=>openCopyDayModal(),e.appendChild(s)}const a=applySharedFilters([...girls].filter(s=>s.name&&String(s.name).trim().length>0)).sort((s,r)=>(s.name||"").trim().toLowerCase().localeCompare((r.name||"").trim().toLowerCase())),n=document.getElementById("calTable"),i=getWeekDates(),o=i[0],l=generateTimeOptions();let d=`<thead><tr><th>${t("cal.profile")}</th>`;i.forEach((s,r)=>{const c=dispDate(s);d+=`<th class="${r===0?"cal-today":""}" data-cal-col="${r+1}">${c.date}<span class="cal-day-name">${c.day}${r===0?` (${t("ui.today")})`:""}</span></th>`}),d+="</tr></thead><tbody>",a.forEach(s=>{const r=girls.indexOf(s),c=s.photos&&s.photos.length?lazyCalAvatar(s.photos[0],s.name):`<span class="cal-letter">${s.name.charAt(0)}</span>`,u=isAdmin()?`<div class="cal-bulk-actions"><button class="cal-bulk-btn cal-bulk-all" data-bulk-name="${s.name}" title="Mark available all week">${t("cal.allWeek")}</button><button class="cal-bulk-btn cal-bulk-clear" data-bulk-name="${s.name}" title="Clear entire week">${t("cal.clear")}</button></div>`:"";d+=`<tr><td><div class="cal-profile" data-idx="${r}"><div class="cal-avatar">${c}</div><div><div class="cal-name">${s.name}</div>${u}</div></div></td>`,i.forEach((m,p)=>{const f=getCalEntry(s.name,m),v=f?"checked":"",g=!!f;d+=`<td class="${p===0?"cal-today":""}" data-cal-col="${p+1}"><div class="cal-cell-inner"><input type="checkbox" class="cal-check" data-name="${s.name}" data-date="${m}" ${v}><div class="cal-time-wrap" style="display:${g?"flex":"none"}" data-time-name="${s.name}" data-time-date="${m}"><div class="cal-time-row"><label>Start</label><select class="cal-time-input" data-field="start" data-tname="${s.name}" data-tdate="${m}">${l}</select></div><div class="cal-time-row"><label>End</label><select class="cal-time-input" data-field="end" data-tname="${s.name}" data-tdate="${m}">${l}</select></div><div class="cal-time-warn" data-warn-name="${s.name}" data-warn-date="${m}"></div></div></div></td>`}),d+="</tr>"}),d+="</tbody>",n.innerHTML=d,observeLazy(n),observeCalEntrance(n);{const s=document.getElementById("calMobileNav");if(s){s.innerHTML='<div class="cal-mobile-nav"><button class="cal-mobile-btn" id="calMobilePrev">&#8249;</button><div class="cal-mobile-label" id="calMobileDayLabel"></div><button class="cal-mobile-btn" id="calMobileNext">&#8250;</button></div>';const r=document.getElementById("calMobilePrev"),c=document.getElementById("calMobileNext");r&&(r.onclick=()=>{calMobileDay>0&&(calMobileDay--,updateMobileCalView(n,i))}),c&&(c.onclick=()=>{calMobileDay<6&&(calMobileDay++,updateMobileCalView(n,i))}),updateMobileCalView(n,i)}}a.forEach(s=>{getWeekDates().forEach(r=>{const c=getCalEntry(s.name,r);if(c){const u=n.querySelector(`select[data-field="start"][data-tname="${s.name}"][data-tdate="${r}"]`),m=n.querySelector(`select[data-field="end"][data-tname="${s.name}"][data-tdate="${r}"]`);if(u&&c.start&&(u.value=c.start),m&&c.end&&(m.value=c.end),!c.start||!c.end){calPending[s.name]||(calPending[s.name]={}),calPending[s.name][r]=!0;const p=n.querySelector(`[data-warn-name="${s.name}"][data-warn-date="${r}"]`);p&&(p.textContent="Times required")}}})}),n.querySelectorAll(".cal-profile").forEach(s=>{s.onclick=r=>{r.target.closest(".cal-bulk-btn")||(profileReturnPage="calendarPage",showProfile(parseInt(s.dataset.idx)))}}),isAdmin()&&(n.querySelectorAll(".cal-bulk-all").forEach(s=>{s.onclick=r=>{r.stopPropagation();const c=s.dataset.bulkName;openBulkTimeModal(c)}}),n.querySelectorAll(".cal-bulk-clear").forEach(s=>{s.onclick=r=>{r.stopPropagation();const c=s.dataset.bulkName,u=getWeekDates();let m=0;u.forEach(p=>{calData[c]&&calData[c][p]&&(delete calData[c][p],m++),calPending[c]&&delete calPending[c][p]}),m>0&&(queueCalSave(null,100),renderCalendar(),renderRoster(),renderGrid(),renderHome(),showToast(c+" cleared for the week"))}})),n.querySelectorAll(".cal-check").forEach(s=>{s.onchange=async function(){const r=this.dataset.name,c=this.dataset.date,u=n.querySelector(`[data-time-name="${r}"][data-time-date="${c}"]`);if(this.checked){calData[r]||(calData[r]={});const m=findExistingTimes(r,c);if(m){const p=await showCopyTimePrompt(r,m.date,m.start,m.end);if(p==="cancel"){this.checked=!1,calData[r]&&delete calData[r][c],calPending[r]&&delete calPending[r][c],u&&(u.style.display="none");return}if(p==="copy"){if(calData[r][c]={start:m.start,end:m.end},u){u.style.display="flex";const v=n.querySelector(`select[data-field="start"][data-tname="${r}"][data-tdate="${c}"]`),g=n.querySelector(`select[data-field="end"][data-tname="${r}"][data-tdate="${c}"]`);v&&(v.value=m.start),g&&(g.value=m.end);const y=n.querySelector(`[data-warn-name="${r}"][data-warn-date="${c}"]`);y&&(y.textContent="")}const f=this.closest("td");queueCalSave(f,100),showToast("Times copied");return}else{if(calData[r][c]={start:"",end:""},calPending[r]||(calPending[r]={}),calPending[r][c]=!0,u){u.style.display="flex";const f=n.querySelector(`[data-warn-name="${r}"][data-warn-date="${c}"]`);f&&(f.textContent="Times required")}return}}if(calData[r][c]={start:"",end:""},calPending[r]||(calPending[r]={}),calPending[r][c]=!0,u){u.style.display="flex";const p=n.querySelector(`[data-warn-name="${r}"][data-warn-date="${c}"]`);p&&(p.textContent="Times required")}}else{if(calData[r]&&delete calData[r][c],calPending[r]&&delete calPending[r][c],u){u.style.display="none";const m=n.querySelector(`select[data-field="start"][data-tname="${r}"][data-tdate="${c}"]`),p=n.querySelector(`select[data-field="end"][data-tname="${r}"][data-tdate="${ds}"]`);m&&(m.value=""),p&&(p.value="");const f=n.querySelector(`[data-warn-name="${r}"][data-warn-date="${c}"]`);f&&(f.textContent="")}queueCalSave(this.closest("td"))}}}),n.querySelectorAll(".cal-time-input").forEach(s=>{s.onchange=function(){const r=this.dataset.tname,c=this.dataset.tdate,u=this.dataset.field;if(!calData[r]||!calData[r][c])return;typeof calData[r][c]!="object"&&(calData[r][c]={start:"",end:""}),calData[r][c][u]=this.value;const m=calData[r][c],p=n.querySelector(`[data-warn-name="${r}"][data-warn-date="${c}"]`);m.start&&m.end?(this.classList.remove("invalid"),calPending[r]&&delete calPending[r][c],p&&(p.textContent=""),queueCalSave(this.closest("td")),showToast("Schedule saved")):(this.classList.remove("invalid"),p&&(p.textContent="Times required"),calPending[r]||(calPending[r]={}),calPending[r][c]=!0)}})})}const formOverlay=document.getElementById("formOverlay"),formFields=["fName","fAge","fBody","fHeight","fCup","fVal1","fVal2","fVal3","fSpecial","fExp","fStartDate","fLang","fType","fDesc"];let formLabels=[];document.getElementById("formClose").onclick=()=>formOverlay.classList.remove("open"),document.getElementById("formCancel").onclick=()=>formOverlay.classList.remove("open"),formOverlay.onclick=e=>{e.target===formOverlay&&formOverlay.classList.remove("open")};let formPhotos=[],formPhotosToDelete=[],formNewPhotos=[],formNewFiles=[],formCountries=[],selectedPhotoIdx=null;const COUNTRY_OPTIONS=["Chinese","French","Italian","Japanese","Korean","Russian","Thailand","Vietnamese","Other"];function renderFormCountries(){const e=document.getElementById("fCountryOptions");e.innerHTML="",COUNTRY_OPTIONS.forEach(a=>{const n=document.createElement("div");n.className="country-opt"+(formCountries.includes(a)?" selected":""),n.textContent=a,n.onclick=()=>{formCountries.includes(a)?formCountries=formCountries.filter(i=>i!==a):formCountries.push(a),renderFormCountries()},e.appendChild(n)})}function renderFormPhotos(){const e=document.getElementById("fPhotoGrid"),a=document.getElementById("fPhotoCount");if(e.innerHTML="",a.textContent=`(${formPhotos.length} / ${MAX_PHOTOS})`,formPhotos.length>1){const i=document.createElement("div");i.style.cssText='width:100%;font-family:"Rajdhani",sans-serif;font-size:11px;color:rgba(255,255,255,0.25);letter-spacing:1px;margin-bottom:6px',i.textContent="Click to select · ← → to move · Drag to reorder",e.appendChild(i)}let n=null;if(formPhotos.forEach((i,o)=>{const l=document.createElement("div");l.style.cssText="position:relative;display:inline-block;cursor:grab",l.draggable=!0;const d=document.createElement("div");d.style.cssText="width:64px;height:64px;border:2px solid rgba(255,255,255,0.1);overflow:hidden;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px));transition:border-color .15s",selectedPhotoIdx===o&&(d.style.borderColor="var(--accent)"),d.innerHTML=`<img src="${i}" style="width:100%;height:100%;object-fit:cover;pointer-events:none">`,l.onclick=r=>{r.target===s||s.contains(r.target)||(selectedPhotoIdx=selectedPhotoIdx===o?null:o,renderFormPhotos())};const s=document.createElement("button");s.style.cssText="position:absolute;top:1px;right:1px;width:18px;height:18px;background:rgba(0,0,0,0.85);border:1px solid rgba(255,68,68,0.5);color:#ff4444;font-size:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:2px;z-index:2",s.innerHTML="&#x2715;",s.onclick=r=>{r.stopPropagation(),selectedPhotoIdx===o?selectedPhotoIdx=null:selectedPhotoIdx>o&&selectedPhotoIdx--;const c=formPhotos[o];if(c.startsWith("data:")){const u=formNewPhotos.indexOf(c);u>=0&&(formNewPhotos.splice(u,1),formNewFiles.splice(u,1))}formPhotosToDelete.push(c),formPhotos.splice(o,1),renderFormPhotos()},l.ondragstart=r=>{n=o,r.dataTransfer.effectAllowed="move",r.dataTransfer.setData("text/plain",String(o)),setTimeout(()=>{l.style.opacity="0.35"},0)},l.ondragend=()=>{l.style.opacity="",n=null,e.querySelectorAll("div[draggable]").forEach(r=>{const c=r.querySelector("div");c&&(c.style.borderColor="rgba(255,255,255,0.1)")})},l.ondragover=r=>{r.preventDefault(),r.dataTransfer.dropEffect="move",n!==null&&n!==o&&(d.style.borderColor="var(--accent)")},l.ondragleave=()=>{d.style.borderColor="rgba(255,255,255,0.1)"},l.ondrop=r=>{r.preventDefault(),d.style.borderColor="rgba(255,255,255,0.1)";const c=parseInt(r.dataTransfer.getData("text/plain")),u=o;if(c===u||isNaN(c))return;const m=formPhotos.splice(c,1)[0];formPhotos.splice(u,0,m),renderFormPhotos()},l.appendChild(d),l.appendChild(s),e.appendChild(l)}),formPhotos.length<MAX_PHOTOS){const i=document.createElement("div");i.style.cssText="width:64px;height:64px;border:2px dashed rgba(180,74,255,0.3);display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--accent);font-size:22px;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px));transition:all .3s",i.innerHTML="+",i.onmouseenter=()=>{i.style.borderColor="var(--accent)",i.style.background="rgba(180,74,255,0.06)"},i.onmouseleave=()=>{i.style.borderColor="rgba(180,74,255,0.3)",i.style.background="none"},i.onclick=()=>{const o=MAX_PHOTOS-formPhotos.length;if(o<=0)return;const l=document.createElement("input");l.type="file",l.accept="image/*",l.multiple=!0,l.onchange=d=>{const s=Array.from(d.target.files).slice(0,o);let r=0;s.forEach(c=>{const u=new FileReader;u.onload=m=>{formPhotos.push(m.target.result),formNewPhotos.push(m.target.result),formNewFiles.push(c.name),r++,r===s.length&&renderFormPhotos()},u.readAsDataURL(c)})},l.click()},e.appendChild(i)}}function renderFormLabels(){const e=document.getElementById("fLabelTags");e.innerHTML="",formLabels.forEach((a,n)=>{const i=document.createElement("span");i.className="label-tag",i.innerHTML=`${a}<button class="label-remove" title="Remove">&times;</button>`,i.querySelector(".label-remove").onclick=()=>{formLabels.splice(n,1),renderFormLabels()},e.appendChild(i)})}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("fLabelInput");e&&e.addEventListener("keydown",a=>{if(a.key==="Enter"){a.preventDefault();const n=sanitize(e.value);n&&!formLabels.includes(n)&&(formLabels.push(n),renderFormLabels()),e.value=""}}),document.addEventListener("keydown",a=>{if(formOverlay.classList.contains("open")&&selectedPhotoIdx!==null&&!(document.activeElement&&document.activeElement.matches("input,textarea,select"))){if(a.key==="ArrowLeft"&&selectedPhotoIdx>0){a.preventDefault();const n=formPhotos.splice(selectedPhotoIdx,1)[0];selectedPhotoIdx--,formPhotos.splice(selectedPhotoIdx,0,n),renderFormPhotos()}else if(a.key==="ArrowRight"&&selectedPhotoIdx<formPhotos.length-1){a.preventDefault();const n=formPhotos.splice(selectedPhotoIdx,1)[0];selectedPhotoIdx++,formPhotos.splice(selectedPhotoIdx,0,n),renderFormPhotos()}}})});function sanitize(e){return(e||"").replace(/<[^>]+>/g,"").trim()}function openForm(e=-1){if(document.getElementById("editIndex").value=e,formPhotosToDelete=[],formNewPhotos=[],formNewFiles=[],selectedPhotoIdx=null,e>=0){document.getElementById("formTitle").textContent=t("form.editGirl");const a=girls[e];document.getElementById("fName").value=a.name;const n=a.country||"";formCountries=Array.isArray(n)?[...n]:n?[n]:[],document.getElementById("fAge").value=a.age,document.getElementById("fBody").value=a.body,document.getElementById("fHeight").value=a.height,document.getElementById("fCup").value=a.cup,document.getElementById("fVal1").value=a.val1||"",document.getElementById("fVal2").value=a.val2||"",document.getElementById("fVal3").value=a.val3||"",document.getElementById("fSpecial").value=a.special||"",document.getElementById("fExp").value=a.exp||"",document.getElementById("fStartDate").value=a.startDate||fmtDate(getAEDTDate()),document.getElementById("fLang").value=a.lang||"",document.getElementById("fType").value=a.type||"",document.getElementById("fDesc").value=a.desc,formPhotos=[...a.photos||[]],formLabels=[...a.labels||[]]}else document.getElementById("formTitle").textContent=t("form.addGirl"),formFields.forEach(a=>document.getElementById(a).value=""),document.getElementById("fStartDate").value=fmtDate(getAEDTDate()),formPhotos=[],formLabels=[],formCountries=[];renderFormPhotos(),renderFormLabels(),renderFormCountries(),formOverlay.classList.add("open")}document.getElementById("formSave").onclick=async()=>{const e=[{id:"fName",label:"Name"},{id:"fAge",label:"Age"},{id:"fBody",label:"Body Size"},{id:"fHeight",label:"Height"},{id:"fCup",label:"Cup Size"},{id:"fExp",label:"Experience"},{id:"fVal3",label:"Value 3"},{id:"fStartDate",label:"Start Date"},{id:"fLang",label:"Language"},{id:"fType",label:"Type"},{id:"fDesc",label:"Description"}];for(const i of e){const o=document.getElementById(i.id);if(!o.value.trim()){o.focus(),showToast(i.label+" is required","error");return}}if(formCountries.length===0){showToast("Country is required","error");return}if(formPhotos.length===0){showToast("At least one photo is required","error");return}const a=sanitize(document.getElementById("fName").value),n=document.getElementById("formSave");n.textContent="SAVING...",n.style.pointerEvents="none";try{for(const u of formPhotosToDelete)u.includes("githubusercontent.com")&&await deleteFromGithub(u);const i=[];for(const u of formPhotos)if(u.startsWith("data:"))if(GT){const m=formNewPhotos.indexOf(u);i.push(await uploadToGithub(u,a,m>=0?formNewFiles[m]:genFn()))}else i.push(u);else i.push(u);const o=document.getElementById("fSpecial").value.trim(),l=document.getElementById("fLang").value.trim(),d=document.getElementById("fType").value.trim(),s=sanitize(document.getElementById("fDesc").value),r={name:a,location:"Empire",country:[...formCountries],age:document.getElementById("fAge").value.trim(),body:document.getElementById("fBody").value.trim(),height:document.getElementById("fHeight").value.trim(),cup:document.getElementById("fCup").value.trim(),val1:document.getElementById("fVal1").value.trim(),val2:document.getElementById("fVal2").value.trim(),val3:document.getElementById("fVal3").value.trim(),special:o,exp:document.getElementById("fExp").value.trim(),startDate:document.getElementById("fStartDate").value.trim(),lang:l,type:d,desc:s,specialJa:o,langJa:l,typeJa:d,descJa:s,photos:i,labels:[...formLabels],labelsJa:[...formLabels],lastModified:new Date().toISOString()},c=parseInt(document.getElementById("editIndex").value);c>=0?girls[c]=r:girls.push(r),await saveData()&&(logAdminAction(c>=0?"profile_edit":"profile_add",a),formOverlay.classList.remove("open"),renderFilters(),renderGrid(),renderRoster(),renderHome(),document.getElementById("profilePage").classList.contains("active")&&c>=0&&showProfile(c),showToast(c>=0?"Profile updated":"Profile added"))}catch(i){showToast("Error: "+i.message,"error")}finally{n.textContent="SAVE",n.style.pointerEvents="auto"}};const deleteOverlay=document.getElementById("deleteOverlay");document.getElementById("deleteCancel").onclick=()=>deleteOverlay.classList.remove("open"),deleteOverlay.onclick=e=>{e.target===deleteOverlay&&deleteOverlay.classList.remove("open")};function openDelete(e){deleteTarget=e,document.getElementById("deleteMsg").textContent=`Remove "${girls[e].name}" from the roster?`,deleteOverlay.classList.add("open")}document.getElementById("deleteConfirm").onclick=async()=>{if(deleteTarget>=0){const e=girls[deleteTarget];if(e.photos&&GT)for(const n of e.photos)n.includes("githubusercontent.com")&&await deleteFromGithub(n);const a=e.name;girls.splice(deleteTarget,1),await saveData(),logAdminAction("profile_delete",a),deleteTarget=-1,deleteOverlay.classList.remove("open"),renderFilters(),renderGrid(),renderRoster(),renderHome(),document.getElementById("profilePage").classList.contains("active")&&showPage("homePage"),showToast("Profile deleted")}};function removeSkeletons(){["homeSkeleton","rosterSkeleton","girlsSkeleton","calSkeleton","rosterFilterSkeleton","girlsFilterSkeleton","favoritesSkeleton","valueTableSkeleton"].forEach(a=>{const n=document.getElementById(a);n&&(n.classList.add("fade-out"),setTimeout(()=>n.remove(),400))})}function normalizeCalData(e){if(!e)return{};for(const a in e)for(const n in e[a])e[a][n]===!0&&(e[a][n]={start:"",end:""});return e}function fullRender(){rosterDateFilter=fmtDate(getAEDTDate()),renderFilters(),renderGrid(),renderRoster(),renderHome(),updateFavBadge()}let _refreshTick=0;setInterval(async()=>{if(_refreshTick++,_refreshTick%5===0)try{const e=calSha,a=await loadCalData();if(calSha&&calSha!==e){calData=normalizeCalData(a),updateCalCache();const n=document.querySelector(".page.active");if(n){const i=n.id;i==="rosterPage"?renderRoster():i==="listPage"?renderGrid():i==="favoritesPage"?renderFavoritesGrid():i==="homePage"?renderHome():i==="profilePage"&&currentProfileIdx>=0&&showProfile(currentProfileIdx)}}}catch{}try{const e=document.querySelector(".page.active");if(!e)return;const a=e.id;a==="rosterPage"?renderRoster():a==="listPage"?renderGrid():a==="favoritesPage"?renderFavoritesGrid():a==="homePage"?renderHome():a==="profilePage"&&currentProfileIdx>=0&&showProfile(currentProfileIdx)}catch{}},6e4);function fullRenderAndRoute(){typeof queryToFilters=="function"&&queryToFilters(),fullRender(),window.location.pathname!=="/"?Router.resolve():history.replaceState({path:"/"},"Ginza Empire","/")}async function initApp(){try{await loadConfig(),typeof initOfflineDetection=="function"&&initOfflineDetection();const e=getCachedGirls(),a=getCachedCal();let n=!1,i=!1;if(e&&e.length){girls=e;const c=!isCalCacheStale();calData=c&&a?normalizeCalData(a):{},i=!c,fullRenderAndRoute(),removeSkeletons(),n=!0}const[o,l,d]=await Promise.all([loadAuth(),loadData(),loadCalData(),loadRosterHistory()]);o&&o.length?CRED=o:(CRED=[],showToast("Could not load auth","error"));let s=!1;if(l!==null){const c=getCachedGirlsSha();(!n||c!==dataSha)&&(girls=l,s=!0,updateGirlsCache())}else if(!n){const c=typeof t=="function"?t("ui.loadFailed"):"Unable to load data. Please check your connection and try again.";showErrorState("rosterGrid",c,initApp),showErrorState("girlsGrid",c,initApp),showErrorState("homeImages",c,initApp),removeSkeletons();return}let r=!1;if(d){const c=getCachedCalSha(),u=normalizeCalData(d);(!n||c!==calSha||i)&&(calData=u,r=!0,updateCalCache())}if(n?(s||r)&&(fullRender(),document.getElementById("profilePage").classList.contains("active")&&showProfile(currentProfileIdx)):(fullRenderAndRoute(),removeSkeletons()),typeof applyLang=="function")try{applyLang()}catch{}}catch(e){console.error("Init error:",e),removeSkeletons();const a=typeof t=="function"?t("ui.loadFailed"):"Unable to load data. Please check your connection and try again.";showErrorState("rosterGrid",a,initApp),showErrorState("girlsGrid",a,initApp),showErrorState("homeImages",a,initApp)}}initApp();
