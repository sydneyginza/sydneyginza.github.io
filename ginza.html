<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ginza - Girls</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');

*{margin:0;padding:0;box-sizing:border-box}
:root{--accent:#b44aff;--accent2:#ff6f00;--bg-dark:#0a0a0f;--bg-card:rgba(255,255,255,0.04);--text:#e0e0e0;--text-dim:#888}
body{background:var(--bg-dark);color:var(--text);font-family:'Rajdhani',sans-serif;overflow-x:hidden;min-height:100vh}

nav{position:fixed;top:0;left:0;width:100%;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:0 40px;height:70px;background:rgba(10,10,15,0.85);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,0.06)}
.logo{font-family:'Orbitron',sans-serif;font-weight:900;font-size:22px;letter-spacing:4px;color:#fff;text-transform:uppercase}
.logo span{color:var(--accent)}
.nav-right{display:flex;gap:24px;align-items:center}
.nav-links{display:flex;gap:32px;align-items:center}
.nav-links a{color:var(--text-dim);text-decoration:none;font-family:'Rajdhani',sans-serif;font-weight:500;font-size:15px;letter-spacing:2px;text-transform:uppercase;transition:color .3s;position:relative;cursor:pointer}
.nav-links a:hover,.nav-links a.active{color:#fff}
.nav-links a.active::after{content:'';position:absolute;bottom:-4px;left:0;width:100%;height:2px;background:var(--accent)}

.login-icon-btn{width:38px;height:38px;background:var(--bg-card);border:1px solid rgba(255,255,255,0.1);border-radius:50%;color:var(--text-dim);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s;position:relative}
.login-icon-btn:hover{border-color:var(--accent);color:var(--accent)}
.login-icon-btn.logged-in{border-color:var(--accent);color:var(--accent)}
.login-icon-btn svg{width:18px;height:18px;fill:currentColor}

.user-dropdown{position:absolute;top:calc(100% + 10px);right:0;background:#16161e;border:1px solid rgba(255,255,255,0.1);min-width:200px;opacity:0;pointer-events:none;transform:translateY(-6px);transition:all .25s;clip-path:polygon(0 0,calc(100% - 12px) 0,100% 12px,100% 100%,12px 100%,0 calc(100% - 12px));z-index:110}
.user-dropdown.open{opacity:1;pointer-events:all;transform:translateY(0)}
.dropdown-header{padding:16px 18px 12px;border-bottom:1px solid rgba(255,255,255,0.06)}
.dropdown-header .label{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-bottom:4px}
.dropdown-header .user{font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:2px;color:var(--accent)}
.dropdown-item{display:block;width:100%;padding:12px 18px;background:none;border:none;color:var(--text-dim);font-family:'Rajdhani',sans-serif;font-size:14px;letter-spacing:1px;text-align:left;cursor:pointer;transition:all .2s}
.dropdown-item:hover{background:rgba(255,255,255,0.04);color:#fff}
.dropdown-item.danger{color:#ff4444}
.dropdown-item.danger:hover{background:rgba(255,68,68,0.08)}

.login-form-inline{padding:16px 18px}
.login-form-inline .lf-title{font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:3px;text-transform:uppercase;color:#fff;margin-bottom:14px}
.login-form-inline .lf-group{margin-bottom:10px}
.login-form-inline .lf-label{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-bottom:4px;display:block}
.login-form-inline .lf-input{width:100%;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);color:#fff;font-family:'Rajdhani',sans-serif;font-size:14px;padding:8px 10px;transition:border-color .3s;outline:none}
.login-form-inline .lf-input:focus{border-color:var(--accent)}
.login-form-inline .lf-btn{width:100%;margin-top:12px;background:rgba(180,74,255,0.12);border:1px solid var(--accent);color:var(--accent);font-family:'Rajdhani',sans-serif;font-size:13px;font-weight:600;letter-spacing:2px;text-transform:uppercase;padding:10px;cursor:pointer;transition:all .3s}
.login-form-inline .lf-btn:hover{background:rgba(180,74,255,0.22)}
.login-form-inline .lf-error{color:#ff4444;font-size:12px;text-align:center;margin-top:8px;min-height:16px}

.page{display:none}.page.active{display:block}

.section{padding:100px 40px;padding-top:120px;max-width:1400px;margin:0 auto}
.section-header{display:flex;align-items:center;gap:20px;margin-bottom:60px}
.section-line{width:60px;height:1px;background:var(--accent)}
.section-tag{font-family:'Orbitron',sans-serif;font-size:11px;letter-spacing:6px;text-transform:uppercase;color:var(--accent)}
.section-title{font-family:'Orbitron',sans-serif;font-weight:700;font-size:clamp(28px,4vw,48px);letter-spacing:4px;text-transform:uppercase;color:#fff}

.filter-bar{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:40px;align-items:center}
.filter-btn,.add-btn{background:var(--bg-card);border:1px solid rgba(255,255,255,0.08);color:var(--text-dim);font-family:'Rajdhani',sans-serif;font-size:14px;font-weight:500;letter-spacing:2px;text-transform:uppercase;padding:10px 24px;cursor:pointer;transition:all .3s;clip-path:polygon(0 0,calc(100% - 10px) 0,100% 10px,100% 100%,10px 100%,0 calc(100% - 10px))}
.filter-btn:hover,.filter-btn.active{background:rgba(180,74,255,0.1);border-color:var(--accent);color:var(--accent)}
.add-btn{background:rgba(180,74,255,0.08);border-color:var(--accent);color:var(--accent);margin-left:auto}
.add-btn:hover{background:rgba(180,74,255,0.2)}

.girls-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}
.girl-card{position:relative;cursor:pointer;background:var(--bg-card);border:1px solid rgba(255,255,255,0.06);overflow:hidden;transition:all .4s;clip-path:polygon(0 0,calc(100% - 16px) 0,100% 16px,100% 100%,16px 100%,0 calc(100% - 16px))}
.girl-card:hover{border-color:var(--accent);transform:translateY(-6px);box-shadow:0 20px 60px rgba(180,74,255,0.1)}
.card-img{width:100%;aspect-ratio:3/4;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
.card-img .silhouette{width:60%;height:80%;background:radial-gradient(ellipse,rgba(255,255,255,0.06),transparent);border-radius:50% 50% 0 0;filter:blur(1px)}
.card-img img.card-thumb{width:100%;height:100%;object-fit:cover;position:absolute;inset:0;z-index:1}
.card-img::after{content:'';position:absolute;bottom:0;left:0;right:0;height:60%;background:linear-gradient(to top,var(--bg-dark),transparent);z-index:2}
.card-actions{position:absolute;top:10px;right:10px;display:flex;gap:6px;z-index:3;opacity:0;transition:opacity .3s}
.girl-card:hover .card-actions{opacity:1}
.card-action-btn{width:30px;height:30px;background:rgba(0,0,0,0.7);border:1px solid rgba(255,255,255,0.15);color:var(--text-dim);font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s;border-radius:2px}
.card-action-btn:hover{color:var(--accent);border-color:var(--accent)}
.card-action-btn.delete:hover{color:#ff4444;border-color:#ff4444}
.card-info{padding:16px;position:relative}
.card-name{font-family:'Orbitron',sans-serif;font-weight:600;font-size:14px;letter-spacing:2px;color:#fff;text-transform:uppercase}
.card-country{font-size:12px;color:var(--text-dim);letter-spacing:1px;margin-top:4px}
.card-hover-line{position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--accent);transition:width .4s}
.girl-card:hover .card-hover-line{width:100%}

/* Profile Page */
.profile-page{padding:100px 40px;padding-top:120px;max-width:1200px;margin:0 auto}
.back-btn{display:inline-flex;align-items:center;gap:10px;background:none;border:1px solid rgba(255,255,255,0.1);color:var(--text-dim);font-family:'Rajdhani',sans-serif;font-size:14px;font-weight:500;letter-spacing:2px;text-transform:uppercase;padding:10px 24px;cursor:pointer;transition:all .3s;clip-path:polygon(0 0,calc(100% - 10px) 0,100% 10px,100% 100%,10px 100%,0 calc(100% - 10px));margin-bottom:40px}
.back-btn:hover{border-color:var(--accent);color:var(--accent)}
.back-btn svg{width:16px;height:16px;fill:currentColor}

.profile-nav-rail{position:fixed;left:30px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:center;gap:16px;z-index:50}
.pnav-arrow{width:72px;height:72px;border-radius:50%;background:rgba(255,255,255,0.04);border:3px solid rgba(255,255,255,0.12);color:var(--text-dim);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}
.pnav-arrow:hover{border-color:var(--accent);color:var(--accent);background:rgba(180,74,255,0.06)}
.pnav-arrow svg{width:32px;height:32px;fill:currentColor}
.pnav-dots{display:flex;flex-direction:column;gap:12px;padding:8px 0}
.pnav-dot{width:72px;height:72px;border-radius:50%;border:3px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.03);overflow:hidden;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;position:relative}
.pnav-dot:hover{border-color:rgba(255,255,255,0.3)}
.pnav-dot.active{border-color:var(--accent);box-shadow:0 0 20px rgba(180,74,255,0.25)}
.pnav-dot .dot-inner{width:52px;height:52px;border-radius:50%;background:radial-gradient(ellipse,rgba(255,255,255,0.1),rgba(255,255,255,0.03));display:flex;align-items:center;justify-content:center;overflow:hidden}
.pnav-dot .dot-letter{font-family:'Orbitron',sans-serif;font-size:20px;font-weight:700;color:var(--text-dim);letter-spacing:0}
.pnav-dot.active .dot-letter{color:var(--accent)}
.pnav-dot .dot-inner img{width:100%;height:100%;object-fit:cover;border-radius:50%}
.pnav-counter{font-family:'Orbitron',sans-serif;font-size:16px;letter-spacing:2px;color:var(--text-dim);text-align:center;margin-top:4px}
.pnav-counter span{color:#fff}

.profile-layout{display:grid;grid-template-columns:380px 1fr;gap:50px}
.profile-image-area{position:relative}
.profile-main-img{aspect-ratio:3/4;background:linear-gradient(135deg,rgba(180,74,255,0.08),rgba(255,111,0,0.05));display:flex;align-items:center;justify-content:center;clip-path:polygon(0 0,calc(100% - 20px) 0,100% 20px,100% 100%,20px 100%,0 calc(100% - 20px));border:1px solid rgba(255,255,255,0.06);overflow:hidden;position:relative}
.profile-main-img .silhouette{width:55%;height:70%;background:radial-gradient(ellipse,rgba(255,255,255,0.08),transparent);border-radius:50% 50% 0 0}
.profile-main-img img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.profile-thumbs{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
.profile-thumb{width:56px;height:56px;border:2px solid rgba(255,255,255,0.1);cursor:pointer;overflow:hidden;transition:all .3s;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px))}
.profile-thumb:hover{border-color:rgba(255,255,255,0.3)}
.profile-thumb.active{border-color:var(--accent)}
.profile-thumb img{width:100%;height:100%;object-fit:cover}
.profile-thumb-add{width:56px;height:56px;border:2px dashed rgba(0,229,255,0.3);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px));color:var(--accent);font-size:22px}
.profile-thumb-add:hover{border-color:var(--accent);background:rgba(0,229,255,0.06)}
.profile-thumb-remove{position:absolute;top:2px;right:2px;width:18px;height:18px;background:rgba(0,0,0,0.8);border:1px solid rgba(255,68,68,0.5);color:#ff4444;font-size:11px;cursor:pointer;display:none;align-items:center;justify-content:center;border-radius:2px;z-index:2}
.thumb-wrap{position:relative;display:inline-block}
.thumb-wrap:hover .profile-thumb-remove{display:flex}
.photo-count{font-size:11px;letter-spacing:1px;color:var(--text-dim);margin-top:6px}
.photo-count span{color:var(--accent)}

.profile-details{padding-top:10px}
.profile-name{font-family:'Orbitron',sans-serif;font-weight:700;font-size:clamp(28px,4vw,42px);letter-spacing:5px;text-transform:uppercase;color:#fff;line-height:1.2}
.profile-meta{display:flex;gap:20px;margin:16px 0 32px;font-size:14px;letter-spacing:2px;text-transform:uppercase;align-items:center}
.profile-meta span{color:var(--accent)}
.profile-meta .dim{color:var(--text-dim)}
.profile-divider{width:60px;height:1px;background:var(--accent);margin-bottom:32px}
.profile-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;margin-bottom:40px}
.profile-stat{background:var(--bg-card);border:1px solid rgba(255,255,255,0.06);padding:20px;clip-path:polygon(0 0,calc(100% - 10px) 0,100% 10px,100% 100%,10px 100%,0 calc(100% - 10px))}
.profile-stat .p-label{font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);margin-bottom:6px}
.profile-stat .p-val{font-family:'Orbitron',sans-serif;font-size:18px;font-weight:600;color:#fff;letter-spacing:2px}
.profile-desc-title{font-family:'Orbitron',sans-serif;font-size:13px;letter-spacing:3px;text-transform:uppercase;color:var(--accent);margin-bottom:12px}
.profile-desc{color:var(--text-dim);font-size:16px;line-height:1.9}
.profile-actions{display:flex;gap:12px;margin-top:32px}

/* Lightbox */
.lightbox-overlay{position:fixed;inset:0;z-index:300;background:rgba(0,0,0,0.92);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s}
.lightbox-overlay.open{opacity:1;pointer-events:all}
.lightbox-overlay img{max-width:90vw;max-height:85vh;object-fit:contain;border:1px solid rgba(255,255,255,0.08)}
.lightbox-close{position:absolute;top:20px;right:30px;background:none;border:none;color:#fff;font-size:36px;cursor:pointer;z-index:5}
.lightbox-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,0.06);border:2px solid rgba(255,255,255,0.15);color:#fff;width:50px;height:50px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}
.lightbox-nav:hover{border-color:var(--accent);background:rgba(180,74,255,0.1)}
.lightbox-nav svg{width:24px;height:24px;fill:currentColor}
.lightbox-prev{left:20px}
.lightbox-next{right:20px}

/* Modals */
.modal-overlay{position:fixed;inset:0;z-index:200;background:rgba(0,0,0,0.85);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .4s}
.modal-overlay.open{opacity:1;pointer-events:all}
.form-modal{width:90%;max-width:600px;background:#111118;border:1px solid rgba(255,255,255,0.08);clip-path:polygon(0 0,calc(100% - 24px) 0,100% 24px,100% 100%,24px 100%,0 calc(100% - 24px));transform:scale(0.95);transition:transform .4s;max-height:90vh;overflow-y:auto;padding:40px}
.modal-overlay.open .form-modal{transform:scale(1)}
.modal-close{position:absolute;top:16px;right:20px;background:none;border:none;color:var(--text-dim);font-size:28px;cursor:pointer;z-index:5;transition:color .3s}
.modal-close:hover{color:#fff}
.form-title{font-family:'Orbitron',sans-serif;font-weight:700;font-size:22px;letter-spacing:3px;text-transform:uppercase;color:#fff;margin-bottom:30px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}
.form-row.full{grid-template-columns:1fr}
.form-group{display:flex;flex-direction:column;gap:6px}
.form-label{font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim)}
.form-input,.form-textarea{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);color:#fff;font-family:'Rajdhani',sans-serif;font-size:15px;padding:10px 14px;transition:border-color .3s;outline:none}
.form-input:focus,.form-textarea:focus{border-color:var(--accent)}
.form-textarea{min-height:120px;resize:vertical;line-height:1.6}
.form-actions{display:flex;gap:12px;margin-top:24px;justify-content:flex-end}
.btn{font-family:'Rajdhani',sans-serif;font-size:14px;font-weight:600;letter-spacing:2px;text-transform:uppercase;padding:12px 28px;cursor:pointer;transition:all .3s;border:1px solid;clip-path:polygon(0 0,calc(100% - 8px) 0,100% 8px,100% 100%,8px 100%,0 calc(100% - 8px))}
.btn-primary{background:rgba(180,74,255,0.15);border-color:var(--accent);color:var(--accent)}
.btn-primary:hover{background:rgba(180,74,255,0.25)}
.btn-secondary{background:rgba(255,255,255,0.04);border-color:rgba(255,255,255,0.15);color:var(--text-dim)}
.btn-secondary:hover{color:#fff;border-color:rgba(255,255,255,0.3)}
.btn-danger{background:rgba(255,68,68,0.1);border-color:#ff4444;color:#ff4444}
.btn-danger:hover{background:rgba(255,68,68,0.2)}

.particles{position:fixed;inset:0;pointer-events:none;z-index:0}
.particle{position:absolute;width:2px;height:2px;background:var(--accent);border-radius:50%;opacity:0;animation:float linear infinite}
@keyframes float{0%{opacity:0;transform:translateY(100vh)}10%{opacity:.6}90%{opacity:.6}100%{opacity:0;transform:translateY(-10vh)}}

footer{text-align:center;padding:60px 40px;border-top:1px solid rgba(255,255,255,0.04)}
footer p{font-size:12px;letter-spacing:3px;text-transform:uppercase;color:var(--text-dim)}

@media(max-width:768px){
  nav{padding:0 20px}
  .nav-links{gap:16px}.nav-links a{font-size:12px}
  .section{padding:60px 20px;padding-top:100px}
  .girls-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
  .profile-page{padding:80px 20px;padding-left:80px}
  .profile-layout{grid-template-columns:1fr;gap:30px}
  .profile-main-img{max-width:320px}
  .profile-stats{grid-template-columns:1fr 1fr}
  .profile-nav-rail{left:10px}
  .pnav-dot,.pnav-arrow{width:52px;height:52px}
  .pnav-dot .dot-inner{width:38px;height:38px}
  .pnav-dot .dot-letter{font-size:15px}
  .pnav-arrow svg{width:24px;height:24px}
  .form-row{grid-template-columns:1fr}
  .form-modal{padding:24px}
}
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<nav>
  <div class="logo">GIN<span>ZA</span></div>
  <div class="nav-right">
    <div class="nav-links"><a href="#" class="active" id="navGirls">Girls</a></div>
    <div style="position:relative">
      <button class="login-icon-btn" id="loginIconBtn"><svg viewBox="0 0 24 24"><path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z"/></svg></button>
      <div class="user-dropdown" id="userDropdown"></div>
    </div>
  </div>
</nav>

<div class="page active" id="listPage">
  <section class="section">
    <div class="section-header"><div class="section-line"></div><div><div class="section-tag">Ginza</div><div class="section-title">Girls</div></div></div>
    <div class="filter-bar" id="filterBar"></div>
    <div class="girls-grid" id="girlsGrid"></div>
  </section>
</div>

<div class="page" id="profilePage">
  <div class="profile-nav-rail" id="profileNavRail"></div>
  <div class="profile-page" id="profileContent"></div>
</div>

<!-- Lightbox -->
<div class="lightbox-overlay" id="lightbox">
  <button class="lightbox-close" id="lbClose">&times;</button>
  <button class="lightbox-nav lightbox-prev" id="lbPrev"><svg viewBox="0 0 24 24"><path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6z"/></svg></button>
  <img id="lbImg" src="">
  <button class="lightbox-nav lightbox-next" id="lbNext"><svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg></button>
</div>

<!-- Form Modal -->
<div class="modal-overlay" id="formOverlay">
  <div class="form-modal">
    <button class="modal-close" id="formClose">&times;</button>
    <div class="form-title" id="formTitle">Add New Girl</div>
    <input type="hidden" id="editIndex" value="-1">
    <div class="form-row">
      <div class="form-group"><label class="form-label">Name</label><input class="form-input" id="fName" placeholder="Character name"></div>
      <div class="form-group"><label class="form-label">Location</label><input class="form-input" id="fLocation" placeholder="e.g. Empire, Club"></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label class="form-label">Country</label><input class="form-input" id="fCountry" placeholder="e.g. Japanese"></div>
      <div class="form-group"><label class="form-label">Age</label><input class="form-input" id="fAge" type="number" min="0" placeholder="e.g. 23"></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label class="form-label">Body Size</label><input class="form-input" id="fBody" type="number" min="0" placeholder="e.g. 6"></div>
      <div class="form-group"><label class="form-label">Height (cm)</label><input class="form-input" id="fHeight" type="number" min="0" placeholder="e.g. 162"></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label class="form-label">Cup Size</label><input class="form-input" id="fCup" placeholder="e.g. B-C"></div>
      <div class="form-group"></div>
    </div>
    <div class="form-row full">
      <div class="form-group">
        <label class="form-label">Photos <span style="color:var(--text-dim);font-weight:400" id="fPhotoCount">(0 / 10)</span></label>
        <div id="fPhotoGrid" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:4px"></div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group"><label class="form-label">Language</label><input class="form-input" id="fLang" placeholder="e.g. Japanese, English"></div>
      <div class="form-group"><label class="form-label">Type</label><input class="form-input" id="fType" placeholder="e.g. Full Service"></div>
    </div>
    <div class="form-row full">
      <div class="form-group"><label class="form-label">Description</label><textarea class="form-textarea" id="fDesc" placeholder="Character description..."></textarea></div>
    </div>
    <div class="form-actions">
      <button class="btn btn-secondary" id="formCancel">Cancel</button>
      <button class="btn btn-primary" id="formSave">Save</button>
    </div>
  </div>
</div>

<!-- Delete Confirm -->
<div class="modal-overlay" id="deleteOverlay">
  <div class="form-modal" style="max-width:420px;text-align:center">
    <div class="form-title" style="margin-bottom:12px">Confirm Delete</div>
    <p style="color:var(--text-dim);margin-bottom:28px;font-size:15px" id="deleteMsg">Are you sure?</p>
    <div class="form-actions" style="justify-content:center">
      <button class="btn btn-secondary" id="deleteCancel">Cancel</button>
      <button class="btn btn-danger" id="deleteConfirm">Delete</button>
    </div>
  </div>
</div>

<footer><p>Ginza &copy; 2026 — All Rights Reserved</p></footer>

<script>
const CRED={user:'admin',pass:'UpdAtEr2dAyOstEr'};
const GITHUB_TOKEN='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'; 
const GITHUB_REPO='sydneyginza.github.io';
const GITHUB_API=`https://api.github.com/repos/${GITHUB_REPO}/contents`;
let loggedIn=false;
const MAX_PHOTOS=10;

async function uploadToGithub(base64Data,profileName,fileName){
  const path=`Images/${profileName}/${fileName}`;
  const pure=base64Data.split(',')[1];
  // Check if file exists first
  let sha;
  try{
    const check=await fetch(`${GITHUB_API}/${path}`,{headers:{'Authorization':`token ${GITHUB_TOKEN}`}});
    if(check.ok){const d=await check.json();sha=d.sha}
  }catch(e){}
  const body={message:`Upload ${path}`,content:pure};
  if(sha)body.sha=sha;
  const res=await fetch(`${GITHUB_API}/${path}`,{
    method:'PUT',
    headers:{'Authorization':`token ${GITHUB_TOKEN}`,'Content-Type':'application/json'},
    body:JSON.stringify(body)
  });
  if(!res.ok)throw new Error(`GitHub upload failed: ${res.status}`);
  const data=await res.json();
  return data.content.download_url;
}

async function deleteFromGithub(url){
  try{
    // Extract path from download URL
    const match=url.match(/githubusercontent\.com\/[^/]+\/[^/]+\/[^/]+\/(.+)/);
    if(!match)return;
    const path=decodeURIComponent(match[1]);
    const check=await fetch(`${GITHUB_API}/${path}`,{headers:{'Authorization':`token ${GITHUB_TOKEN}`}});
    if(!check.ok)return;
    const d=await check.json();
    await fetch(`${GITHUB_API}/${path}`,{
      method:'DELETE',
      headers:{'Authorization':`token ${GITHUB_TOKEN}`,'Content-Type':'application/json'},
      body:JSON.stringify({message:`Delete ${path}`,sha:d.sha})
    });
  }catch(e){console.error('GitHub delete error:',e)}
}

function generateFileName(){return 'img_'+Date.now()+'_'+Math.random().toString(36).substr(2,6)+'.jpg'}

// Track original file names for new uploads
let formNewFiles=[];

let girls=[
  {name:"Vanilla",location:"Empire",country:"Japanese",age:"19",body:"6",height:"153",cup:"B",lang:"",type:"",desc:"abc",photos:[]},
  {name:"Yuyu",location:"Club",country:"Japanese",age:"23",body:"6",height:"162",cup:"B-C",lang:"",type:"",desc:"123",photos:[]},
];
let activeLocation="All",deleteTarget=-1,currentProfileIdx=0;

const listPage=document.getElementById('listPage');
const profilePage=document.getElementById('profilePage');
const profileContent=document.getElementById('profileContent');

function showList(){profilePage.classList.remove('active');listPage.classList.add('active');window.scrollTo(0,0)}

// Lightbox
let lbPhotos=[],lbIdx=0;
const lightbox=document.getElementById('lightbox');
const lbImg=document.getElementById('lbImg');
document.getElementById('lbClose').onclick=()=>lightbox.classList.remove('open');
lightbox.onclick=e=>{if(e.target===lightbox)lightbox.classList.remove('open')};
document.getElementById('lbPrev').onclick=()=>{lbIdx=(lbIdx-1+lbPhotos.length)%lbPhotos.length;lbImg.src=lbPhotos[lbIdx]};
document.getElementById('lbNext').onclick=()=>{lbIdx=(lbIdx+1)%lbPhotos.length;lbImg.src=lbPhotos[lbIdx]};
function openLightbox(photos,idx){lbPhotos=photos;lbIdx=idx;lbImg.src=photos[idx];lightbox.classList.add('open')}

// Profile Nav
function renderProfileNav(idx){
  const rail=document.getElementById('profileNavRail');
  const total=girls.length;
  rail.innerHTML='';
  const upBtn=document.createElement('button');
  upBtn.className='pnav-arrow';
  upBtn.innerHTML='<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>';
  upBtn.onclick=()=>showProfile(idx<=0?total-1:idx-1);
  rail.appendChild(upBtn);
  const dots=document.createElement('div');dots.className='pnav-dots';
  const mx=5;let st=Math.max(0,idx-Math.floor(mx/2)),en=Math.min(total,st+mx);
  if(en-st<mx)st=Math.max(0,en-mx);
  for(let i=st;i<en;i++){
    const d=document.createElement('button');d.className='pnav-dot'+(i===idx?' active':'');
    const g=girls[i];
    if(g.photos&&g.photos.length>0){
      d.innerHTML=`<div class="dot-inner"><img src="${g.photos[0]}"></div>`;
    } else {
      d.innerHTML=`<div class="dot-inner"><span class="dot-letter">${g.name.charAt(0)}</span></div>`;
    }
    d.onclick=()=>showProfile(i);dots.appendChild(d);
  }
  rail.appendChild(dots);
  const ctr=document.createElement('div');ctr.className='pnav-counter';
  ctr.innerHTML=`<span>${idx+1}</span> / ${total}`;rail.appendChild(ctr);
  const dnBtn=document.createElement('button');dnBtn.className='pnav-arrow';
  dnBtn.innerHTML='<svg viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"/></svg>';
  dnBtn.onclick=()=>showProfile(idx>=total-1?0:idx+1);
  rail.appendChild(dnBtn);
}

function showProfile(idx){
  const g=girls[idx];if(!g)return;
  currentProfileIdx=idx;
  if(!g.photos)g.photos=[];
  const mainImg=g.photos.length>0?`<img src="${g.photos[0]}">`:'<div class="silhouette"></div>';
  const adminBtns=loggedIn?`<div class="profile-actions"><button class="btn btn-primary" id="profEdit">Edit Profile</button><button class="btn btn-danger" id="profDelete">Delete</button></div>`:'';

  profileContent.innerHTML=`
    <button class="back-btn" id="backBtn"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>Back to Roster</button>
    <div class="profile-layout">
      <div class="profile-image-area">
        <div class="profile-main-img" id="profMainImg">${mainImg}</div>
        <div class="profile-thumbs" id="profThumbs"></div>

      </div>
      <div class="profile-details">
        <div class="profile-name">${g.name}</div>
        <div class="profile-meta"><span>${g.location}</span><span class="dim">|</span><span>${g.country}</span></div>
        <div class="profile-divider"></div>
        <div class="profile-stats">
          <div class="profile-stat"><div class="p-label">Age</div><div class="p-val">${g.age}</div></div>
          <div class="profile-stat"><div class="p-label">Body Size</div><div class="p-val">${g.body}</div></div>
          <div class="profile-stat"><div class="p-label">Height</div><div class="p-val">${g.height} cm</div></div>
          <div class="profile-stat"><div class="p-label">Cup Size</div><div class="p-val">${g.cup}</div></div>
        </div>
        <div class="profile-desc-title">Language</div>
        <div class="profile-desc" style="margin-bottom:24px">${g.lang||'—'}</div>
        <div class="profile-desc-title">Type</div>
        <div class="profile-desc" style="margin-bottom:24px">${g.type||'—'}</div>
        <div class="profile-desc-title">Description</div>
        <div class="profile-desc">${g.desc}</div>
        ${adminBtns}
      </div>
    </div>`;
  document.getElementById('backBtn').onclick=showList;
  if(loggedIn){
    document.getElementById('profEdit').onclick=()=>openForm(idx);
    document.getElementById('profDelete').onclick=()=>openDelete(idx);
  }
  renderThumbs(idx);
  renderProfileNav(idx);
  listPage.classList.remove('active');profilePage.classList.add('active');window.scrollTo(0,0);
}

function renderThumbs(idx){
  const g=girls[idx];
  const container=document.getElementById('profThumbs');
  container.innerHTML='';
  g.photos.forEach((src,i)=>{
    const wrap=document.createElement('div');wrap.className='thumb-wrap';
    const thumb=document.createElement('div');thumb.className='profile-thumb'+(i===0?' active':'');
    thumb.innerHTML=`<img src="${src}">`;
    thumb.onclick=()=>{
      document.getElementById('profMainImg').innerHTML=`<img src="${src}">`;
      container.querySelectorAll('.profile-thumb').forEach(t=>t.classList.remove('active'));
      thumb.classList.add('active');
    };
    thumb.ondblclick=()=>openLightbox(g.photos,i);
    wrap.appendChild(thumb);
    if(loggedIn){
      const rm=document.createElement('button');rm.className='profile-thumb-remove';rm.innerHTML='✕';
      rm.onclick=async e=>{e.stopPropagation();const url=g.photos[i];if(GITHUB_TOKEN&&(url.includes('githubusercontent.com')||url.includes('github.com'))){await deleteFromGithub(url)}g.photos.splice(i,1);showProfile(idx);renderGrid()};
      wrap.appendChild(rm);
    }
    container.appendChild(wrap);
  });
}

function pickPhotos(idx){
  const g=girls[idx];
  const remaining=MAX_PHOTOS-g.photos.length;
  if(remaining<=0)return;
  const inp=document.createElement('input');inp.type='file';inp.accept='image/*';inp.multiple=true;
  inp.onchange=e=>{
    const files=Array.from(e.target.files).slice(0,remaining);
    let loaded=0;
    files.forEach(f=>{
      const r=new FileReader();
      r.onload=ev=>{g.photos.push(ev.target.result);loaded++;if(loaded===files.length){showProfile(idx);renderGrid()}};
      r.readAsDataURL(f);
    });
  };
  inp.click();
}

document.getElementById('navGirls').onclick=e=>{e.preventDefault();showList()};

// Auth
const loginIconBtn=document.getElementById('loginIconBtn');
const userDropdown=document.getElementById('userDropdown');
function renderDropdown(){
  if(loggedIn){
    loginIconBtn.classList.add('logged-in');
    userDropdown.innerHTML=`<div class="dropdown-header"><div class="label">Signed in as</div><div class="user">ADMIN</div></div><button class="dropdown-item danger" id="logoutBtn">Sign Out</button>`;
    document.getElementById('logoutBtn').onclick=()=>{loggedIn=false;loginIconBtn.classList.remove('logged-in');userDropdown.classList.remove('open');renderDropdown();renderFilters();renderGrid();if(profilePage.classList.contains('active'))showProfile(currentProfileIdx)};
  } else {
    loginIconBtn.classList.remove('logged-in');
    userDropdown.innerHTML=`<div class="login-form-inline"><div class="lf-title">Sign In</div><div class="lf-group"><label class="lf-label">Username</label><input class="lf-input" id="lfUser" placeholder="Username" autocomplete="off"></div><div class="lf-group"><label class="lf-label">Password</label><input class="lf-input" id="lfPass" type="password" placeholder="Password"></div><button class="lf-btn" id="lfBtn">Access</button><div class="lf-error" id="lfError"></div></div>`;
    document.getElementById('lfBtn').onclick=doLogin;
    document.getElementById('lfPass').addEventListener('keydown',e=>{if(e.key==='Enter')doLogin()});
    document.getElementById('lfUser').addEventListener('keydown',e=>{if(e.key==='Enter')document.getElementById('lfPass').focus()});
  }
}
function doLogin(){
  const u=document.getElementById('lfUser').value.trim(),p=document.getElementById('lfPass').value;
  if(u===CRED.user&&p===CRED.pass){loggedIn=true;renderDropdown();renderFilters();renderGrid();if(profilePage.classList.contains('active'))showProfile(currentProfileIdx);setTimeout(()=>userDropdown.classList.remove('open'),600)}
  else{document.getElementById('lfError').textContent='Invalid credentials.';document.getElementById('lfPass').value=''}
}
loginIconBtn.onclick=e=>{e.stopPropagation();userDropdown.classList.toggle('open')};
document.addEventListener('click',e=>{if(!e.target.closest('#userDropdown')&&!e.target.closest('#loginIconBtn'))userDropdown.classList.remove('open')});
renderDropdown();

// Particles
const particlesEl=document.getElementById('particles');
for(let i=0;i<30;i++){const p=document.createElement('div');p.className='particle';p.style.left=Math.random()*100+'%';p.style.animationDuration=(8+Math.random()*12)+'s';p.style.animationDelay=Math.random()*10+'s';p.style.width=p.style.height=(1+Math.random()*2)+'px';particlesEl.appendChild(p)}

// Filters
function renderFilters(){
  const locs=["All",...new Set(girls.map(g=>g.location))];
  const fb=document.getElementById('filterBar');fb.innerHTML='';
  locs.forEach(c=>{const b=document.createElement('button');b.className='filter-btn'+(c===activeLocation?' active':'');b.textContent=c;b.onclick=()=>{activeLocation=c;renderFilters();renderGrid()};fb.appendChild(b)});
  if(loggedIn){const ab=document.createElement('button');ab.className='add-btn';ab.innerHTML='+ Add Girl';ab.onclick=()=>openForm();fb.appendChild(ab)}
}
renderFilters();

// Grid
const grid=document.getElementById('girlsGrid');
function renderGrid(){
  const filtered=activeLocation==='All'?girls:girls.filter(g=>g.location===activeLocation);
  grid.innerHTML='';
  filtered.forEach(g=>{
    const ri=girls.indexOf(g);const card=document.createElement('div');card.className='girl-card';
    const actHtml=loggedIn?`<div class="card-actions"><button class="card-action-btn edit" title="Edit" data-idx="${ri}">✎</button><button class="card-action-btn delete" title="Delete" data-idx="${ri}">✕</button></div>`:'';
    const thumbImg=g.photos&&g.photos.length>0?`<img class="card-thumb" src="${g.photos[0]}">`:'<div class="silhouette"></div>';
    card.innerHTML=`<div class="card-img" style="background:linear-gradient(135deg,rgba(180,74,255,0.06),rgba(255,111,0,0.03))">${thumbImg}${actHtml}</div><div class="card-info"><div class="card-name">${g.name}</div><div class="card-country">${g.country}</div><div class="card-hover-line"></div></div>`;
    card.onclick=e=>{if(e.target.closest('.card-action-btn'))return;showProfile(ri)};
    if(loggedIn){card.querySelector('.edit').onclick=e=>{e.stopPropagation();openForm(ri)};card.querySelector('.delete').onclick=e=>{e.stopPropagation();openDelete(ri)}}
    grid.appendChild(card);
  });
}
renderGrid();

// Form
const formOverlay=document.getElementById('formOverlay');
const formFields=['fName','fLocation','fCountry','fAge','fBody','fHeight','fCup','fLang','fType','fDesc'];
document.getElementById('formClose').onclick=()=>formOverlay.classList.remove('open');
document.getElementById('formCancel').onclick=()=>formOverlay.classList.remove('open');
formOverlay.onclick=e=>{if(e.target===formOverlay)formOverlay.classList.remove('open')};
let formPhotos=[];

function renderFormPhotos(){
  const grid=document.getElementById('fPhotoGrid');
  const count=document.getElementById('fPhotoCount');
  grid.innerHTML='';
  count.textContent=`(${formPhotos.length} / ${MAX_PHOTOS})`;
  formPhotos.forEach((src,i)=>{
    const wrap=document.createElement('div');wrap.style.cssText='position:relative;display:inline-block';
    const thumb=document.createElement('div');thumb.style.cssText='width:64px;height:64px;border:2px solid rgba(255,255,255,0.1);overflow:hidden;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px))';
    thumb.innerHTML=`<img src="${src}" style="width:100%;height:100%;object-fit:cover">`;
    const rm=document.createElement('button');rm.style.cssText='position:absolute;top:1px;right:1px;width:18px;height:18px;background:rgba(0,0,0,0.85);border:1px solid rgba(255,68,68,0.5);color:#ff4444;font-size:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:2px;z-index:2';
    rm.innerHTML='✕';rm.onclick=()=>{formPhotos.splice(i,1);renderFormPhotos()};
    wrap.appendChild(thumb);wrap.appendChild(rm);grid.appendChild(wrap);
  });
  if(formPhotos.length<MAX_PHOTOS){
    const addBtn=document.createElement('div');
    addBtn.style.cssText='width:64px;height:64px;border:2px dashed rgba(180,74,255,0.3);display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--accent);font-size:22px;clip-path:polygon(0 0,calc(100% - 6px) 0,100% 6px,100% 100%,6px 100%,0 calc(100% - 6px));transition:all .3s';
    addBtn.innerHTML='+';
    addBtn.onmouseenter=()=>{addBtn.style.borderColor='var(--accent)';addBtn.style.background='rgba(180,74,255,0.06)'};
    addBtn.onmouseleave=()=>{addBtn.style.borderColor='rgba(180,74,255,0.3)';addBtn.style.background='none'};
    addBtn.onclick=()=>{
      const remaining=MAX_PHOTOS-formPhotos.length;if(remaining<=0)return;
      const inp=document.createElement('input');inp.type='file';inp.accept='image/*';inp.multiple=true;
      inp.onchange=e=>{
        const files=Array.from(e.target.files).slice(0,remaining);let loaded=0;
        files.forEach(f=>{const r=new FileReader();r.onload=ev=>{formPhotos.push(ev.target.result);loaded++;if(loaded===files.length)renderFormPhotos()};r.readAsDataURL(f)});
      };inp.click();
    };
    grid.appendChild(addBtn);
  }
}

function openForm(idx=-1){
  document.getElementById('editIndex').value=idx;
  if(idx>=0){
    document.getElementById('formTitle').textContent='Edit Profile';const g=girls[idx];
    document.getElementById('fName').value=g.name;document.getElementById('fLocation').value=g.location;document.getElementById('fCountry').value=g.country;document.getElementById('fAge').value=g.age;document.getElementById('fBody').value=g.body;document.getElementById('fHeight').value=g.height;document.getElementById('fCup').value=g.cup;document.getElementById('fLang').value=g.lang||'';document.getElementById('fType').value=g.type||'';document.getElementById('fDesc').value=g.desc;
    formPhotos=[...(g.photos||[])];
  } else {
    document.getElementById('formTitle').textContent='Add New Girl';formFields.forEach(id=>document.getElementById(id).value='');
    formPhotos=[];
  }
  renderFormPhotos();
  formOverlay.classList.add('open');
}
document.getElementById('formSave').onclick=()=>{
  const name=document.getElementById('fName').value.trim();
  if(!name){document.getElementById('fName').focus();return}
  const o={name:name,location:document.getElementById('fLocation').value.trim(),country:document.getElementById('fCountry').value.trim(),age:document.getElementById('fAge').value.trim(),body:document.getElementById('fBody').value.trim(),height:document.getElementById('fHeight').value.trim(),cup:document.getElementById('fCup').value.trim(),lang:document.getElementById('fLang').value.trim(),type:document.getElementById('fType').value.trim(),desc:document.getElementById('fDesc').value.trim(),photos:[...formPhotos]};
  const idx=parseInt(document.getElementById('editIndex').value);
  if(idx>=0){girls[idx]=o}else{girls.push(o)}
  formOverlay.classList.remove('open');renderFilters();renderGrid();
  if(profilePage.classList.contains('active')&&idx>=0)showProfile(idx)
};

// Delete
const deleteOverlay=document.getElementById('deleteOverlay');
document.getElementById('deleteCancel').onclick=()=>deleteOverlay.classList.remove('open');
deleteOverlay.onclick=e=>{if(e.target===deleteOverlay)deleteOverlay.classList.remove('open')};
function openDelete(idx){deleteTarget=idx;document.getElementById('deleteMsg').textContent=`Remove "${girls[idx].name}" from the roster?`;deleteOverlay.classList.add('open')}
document.getElementById('deleteConfirm').onclick=async()=>{
  if(deleteTarget>=0){
    const g=girls[deleteTarget];
    // Delete photos from GitHub
    if(g.photos&&GITHUB_TOKEN){for(const url of g.photos){if(url.includes('githubusercontent.com')||url.includes('github.com')){await deleteFromGithub(url)}}}
    girls.splice(deleteTarget,1);deleteTarget=-1;deleteOverlay.classList.remove('open');renderFilters();renderGrid();
    if(profilePage.classList.contains('active'))showList()
  }
};
</script>
</body>
</html>
